{"version":3,"sources":["@glimmer/test-helpers/index.ts","@glimmer/test-helpers/lib/abstract-test-case.ts","@glimmer/test-helpers/lib/environment.ts","@glimmer/test-helpers/lib/helpers.ts","glimmer-benchmarks/index.ts"],"sourcesContent":["export {\n  compile,\n  compileLayout,\n  equalInnerHTML,\n  equalHTML,\n  equalTokens,\n  generateSnapshot,\n  equalSnapshots,\n  normalizeInnerHTML,\n  isCheckedInputHTML,\n  getTextContent,\n  strip,\n  stripTight,\n  trimLines\n} from './lib/helpers';\n\nexport {\n  Attrs,\n  BasicComponent,\n  EmberishCurlyComponent,\n  EmberishGlimmerComponent,\n  TestModifierManager,\n  TestEnvironment,\n  TestDynamicScope,\n  equalsElement,\n  inspectHooks,\n  regex,\n  classes\n} from './lib/environment';\n\nexport {\n  VersionedObject,\n  testModule,\n  template,\n  RenderingTest,\n  SimpleRootReference\n} from './lib/abstract-test-case';\n\ndeclare global {\n  interface QUnit {\n    equiv(left: any, right: any, message?: string): boolean;\n    deepEqual(left: any, right: any, message?: string): void;\n    strictEqual(left: any, right: any, message?: string): void;\n    equal(left: any, right: any, message?: string): void;\n  }\n}","import { PathReference, Tagged, Revision, RevisionTag, DirtyableTag } from '@glimmer/reference';\nimport { Template, RenderResult, Simple } from '@glimmer/runtime';\nimport {\n  TestEnvironment,\n  TestDynamicScope\n} from './environment';\nimport { Opaque } from '@glimmer/util';\nimport { assign } from './helpers';\n\nexport function skip(target: Object, name: string, descriptor: PropertyDescriptor) {\n  descriptor.value['skip'] = true;\n}\n\nexport class VersionedObject implements Tagged<Revision> {\n  public tag: DirtyableTag;\n  public value: Object;\n\n  constructor(value: Object) {\n    this.tag = new DirtyableTag();\n    assign(this, value);\n  }\n\n  update(value: Object) {\n    assign(this, value);\n    this.dirty();\n  }\n\n  set(key: string, value: Opaque) {\n    this[key] = value;\n    this.dirty();\n  }\n\n  dirty() {\n    this.tag.dirty();\n  }\n}\n\nexport class SimpleRootReference implements PathReference<Opaque> {\n  public tag: RevisionTag;\n\n  constructor(private object: VersionedObject) {\n    this.tag = object.tag;\n  }\n\n  get(key: string): PathReference<Opaque> {\n    return new SimplePathReference(this, key);\n  }\n\n  value(): Object {\n    return this.object;\n  }\n}\n\nclass SimplePathReference implements PathReference<Opaque> {\n  public tag: RevisionTag;\n\n  constructor(private parent: PathReference<Opaque>, private key: string) {\n    this.tag = parent.tag;\n  }\n\n  get(key: string): SimplePathReference {\n    return new SimplePathReference(this, key);\n  }\n\n  value() {\n    return this.parent.value()[this.key];\n  }\n}\n\nfunction isMarker(node) {\n  if (node instanceof Comment && node.textContent === '') {\n    return true;\n  }\n\n  if (node instanceof Text && node.textContent === '') {\n    return true;\n  }\n\n  return false;\n}\n\nexport class RenderingTest {\n  public template: Template<{}>;\n  protected context: VersionedObject = null;\n  private result: RenderResult = null;\n  public snapshot: Element[];\n  public element: Node;\n  public assert: QUnit['assert'];\n\n  constructor(protected env: TestEnvironment = new TestEnvironment(), template: string, private appendTo: Simple.Element) {\n    this.template = this.env.compile(template);\n    this.assert = QUnit.config.current.assert;\n  }\n\n  teardown() {}\n\n  render(context: Object) {\n    this.env.begin();\n    let dynamicScope = new TestDynamicScope();\n    let appendTo = this.appendTo;\n    let rootObject = new VersionedObject(context);\n    let root = new SimpleRootReference(rootObject);\n\n    this.context = rootObject;\n    this.result = this.template.render(root, appendTo, dynamicScope);\n    this.env.commit();\n    this.element = document.getElementById('qunit-fixture').firstChild;\n  }\n  assertContent(expected: string, message?: string) {\n    let actual = document.getElementById('qunit-fixture').innerHTML;\n    QUnit.equal(actual, expected);\n  }\n\n  takeSnapshot() {\n    let snapshot = this.snapshot = [];\n    let node = this.element.firstChild;\n\n    while (node) {\n      if (!isMarker(node)) {\n        snapshot.push(node);\n      }\n\n      node = node.nextSibling;\n    }\n\n    return snapshot;\n  }\n\n  assertStableRerender() {\n    this.takeSnapshot();\n    this.rerender();\n    this.assertInvariants();\n  }\n\n  rerender() {\n    this.result.rerender();\n  }\n\n  assertInvariants(oldSnapshot?: Array<Node>, newSnapshot?: Array<Node>) {\n    oldSnapshot = oldSnapshot || this.snapshot;\n    newSnapshot = newSnapshot || this.takeSnapshot();\n\n    this.assert.strictEqual(newSnapshot.length, oldSnapshot.length, 'Same number of nodes');\n\n    for (let i = 0; i < oldSnapshot.length; i++) {\n      this.assertSameNode(newSnapshot[i], oldSnapshot[i]);\n    }\n  }\n\n  assertSameNode(actual: Node, expected: Node) {\n    this.assert.strictEqual(actual, expected, 'DOM node stability');\n  }\n\n  runTask(callback: () => void) {\n    callback();\n    this.env.begin();\n    this.result.rerender();\n    this.env.commit();\n  }\n}\n\ninterface Constructor<T> {\n  new(...args): T;\n}\n\nexport function testModule(description?: string) {\n  return function(TestClass: typeof RenderingTest) {\n    let context: RenderingTest;\n\n    QUnit.module(`[Browser] ${description || TestClass.name}`, {\n      afterEach() {\n        context.teardown();\n      }\n    });\n\n    let keys = Object.getOwnPropertyNames(TestClass.prototype);\n    keys.forEach(key => {\n      if (key === 'constructor') return;\n      let value = Object.getOwnPropertyDescriptor(TestClass.prototype, key).value;\n      let isSkipped = value.skip;\n      if (typeof value === 'function' && !isSkipped) {\n        QUnit.test(key, (assert) => {\n          let env = new TestEnvironment();\n          context = new TestClass(env, value['template'], document.getElementById('qunit-fixture'));\n          value.call(context, assert);\n        });\n      } else if (isSkipped) {\n        QUnit.skip(key, () => {});\n      }\n    });\n  };\n}\n\nexport function template(t: string) {\n  return function template(target: Object, name: string, descriptor: PropertyDescriptor) {\n    if (typeof descriptor.value !== 'function') {\n      throw new Error(\"Can't decorator a non-function with the @template decorator\");\n    }\n\n    descriptor.value['template'] = t;\n  };\n}\n","import {\n  // VM\n  VM,\n  DynamicScope,\n\n  // Compiler\n  CompiledProgram,\n  CompilableLayout,\n  compileLayout,\n  compileArgs,\n\n  // Environment\n  Environment,\n  Helper as GlimmerHelper,\n  ModifierManager,\n  DOMTreeConstruction,\n  DOMChanges,\n  IDOMChanges,\n\n  // Partials\n  PartialDefinition,\n\n  // Components\n  Component,\n  ComponentManager,\n  ComponentDefinition,\n  ComponentLayoutBuilder,\n  ComponentBuilder,\n\n  // Values\n  EvaluatedArgs,\n  EvaluatedNamedArgs,\n  EvaluatedPositionalArgs,\n\n  // Syntax Classes\n  BlockMacros,\n  InlineMacros,\n  NestedBlockSyntax,\n  CompileBlockMacro,\n  BaselineSyntax,\n\n  // References\n  PrimitiveReference,\n  ConditionalReference,\n\n  // Misc\n  Bounds,\n  ElementOperations,\n  FunctionExpression,\n  OpcodeBuilderDSL,\n  Simple,\n  getDynamicVar,\n\n  Template,\n  Layout,\n  isComponentDefinition\n} from \"@glimmer/runtime\";\n\nimport {\n  compile as rawCompile,\n  compileLayout as rawCompileLayout\n} from \"./helpers\";\n\nimport {\n  Destroyable,\n  Dict,\n  Opaque,\n  FIXME,\n  assign,\n  dict,\n  unwrap\n} from '@glimmer/util';\n\nimport GlimmerObject, { GlimmerObjectFactory } from \"@glimmer/object\";\n\nimport {\n  VOLATILE_TAG,\n  DirtyableTag,\n  RevisionTag,\n  Reference,\n  PathReference,\n  OpaqueIterator,\n  OpaqueIterable,\n  AbstractIterable,\n  IterationItem,\n  isConst\n} from \"@glimmer/reference\";\n\nimport {\n  UpdatableReference\n} from \"@glimmer/object-reference\";\n\nimport {\n  SymbolTable\n} from '@glimmer/interfaces';\n\nimport * as WireFormat from '@glimmer/wire-format';\n\nimport {\n  TemplateMeta,\n} from \"@glimmer/wire-format\";\n\ntype KeyFor<T> = (item: Opaque, index: T) => string;\n\nclass ArrayIterator implements OpaqueIterator {\n  private array: Opaque[];\n  private keyFor: KeyFor<number>;\n  private position = 0;\n\n  constructor(array: Opaque[], keyFor: KeyFor<number>) {\n    this.array = array;\n    this.keyFor = keyFor;\n  }\n\n  isEmpty(): boolean {\n    return this.array.length === 0;\n  }\n\n  next(): IterationItem<Opaque, number> {\n    let { position, array, keyFor } = this;\n\n    if (position >= array.length) return null;\n\n    let value = array[position];\n    let key = keyFor(value, position);\n    let memo = position;\n\n    this.position++;\n\n    return { key, value, memo };\n  }\n}\n\nclass ObjectKeysIterator implements OpaqueIterator {\n  private keys: string[];\n  private values: Opaque[];\n  private keyFor: KeyFor<string>;\n  private position = 0;\n\n  constructor(keys: string[], values: Opaque[], keyFor: KeyFor<string>) {\n    this.keys = keys;\n    this.values = values;\n    this.keyFor = keyFor;\n  }\n\n  isEmpty(): boolean {\n    return this.keys.length === 0;\n  }\n\n  next(): IterationItem<Opaque, string> {\n    let { position, keys, values, keyFor } = this;\n\n    if (position >= keys.length) return null;\n\n    let value = values[position];\n    let memo = keys[position];\n    let key = keyFor(value, memo);\n\n    this.position++;\n\n    return { key, value, memo };\n  }\n}\n\nclass EmptyIterator implements OpaqueIterator {\n  isEmpty(): boolean {\n    return true;\n  }\n\n  next(): IterationItem<Opaque, Opaque> {\n    throw new Error(`Cannot call next() on an empty iterator`);\n  }\n}\n\nconst EMPTY_ITERATOR = new EmptyIterator();\n\nclass Iterable implements AbstractIterable<Opaque, Opaque, IterationItem<Opaque, Opaque>, UpdatableReference<Opaque>, UpdatableReference<Opaque>> {\n  public tag: RevisionTag;\n  private ref: Reference<Opaque>;\n  private keyFor: KeyFor<Opaque>;\n\n  constructor(ref: Reference<Opaque>, keyFor: KeyFor<Opaque>) {\n    this.tag = ref.tag;\n    this.ref = ref;\n    this.keyFor = keyFor;\n  }\n\n  iterate(): OpaqueIterator {\n    let { ref, keyFor } = this;\n\n    let iterable = ref.value() as any;\n\n    if (Array.isArray(iterable)) {\n      return iterable.length > 0 ? new ArrayIterator(iterable, keyFor) : EMPTY_ITERATOR;\n    } else if (iterable === undefined || iterable === null) {\n      return EMPTY_ITERATOR;\n    } else if (iterable.forEach !== undefined) {\n      let array = [];\n      iterable.forEach(function(item) {\n        array.push(item);\n      });\n      return array.length > 0 ? new ArrayIterator(array, keyFor) : EMPTY_ITERATOR;\n    } else if (typeof iterable === 'object') {\n       let keys = Object.keys(iterable);\n       return keys.length > 0 ? new ObjectKeysIterator(keys, keys.map(key => iterable[key]), keyFor) : EMPTY_ITERATOR;\n     } else {\n      throw new Error(`Don't know how to {{#each ${iterable}}}`);\n    }\n  }\n\n  valueReferenceFor(item: IterationItem<Opaque, Opaque>): UpdatableReference<Opaque> {\n    return new UpdatableReference(item.value);\n  }\n\n  updateValueReference(reference: UpdatableReference<Opaque>, item: IterationItem<Opaque, Opaque>) {\n    reference.update(item.value);\n  }\n\n  memoReferenceFor(item: IterationItem<Opaque, Opaque>): UpdatableReference<Opaque> {\n    return new UpdatableReference(item.memo);\n  }\n\n  updateMemoReference(reference: UpdatableReference<Opaque>, item: IterationItem<Opaque, Opaque>) {\n    reference.update(item.memo);\n  }\n}\n\nexport type Attrs = Dict<any>;\nexport type AttrsDiff = { oldAttrs: Attrs, newAttrs: Attrs };\n\nexport class BasicComponent {\n  public attrs: Attrs;\n  public element: Element;\n  public bounds: Bounds;\n\n  constructor(attrs: Attrs) {\n    this.attrs = attrs;\n  }\n}\n\nexport class EmberishCurlyComponent extends GlimmerObject {\n  public dirtinessTag = new DirtyableTag();\n  public tagName: string = null;\n  public attributeBindings: string[] = null;\n  public attrs: Attrs;\n  public element: Element;\n  public bounds: Bounds;\n  public parentView: Component = null;\n  public args: ProcessedArgs;\n\n  static create(args: { attrs: Attrs }): EmberishCurlyComponent {\n    return super.create(args) as EmberishCurlyComponent;\n  }\n\n  recompute() {\n    this.dirtinessTag.dirty();\n  }\n\n  didInitAttrs(options : { attrs : Attrs }) {}\n  didUpdateAttrs(diff : AttrsDiff) {}\n  didReceiveAttrs(diff : AttrsDiff) {}\n  willInsertElement() {}\n  willUpdate() {}\n  willRender() {}\n  didInsertElement() {}\n  didUpdate() {}\n  didRender() {}\n}\n\nexport class EmberishGlimmerComponent extends GlimmerObject {\n  public dirtinessTag = new DirtyableTag();\n  public attrs: Attrs;\n  public element: Element;\n  public bounds: Bounds;\n  public parentView: Component = null;\n\n  static create(args: { attrs: Attrs }): EmberishGlimmerComponent {\n    return super.create(args) as EmberishGlimmerComponent;\n  }\n\n  recompute() {\n    this.dirtinessTag.dirty();\n  }\n\n  didInitAttrs(options : { attrs : Attrs }) {}\n  didUpdateAttrs(diff : AttrsDiff) {}\n  didReceiveAttrs(diff : AttrsDiff) {}\n  willInsertElement() {}\n  willUpdate() {}\n  willRender() {}\n  didInsertElement() {}\n  didUpdate() {}\n  didRender() {}\n}\n\nclass BasicComponentManager implements ComponentManager<BasicComponent> {\n  prepareArgs(definition: BasicComponentDefinition, args: EvaluatedArgs): EvaluatedArgs {\n    return args;\n  }\n\n  create(environment: Environment, definition: BasicComponentDefinition, args: EvaluatedArgs): BasicComponent {\n    let klass = definition.ComponentClass || BasicComponent;\n    return new klass(args.named.value());\n  }\n\n  layoutFor(definition: BasicComponentDefinition, component: BasicComponent, env: TestEnvironment): CompiledProgram {\n    let layout = env.compiledLayouts[definition.name];\n\n    if (layout) {\n      return layout;\n    }\n\n    return env.compiledLayouts[definition.name] = compileLayout(new BasicComponentLayoutCompiler(definition.layoutString), env);\n  }\n\n  getSelf(component: BasicComponent): PathReference<Opaque> {\n    return new UpdatableReference(component);\n  }\n\n  didCreateElement(component: BasicComponent, element: Element) {\n    component.element = element;\n  }\n\n  didRenderLayout(component: BasicComponent, bounds: Bounds) {\n    component.bounds = bounds;\n  }\n\n  didCreate() {}\n\n  getTag() {\n    return null;\n  }\n\n  update(component: BasicComponent, attrs: EvaluatedArgs) {\n    component.attrs = attrs.named.value();\n  }\n\n  didUpdateLayout() {}\n\n  didUpdate() {}\n\n  getDestructor() {\n    return null;\n  }\n}\n\nconst BASIC_COMPONENT_MANAGER = new BasicComponentManager();\n\nclass StaticTaglessComponentManager extends BasicComponentManager {\n  layoutFor(definition: StaticTaglessComponentDefinition, component: BasicComponent, env: TestEnvironment): CompiledProgram {\n    let layout = env.compiledLayouts[definition.name];\n\n    if (layout) {\n      return layout;\n    }\n\n    return env.compiledLayouts[definition.name] = compileLayout(new StaticTaglessComponentLayoutCompiler(definition.layoutString), env);\n  }\n}\n\nconst STATIC_TAGLESS_COMPONENT_MANAGER = new StaticTaglessComponentManager();\n\nconst BaseEmberishGlimmerComponent = EmberishGlimmerComponent.extend() as typeof EmberishGlimmerComponent;\n\nclass EmberishGlimmerComponentManager implements ComponentManager<EmberishGlimmerComponent> {\n  prepareArgs(definition: EmberishGlimmerComponentDefinition, args: EvaluatedArgs): EvaluatedArgs {\n    return args;\n  }\n\n  create(environment: Environment, definition: EmberishGlimmerComponentDefinition, args: EvaluatedArgs, dynamicScope, callerSelf: PathReference<Opaque>, hasDefaultBlock: boolean): EmberishGlimmerComponent {\n    let klass = definition.ComponentClass || BaseEmberishGlimmerComponent;\n    let attrs = args.named.value();\n    let component = klass.create({ attrs });\n\n    component.didInitAttrs({ attrs });\n    component.didReceiveAttrs({ oldAttrs: null, newAttrs: attrs });\n    component.willInsertElement();\n    component.willRender();\n\n    return component;\n  }\n\n  layoutFor(definition: EmberishGlimmerComponentDefinition, component: EmberishGlimmerComponent, env: TestEnvironment): CompiledProgram {\n    if (env.compiledLayouts[definition.name]) {\n      return env.compiledLayouts[definition.name];\n    }\n    return env.compiledLayouts[definition.name] = compileLayout(new EmberishGlimmerComponentLayoutCompiler(definition.layoutString), env);\n  }\n\n  getSelf(component: EmberishGlimmerComponent): PathReference<Opaque> {\n    return new UpdatableReference(component);\n  }\n\n  didCreateElement(component: EmberishGlimmerComponent, element: Element) {\n    component.element = element;\n  }\n\n  didRenderLayout(component: EmberishGlimmerComponent, bounds: Bounds) {\n    component.bounds = bounds;\n  }\n\n  didCreate(component: EmberishGlimmerComponent) {\n    component.didInsertElement();\n    component.didRender();\n  }\n\n  getTag(component: EmberishGlimmerComponent) {\n    return component.dirtinessTag;\n  }\n\n  update(component: EmberishGlimmerComponent, args: EvaluatedArgs) {\n    let oldAttrs = component.attrs;\n    let newAttrs = args.named.value();\n\n    component.set('attrs', newAttrs);\n    component.didUpdateAttrs({ oldAttrs, newAttrs });\n    component.didReceiveAttrs({ oldAttrs, newAttrs });\n    component.willUpdate();\n    component.willRender();\n  }\n\n  didUpdateLayout() {}\n\n  didUpdate(component: EmberishGlimmerComponent) {\n    component.didUpdate();\n    component.didRender();\n  }\n\n  getDestructor(component: EmberishGlimmerComponent): Destroyable {\n    return {\n      destroy() {\n        component.destroy();\n      }\n    };\n  }\n}\n\nexport class ProcessedArgs {\n  tag: RevisionTag;\n  named: EvaluatedNamedArgs;\n  positional: EvaluatedPositionalArgs;\n  positionalParamNames: Array<string>;\n\n  constructor(args: EvaluatedArgs, positionalParamsDefinition: string[]) {\n    this.tag = args.tag;\n    this.named = args.named;\n    this.positional = args.positional;\n    this.positionalParamNames = positionalParamsDefinition;\n  }\n\n  value() {\n    let { named, positional, positionalParamNames } = this;\n\n    let merged = Object.assign({}, named.value());\n\n    if (positionalParamNames && positionalParamNames.length) {\n      for (let i = 0; i < positionalParamNames.length; i++) {\n        let name = positionalParamNames[i];\n        let reference = positional.at(i);\n\n        merged[name] = reference.value();\n      }\n    }\n\n    return {\n      attrs: merged,\n      props: merged\n    };\n  }\n}\n\nfunction processArgs(args: EvaluatedArgs, positionalParamsDefinition: string[]) : ProcessedArgs {\n  return new ProcessedArgs(args, positionalParamsDefinition);\n}\n\nconst EMBERISH_GLIMMER_COMPONENT_MANAGER = new EmberishGlimmerComponentManager();\n\nconst BaseEmberishCurlyComponent = EmberishCurlyComponent.extend() as typeof EmberishCurlyComponent;\n\nclass EmberishCurlyComponentManager implements ComponentManager<EmberishCurlyComponent> {\n  prepareArgs(definition: EmberishCurlyComponentDefinition, args: EvaluatedArgs, dynamicScope: DynamicScope): EvaluatedArgs {\n    let dyn = definition.ComponentClass ? definition.ComponentClass['fromDynamicScope'] : null;\n    if (dyn) {\n      let map = assign({}, args.named.map);\n      dyn.forEach(name => map[name] = dynamicScope.get(name));\n      args = EvaluatedArgs.create(args.positional, EvaluatedNamedArgs.create(map), args.blocks);\n    }\n    return args;\n  }\n\n  create(environment: Environment, definition: EmberishCurlyComponentDefinition, args: EvaluatedArgs, dynamicScope: DynamicScope, callerSelf: PathReference<Opaque>): EmberishCurlyComponent {\n    let klass = definition.ComponentClass || BaseEmberishCurlyComponent;\n    let processedArgs = processArgs(args, klass['positionalParams']);\n    let { attrs } = processedArgs.value();\n    let self = callerSelf.value();\n    let merged = assign({}, attrs, { attrs }, { args: processedArgs }, { targetObject: self });\n    let component = klass.create(merged);\n\n    component.didInitAttrs({ attrs });\n    component.didReceiveAttrs({ oldAttrs: null, newAttrs: attrs });\n    component.willInsertElement();\n    component.willRender();\n\n    return component;\n  }\n\n  layoutFor(definition: EmberishCurlyComponentDefinition, component: EmberishCurlyComponent, env: TestEnvironment): CompiledProgram {\n    let layout = env.compiledLayouts[definition.name];\n\n    if (layout) {\n      return layout;\n    }\n\n    let layoutString = definition.layoutString;\n    let lateBound = !layoutString;\n\n    if (!layoutString && layoutString !== '') {\n      layoutString = component['layout'];\n    }\n\n    layout = compileLayout(new EmberishCurlyComponentLayoutCompiler(layoutString), env);\n\n    return lateBound ? layout : (env.compiledLayouts[definition.name] = layout);\n  }\n\n  getSelf(component: EmberishCurlyComponent): PathReference<Opaque> {\n    return new UpdatableReference(component);\n  }\n\n  didCreateElement(component: EmberishCurlyComponent, element: Element, operations: ElementOperations) {\n    component.element = element;\n\n    let bindings = component.attributeBindings;\n    let rootRef = new UpdatableReference(component);\n\n    if (bindings) {\n      for (let i=0; i<bindings.length; i++) {\n        let attribute = bindings[i];\n        let reference = rootRef.get(attribute) as PathReference<string>;\n\n        operations.addDynamicAttribute(element, attribute, reference, false);\n      }\n    }\n  }\n\n  didRenderLayout(component: EmberishCurlyComponent, bounds: Bounds) {\n    component.bounds = bounds;\n  }\n\n  didCreate(component: EmberishCurlyComponent) {\n    component.didInsertElement();\n    component.didRender();\n  }\n\n  getTag(component: EmberishCurlyComponent) {\n    return component.dirtinessTag;\n  }\n\n  update(component: EmberishCurlyComponent, args: EvaluatedArgs) {\n    let oldAttrs = component.attrs;\n    let newAttrs = component.args.value().attrs;\n    let merged = assign({}, newAttrs, { attrs: newAttrs });\n\n    component.setProperties(merged);\n    component.didUpdateAttrs({ oldAttrs, newAttrs });\n    component.didReceiveAttrs({ oldAttrs, newAttrs });\n    component.willUpdate();\n    component.willRender();\n  }\n\n  didUpdateLayout() {}\n\n  didUpdate(component: EmberishCurlyComponent) {\n    component.didUpdate();\n    component.didRender();\n  }\n\n  getDestructor(component: EmberishCurlyComponent): Destroyable {\n    return {\n      destroy () {\n        component.destroy();\n      }\n    };\n  }\n}\n\nconst EMBERISH_CURLY_COMPONENT_MANAGER = new EmberishCurlyComponentManager();\n\nfunction emberToBool(value: any): boolean {\n  if (Array.isArray(value)) {\n    return value.length > 0;\n  } else {\n    return !!value;\n  }\n}\n\nclass EmberishConditionalReference extends ConditionalReference {\n  protected toBool(value: any): boolean {\n    return emberToBool(value);\n  }\n}\n\nexport class SimplePathReference<T> implements PathReference<T> {\n  private parent: Reference<T>;\n  private property: string;\n  public tag = VOLATILE_TAG;\n\n  constructor(parent: Reference<T>, property: string) {\n    this.parent = parent;\n    this.property = property;\n  }\n\n  value(): T {\n    return this.parent.value()[this.property];\n  }\n\n  get(prop: string): PathReference<Opaque> {\n    return new SimplePathReference(this, prop);\n  }\n}\n\nexport type UserHelper = (args: ReadonlyArray<Opaque>, named: Dict<Opaque>) => any;\n\nclass HelperReference implements PathReference<Opaque> {\n  private helper: UserHelper;\n  private args: EvaluatedArgs;\n  public tag = VOLATILE_TAG;\n\n  constructor(helper: UserHelper, args: EvaluatedArgs) {\n    this.helper = helper;\n    this.args = args;\n  }\n\n  value() {\n    let { helper, args: { positional, named } } = this;\n\n    return helper(positional.value(), named.value());\n  }\n\n  get(prop: string): SimplePathReference<Opaque> {\n    return new SimplePathReference(this, prop);\n  }\n}\n\nclass InertModifierManager implements ModifierManager<Opaque> {\n  create() {}\n\n  install(modifier: Opaque) {}\n\n  update(modifier: Opaque) {}\n\n  getDestructor(modifier: Opaque): Destroyable {\n    return null;\n  }\n}\n\nexport class TestModifier {\n  constructor(\n    public element: Element,\n    public args: EvaluatedArgs,\n    public dom: IDOMChanges\n  ) {}\n}\n\nexport class TestModifierManager implements ModifierManager<TestModifier> {\n  public installedElements: Element[] = [];\n  public updatedElements: Element[] = [];\n  public destroyedModifiers: TestModifier[] = [];\n\n  create(element: Element, args: EvaluatedArgs, dynamicScope: DynamicScope, dom: IDOMChanges): TestModifier {\n    return new TestModifier(element, args, dom);\n  }\n\n  install({ element, args, dom }: TestModifier) {\n    this.installedElements.push(element);\n\n    let param = args.positional.at(0).value();\n    dom.setAttribute(element, 'data-modifier', `installed - ${param}`);\n\n    return;\n  }\n\n  update({ element, args, dom }: TestModifier) {\n    this.updatedElements.push(element);\n\n    let param = args.positional.at(0).value();\n    dom.setAttribute(element, 'data-modifier', `updated - ${param}`);\n\n    return;\n  }\n\n  getDestructor(modifier: TestModifier): Destroyable {\n    return {\n      destroy: () => {\n        this.destroyedModifiers.push(modifier);\n        let { element, dom } = modifier;\n        dom.removeAttribute(element, 'data-modifier');\n      }\n    };\n  }\n}\n\nexport interface TestEnvironmentOptions {\n  document?: Simple.Document;\n  appendOperations?: DOMTreeConstruction;\n}\n\nexport class TestEnvironment extends Environment {\n  private helpers = dict<GlimmerHelper>();\n  private modifiers = dict<ModifierManager<Opaque>>();\n  private partials = dict<PartialDefinition<{}>>();\n  private components = dict<ComponentDefinition<any>>();\n  private uselessAnchor: HTMLAnchorElement;\n  public compiledLayouts = dict<CompiledProgram>();\n\n  constructor(options: TestEnvironmentOptions = {\n    document: document,\n    appendOperations: new DOMTreeConstruction(document)\n  }) {\n    super({ appendOperations: options.appendOperations, updateOperations: new DOMChanges(options.document as Document) });\n\n    this.uselessAnchor = options.document.createElement('a') as HTMLAnchorElement;\n    this.registerHelper(\"if\", ([cond, yes, no]) => cond ? yes : no);\n    this.registerHelper(\"unless\", ([cond, yes, no]) => cond ? no : yes);\n    this.registerInternalHelper(\"-get-dynamic-var\", getDynamicVar);\n    this.registerModifier(\"action\", new InertModifierManager());\n\n    this.registerInternalHelper(\"component\", (vm, args, symbolTable) => {\n      return new DynamicComponentReference(args.positional.at(0), vm.env, symbolTable);\n    });\n\n    this.registerInternalHelper(\"hash\", (vm, args) => args.named);\n  }\n\n  protocolForURL(url: string): string {\n    this.uselessAnchor.href = url;\n    return this.uselessAnchor.protocol;\n  }\n\n  registerHelper(name: string, helper: UserHelper) {\n    this.helpers[name] = (vm: VM, args: EvaluatedArgs) => new HelperReference(helper, args);\n  }\n\n  registerInternalHelper(name: string, helper: GlimmerHelper) {\n    this.helpers[name] = helper;\n  }\n\n  registerModifier(name: string, modifier: ModifierManager<Opaque>) {\n    this.modifiers[name] = modifier;\n  }\n\n  registerPartial(name: string, source: string) {\n    this.partials[name] = new PartialDefinition(name, rawCompile(source, { env: this }));\n  }\n\n  registerComponent(name: string, definition: ComponentDefinition<any>) {\n    this.components[name] = definition;\n    return definition;\n  }\n\n  registerBasicComponent<T extends BasicComponent>(name: string, Component: BasicComponentFactory, layout: string): ComponentDefinition<BasicComponentDefinition> {\n    let definition = new BasicComponentDefinition(name, BASIC_COMPONENT_MANAGER, Component, layout);\n    return this.registerComponent(name, definition);\n  }\n\n  registerStaticTaglessComponent(name: string, Component: BasicComponentFactory, layout: string): ComponentDefinition<BasicComponentFactory> {\n    let definition = new StaticTaglessComponentDefinition(name, STATIC_TAGLESS_COMPONENT_MANAGER, Component, layout);\n    return this.registerComponent(name, definition);\n  }\n\n  registerEmberishCurlyComponent(name: string, Component: EmberishCurlyComponentFactory, layout: string): ComponentDefinition<EmberishCurlyComponentDefinition> {\n    let definition = new EmberishCurlyComponentDefinition(name, EMBERISH_CURLY_COMPONENT_MANAGER, Component, layout);\n    return this.registerComponent(name, definition);\n  }\n\n  registerEmberishGlimmerComponent(name: string, Component: EmberishGlimmerComponentFactory, layout: string): ComponentDefinition<EmberishGlimmerComponentDefinition> {\n    let definition = new EmberishGlimmerComponentDefinition(name, EMBERISH_GLIMMER_COMPONENT_MANAGER, Component, layout);\n    return this.registerComponent(name, definition);\n  }\n\n  toConditionalReference(reference: Reference<any>): Reference<boolean> {\n    if (isConst(reference)) {\n      return PrimitiveReference.create(emberToBool(reference.value()));\n    }\n\n    return new EmberishConditionalReference(reference);\n  }\n\n  macros(): { blocks: BlockMacros, inlines: InlineMacros } {\n    let macros = super.macros();\n    populateBlocks(macros.blocks, macros.inlines);\n    return macros;\n  }\n\n  hasHelper(helperName: string[]) {\n    return helperName.length === 1 && (<string>helperName[0] in this.helpers);\n  }\n\n  lookupHelper(helperParts: string[]) {\n    let helperName = helperParts[0];\n\n    let helper = this.helpers[helperName];\n\n    if (!helper) throw new Error(`Helper for ${helperParts.join('.')} not found.`);\n\n    return helper;\n  }\n\n  hasPartial(partialName: string) {\n    return partialName in this.partials;\n  }\n\n  lookupPartial(partialName: string) {\n    let partial = this.partials[partialName];\n\n    return partial;\n  }\n\n  hasComponentDefinition(name: string[]): boolean {\n    return !!this.components[name[0]];\n  }\n\n  getComponentDefinition(name: string[], blockMeta?: TemplateMeta): ComponentDefinition<any> {\n    return this.components[name[0]];\n  }\n\n  hasModifier(modifierName: string[]): boolean {\n    return modifierName.length === 1 && (<string>modifierName[0] in this.modifiers);\n  }\n\n  lookupModifier(modifierName: string[]): ModifierManager<Opaque> {\n    let [name] = modifierName;\n\n    let modifier = this.modifiers[name];\n\n    if(!modifier) throw new Error(`Modifier for ${modifierName.join('.')} not found.`);\n    return modifier;\n  }\n\n  compile(template: string): Template<undefined> {\n    return rawCompile<undefined>(template, { env: this });\n  }\n\n  compileLayout(template: string): Layout {\n    return rawCompileLayout(template, { env: this });\n  }\n\n  iterableFor(ref: Reference<Opaque>, args: EvaluatedArgs): OpaqueIterable {\n    let keyPath = args.named.get(\"key\").value() as FIXME<any, \"User value to lookup key\">;\n    let keyFor: KeyFor<Opaque>;\n\n    if (!keyPath) {\n      throw new Error('Must specify a key for #each');\n    }\n\n    switch (keyPath) {\n      case '@index':\n        keyFor = (_, index: number) => String(index);\n        break;\n      case '@primitive':\n        keyFor = (item: Opaque) => String(item);\n        break;\n      default:\n        keyFor = (item: Opaque) => item[keyPath];\n        break;\n    }\n\n    return new Iterable(ref, keyFor);\n  }\n}\n\nexport class TestDynamicScope implements DynamicScope {\n  private bucket;\n\n  constructor(bucket=null) {\n    if (bucket) {\n      this.bucket = assign({}, bucket);\n    } else {\n      this.bucket = {};\n    }\n  }\n\n  get(key: string): PathReference<Opaque> {\n    return this.bucket[key];\n  }\n\n  set(key: string, reference: PathReference<Opaque>) {\n    return this.bucket[key] = reference;\n  }\n\n  child(): TestDynamicScope {\n    return new TestDynamicScope(this.bucket);\n  }\n}\n\nclass DynamicComponentReference implements PathReference<ComponentDefinition<Opaque>> {\n  public tag: RevisionTag;\n\n  constructor(private nameRef: PathReference<Opaque>, private env: Environment, private symbolTable: SymbolTable) {\n    this.tag = nameRef.tag;\n  }\n\n  value(): ComponentDefinition<Opaque> {\n    let { env, nameRef } = this;\n\n    let nameOrDef = nameRef.value();\n\n    if (typeof nameOrDef === 'string') {\n      return env.getComponentDefinition([nameOrDef], this.symbolTable);\n    } else if (isComponentDefinition(nameOrDef)) {\n      return nameOrDef;\n    }\n\n    return null;\n  }\n\n  get() {\n    return null;\n  }\n}\n\nfunction dynamicComponentFor(vm: VM, symbolTable: SymbolTable) {\n  let args = vm.getArgs();\n  let nameRef = args.positional.at(0);\n  let env = vm.env;\n  return new DynamicComponentReference(nameRef, env, symbolTable);\n};\n\nexport interface BasicComponentFactory {\n  new(attrs: Dict<any>): BasicComponent;\n}\n\nexport abstract class GenericComponentDefinition<T> extends ComponentDefinition<T> {\n  public layoutString : string;\n\n  constructor(name: string, manager: ComponentManager<T>, ComponentClass: any, layout: string) {\n    super(name, manager, ComponentClass);\n    this.layoutString = layout;\n  }\n}\n\nexport class BasicComponentDefinition extends GenericComponentDefinition<BasicComponent> {\n  public ComponentClass: BasicComponentFactory;\n}\n\nclass StaticTaglessComponentDefinition extends GenericComponentDefinition<BasicComponent> {\n  public ComponentClass: BasicComponentFactory;\n}\n\nexport interface EmberishCurlyComponentFactory {\n  positionalParams?: string[];\n  create(options: { attrs: Attrs, targetObject }): EmberishCurlyComponent;\n}\n\nexport class EmberishCurlyComponentDefinition extends GenericComponentDefinition<EmberishCurlyComponent> {\n  public ComponentClass: EmberishCurlyComponentFactory;\n}\n\nexport interface EmberishGlimmerComponentFactory {\n  create(options: { attrs: Attrs }): EmberishGlimmerComponent;\n}\n\nexport class EmberishGlimmerComponentDefinition extends GenericComponentDefinition<EmberishGlimmerComponent> {\n  public ComponentClass: EmberishGlimmerComponentFactory;\n}\n\nabstract class GenericComponentLayoutCompiler implements CompilableLayout {\n  constructor(private layoutString: string) {}\n\n  protected compileLayout(env: Environment) {\n    return rawCompileLayout(this.layoutString, { env });\n  }\n\n  abstract compile(builder: ComponentLayoutBuilder);\n}\n\nclass BasicComponentLayoutCompiler extends GenericComponentLayoutCompiler {\n  compile(builder: ComponentLayoutBuilder) {\n    builder.fromLayout(this.compileLayout(builder.env));\n  }\n}\n\nclass StaticTaglessComponentLayoutCompiler extends GenericComponentLayoutCompiler {\n  compile(builder: ComponentLayoutBuilder) {\n    builder.wrapLayout(this.compileLayout(builder.env));\n  }\n}\n\nfunction EmberTagName(vm: VM): PathReference<string> {\n  let self = vm.getSelf().value();\n  let tagName: string = self['tagName'];\n  tagName = tagName === '' ? null : self['tagName'] || 'div';\n  return PrimitiveReference.create(tagName);\n}\n\nfunction EmberID(vm: VM): PathReference<string> {\n  let self = vm.getSelf().value() as { _guid: string };\n  return PrimitiveReference.create(`ember${self._guid}`);\n}\n\nclass EmberishCurlyComponentLayoutCompiler extends GenericComponentLayoutCompiler {\n  compile(builder: ComponentLayoutBuilder) {\n    builder.wrapLayout(this.compileLayout(builder.env));\n    builder.tag.dynamic(EmberTagName);\n    builder.attrs.static('class', 'ember-view');\n    builder.attrs.dynamic('id', EmberID);\n  }\n}\n\nclass EmberishGlimmerComponentLayoutCompiler extends GenericComponentLayoutCompiler {\n  compile(builder: ComponentLayoutBuilder) {\n    builder.fromLayout(this.compileLayout(builder.env));\n    builder.attrs.static('class', 'ember-view');\n    builder.attrs.dynamic('id', EmberID);\n  }\n}\n\nexport function inspectHooks<T extends Component>(ComponentClass: GlimmerObjectFactory<T>): GlimmerObjectFactory<T> {\n  return ComponentClass.extend({\n    init() {\n      this._super(...arguments);\n      this.hooks = {\n        didInitAttrs: 0,\n        didUpdateAttrs: 0,\n        didReceiveAttrs: 0,\n        willInsertElement: 0,\n        willUpdate: 0,\n        willRender: 0,\n        didInsertElement: 0,\n        didUpdate: 0,\n        didRender: 0\n      };\n    },\n\n    didInitAttrs() {\n      this._super(...arguments);\n      this.hooks['didInitAttrs']++;\n    },\n\n    didUpdateAttrs() {\n      this._super(...arguments);\n      this.hooks['didUpdateAttrs']++;\n    },\n\n    didReceiveAttrs() {\n      this._super(...arguments);\n      this.hooks['didReceiveAttrs']++;\n    },\n\n    willInsertElement() {\n      this._super(...arguments);\n      this.hooks['willInsertElement']++;\n    },\n\n    willUpdate() {\n      this._super(...arguments);\n      this.hooks['willUpdate']++;\n    },\n\n    willRender() {\n      this._super(...arguments);\n      this.hooks['willRender']++;\n    },\n\n    didInsertElement() {\n      this._super(...arguments);\n      this.hooks['didInsertElement']++;\n    },\n\n    didUpdate() {\n      this._super(...arguments);\n      this.hooks['didUpdate']++;\n    },\n\n    didRender() {\n      this._super(...arguments);\n      this.hooks['didRender']++;\n    }\n  });\n}\n\nconst { defaultBlock, inverseBlock, params, hash } = BaselineSyntax.NestedBlock;\n\nfunction populateBlocks(blocks: BlockMacros, inlines: InlineMacros): { blocks: BlockMacros, inlines: InlineMacros } {\n  blocks.add('identity', (sexp: NestedBlockSyntax, builder: OpcodeBuilderDSL) => {\n    builder.evaluate(sexp[4]);\n  });\n\n  blocks.add('render-inverse', (sexp: NestedBlockSyntax, builder: OpcodeBuilderDSL) => {\n    builder.evaluate(sexp[5]);\n  });\n\n  blocks.add('-with-dynamic-vars', (sexp, builder) => {\n    let block = defaultBlock(sexp);\n    let args = compileArgs(params(sexp), hash(sexp), builder);\n\n    builder.unit(b => {\n      b.putArgs(args);\n      b.pushDynamicScope();\n      b.bindDynamicScope(args.named.keys as string[]);\n      b.evaluate(unwrap(block));\n      b.popDynamicScope();\n    });\n  });\n\n  blocks.add('-in-element', (sexp, builder) => {\n    let block = defaultBlock(sexp);\n    let args = compileArgs(params(sexp), hash(sexp), builder);\n\n    builder.putArgs(args);\n    builder.test('simple');\n\n    builder.labelled(null, b => {\n      b.jumpUnless('END');\n      b.pushRemoteElement();\n      b.evaluate(unwrap(block));\n      b.popRemoteElement();\n    });\n  });\n\n  blocks.add('component', (sexp, builder) => {\n    let [, path, params, hash, _default, inverse] = sexp;\n    let definitionArgs: BaselineSyntax.Args = [params.slice(0, 1), null, null, null];\n    let args: BaselineSyntax.Args = [params.slice(1), hash, _default, inverse];\n    builder.component.dynamic(definitionArgs, dynamicComponentFor, args, builder.symbolTable);\n    return true;\n  });\n\n  blocks.addMissing((sexp, builder) => {\n    let [, path, params, hash, _default, inverse] = sexp;\n    let table = builder.symbolTable;\n\n    if (!params) {\n      params = [];\n    }\n\n    if (path.length > 1) {\n      let definitionArgs: BaselineSyntax.Args = [[['get', path]], hash, _default, inverse];\n      let args: BaselineSyntax.Args = [params, hash, _default, inverse];\n      builder.component.dynamic(definitionArgs, dynamicComponentFor, args, table);\n      return true;\n    }\n\n    let definition = builder.env.getComponentDefinition(path, builder.symbolTable);\n\n    if (definition) {\n      builder.component.static(definition, [params, hash, _default, inverse], table);\n      return true;\n    }\n\n    return false;\n  });\n\n  inlines.add('component', (path, params, hash, builder) => {\n    let definitionArgs: BaselineSyntax.Args = [params.slice(0, 1), null, null, null];\n    let args: BaselineSyntax.Args = [params.slice(1), hash, null, null];\n    builder.component.dynamic(definitionArgs, dynamicComponentFor, args, builder.symbolTable);\n    return true;\n  });\n\n  inlines.addMissing((path, params, hash, builder) => {\n    let table = builder.symbolTable;\n\n    let definition = builder.env.getComponentDefinition(path, builder.symbolTable);\n\n    if (path.length > 1) {\n      let definitionArgs: BaselineSyntax.Args = [[['get', path]], hash, null, null];\n      let args: BaselineSyntax.Args = [params, hash, null, null];\n      builder.component.dynamic(definitionArgs, dynamicComponentFor, args, table);\n      return true;\n    }\n\n    if (definition) {\n      builder.component.static(definition, [params, hash, null, null], table);\n      return true;\n    }\n\n    return false;\n  });\n\n  return { blocks, inlines };\n}\n\nexport function equalsElement(element: Element, tagName: string, attributes: Object, content: string) {\n  QUnit.push(element.tagName === tagName.toUpperCase(), element.tagName.toLowerCase(), tagName, `expect tagName to be ${tagName}`);\n\n  let expectedAttrs: Dict<Matcher> = dict<Matcher>();\n\n  let expectedCount = 0;\n  for (let prop in attributes) {\n    expectedCount++;\n    let expected = attributes[prop];\n\n    let matcher: Matcher = typeof expected === 'object' && MATCHER in expected ? expected : equalsAttr(expected);\n    expectedAttrs[prop] = matcher;\n\n    QUnit.push(\n      expectedAttrs[prop].match(element.getAttribute(prop)),\n      matcher.fail(element.getAttribute(prop)),\n      matcher.fail(element.getAttribute(prop)),\n      `Expected element's ${prop} attribute ${matcher.expected()}`\n    );\n  }\n\n  let actualAttributes = {};\n  for (let i = 0, l = element.attributes.length; i < l; i++) {\n    actualAttributes[element.attributes[i].name] = element.attributes[i].value;\n  }\n\n  if (!(element instanceof HTMLElement)) {\n    QUnit.push(element instanceof HTMLElement, null, null, \"Element must be an HTML Element, not an SVG Element\");\n  } else {\n    QUnit.push(\n      element.attributes.length === expectedCount,\n      element.attributes.length, expectedCount,\n      `Expected ${expectedCount} attributes; got ${element.outerHTML}`\n    );\n\n    if (content !== null) {\n      QUnit.push(element.innerHTML === content, element.innerHTML, content, `The element had '${content}' as its content`);\n    }\n  }\n}\n\ninterface Matcher {\n  \"3d4ef194-13be-4ccf-8dc7-862eea02c93e\": boolean;\n  match(actual): boolean;\n  fail(actual): string;\n  expected(): string;\n}\n\nexport const MATCHER = \"3d4ef194-13be-4ccf-8dc7-862eea02c93e\";\n\nexport function equalsAttr(expected) {\n  return {\n    \"3d4ef194-13be-4ccf-8dc7-862eea02c93e\": true,\n    match(actual) {\n      return expected === actual;\n    },\n\n    expected() {\n      return `to equal ${expected}`;\n    },\n\n    fail(actual) {\n      return `${actual} did not equal ${expected}`;\n    }\n  };\n}\n\nexport function equals(expected) {\n  return {\n    \"3d4ef194-13be-4ccf-8dc7-862eea02c93e\": true,\n    match(actual) {\n      return expected === actual;\n    },\n\n    expected() {\n      return `to equal ${expected}`;\n    },\n\n    fail(actual) {\n      return `${actual} did not equal ${expected}`;\n    }\n  };\n}\n\nexport function regex(r) {\n  return {\n    \"3d4ef194-13be-4ccf-8dc7-862eea02c93e\": true,\n    match(v) {\n      return r.test(v);\n    },\n    expected() {\n      return `to match ${r}`;\n    },\n    fail(actual) {\n      return `${actual} did not match ${r}`;\n    }\n  };\n}\n\nexport function classes(expected: string) {\n  return {\n    \"3d4ef194-13be-4ccf-8dc7-862eea02c93e\": true,\n    match(actual) {\n      return actual && (expected.split(' ').sort().join(' ') === actual.split(' ').sort().join(' '));\n    },\n    expected() {\n      return `to include '${expected}'`;\n    },\n    fail(actual) {\n      return `'${actual}'' did not match '${expected}'`;\n    }\n  };\n}\n","import { tokenize } from \"simple-html-tokenizer\";\nimport { Environment, Template, Layout, templateFactory } from \"@glimmer/runtime\";\nimport { precompile, PrecompileOptions } from \"@glimmer/compiler\";\n\n// For Phantom\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nif (typeof Object.assign !== 'function') {\n  Object.assign = function(target, source) {\n    let from;\n    let to = toObject(target);\n    let symbols;\n\n    for (let s = 1; s < arguments.length; s++) {\n      from = Object(arguments[s]);\n\n      for (let key in from) {\n        if (Object.prototype.hasOwnProperty.call(from, key)) {\n          to[key] = from[key];\n        }\n      }\n\n      if (Object.getOwnPropertySymbols) {\n        symbols = Object.getOwnPropertySymbols(from);\n        for (let i = 0; i < symbols.length; i++) {\n          if (Object.prototype.propertyIsEnumerable.call(from, symbols[i])) {\n            to[symbols[i]] = from[symbols[i]];\n          }\n        }\n      }\n    }\n\n    return to;\n  };\n}\n\nexport const assign = Object.assign;\n\nfunction isMarker(node) {\n  const TextNode = (<any>window).Text;\n  const Comment = (<any>window).Comment;\n\n  if (node instanceof Comment && node.textContent === '') {\n    return true;\n  }\n\n  if (node instanceof TextNode && node.textContent === '') {\n    return true;\n  }\n\n  return false;\n}\n\nexport interface TestCompileOptions<T> extends PrecompileOptions<T> {\n  env: Environment;\n}\n\nexport function compile<T>(string: string, options: TestCompileOptions<T>): Template<T> {\n  let js = precompile(string, options);\n  let factory = templateFactory<T>(JSON.parse(js));\n  return factory.create(options.env);\n}\n\nexport function compileLayout<T>(string: string, options: TestCompileOptions<T>): Layout {\n  return compile(string, options).asLayout();\n}\n\nexport function equalInnerHTML(fragment, html, msg?) {\n  let actualHTML = normalizeInnerHTML(fragment.innerHTML);\n  QUnit.push(actualHTML === html, actualHTML, html, msg);\n}\n\nexport function equalHTML(node, html) {\n  let fragment;\n  if (!node.nodeType && node.length) {\n    fragment = document.createDocumentFragment();\n    while (node[0]) {\n      fragment.appendChild(node[0]);\n    }\n  } else {\n    fragment = node;\n  }\n\n  let div = document.createElement(\"div\");\n  div.appendChild(fragment.cloneNode(true));\n\n  equalInnerHTML(div, html);\n}\n\nfunction generateTokens(divOrHTML) {\n  let div;\n  if (typeof divOrHTML === 'string') {\n    div = document.createElement(\"div\");\n    div.innerHTML = divOrHTML;\n  } else {\n    div = divOrHTML;\n  }\n\n  return { tokens: tokenize(div.innerHTML), html: div.innerHTML };\n}\n\nexport function equalTokens(fragment, html, message=null) {\n  if (fragment.fragment) { fragment = fragment.fragment; }\n  if (html.fragment) { html = html.fragment; }\n\n  let fragTokens = generateTokens(fragment);\n  let htmlTokens = generateTokens(html);\n\n  function normalizeTokens(token) {\n    if (token.type === 'StartTag') {\n      token.attributes = token.attributes.sort(function(a, b) {\n        if (a[0] > b[0]) { return 1; }\n        if (a[0] < b[0]) { return -1; }\n        return 0;\n      });\n    }\n  }\n\n  fragTokens.tokens.forEach(normalizeTokens);\n  htmlTokens.tokens.forEach(normalizeTokens);\n\n  // let msg = \"Expected: \" + htmlTokens.html + \"; Actual: \" + fragTokens.html;\n\n  // if (message) { msg += \" (\" + message + \")\"; }\n\n  let equiv = QUnit.equiv(fragTokens.tokens, htmlTokens.tokens);\n\n  if (equiv && fragTokens.html !== htmlTokens.html) {\n    QUnit.deepEqual(fragTokens.tokens, htmlTokens.tokens, message);\n  } else {\n    QUnit.push(QUnit.equiv(fragTokens.tokens, htmlTokens.tokens), fragTokens.html, htmlTokens.html, message);\n  }\n\n  // deepEqual(fragTokens.tokens, htmlTokens.tokens, msg);\n}\n\nexport function generateSnapshot(element) {\n  let snapshot = [];\n  let node = element.firstChild;\n\n  while (node) {\n    if (!isMarker(node)) {\n      snapshot.push(node);\n    }\n    node = node.nextSibling;\n  }\n\n  return snapshot;\n}\n\nexport function equalSnapshots(a, b) {\n  QUnit.strictEqual(a.length, b.length, 'Same number of nodes');\n  for (let i = 0; i < b.length; i++) {\n    QUnit.strictEqual(a[i], b[i], 'Nodes are the same');\n  }\n}\n\n// detect side-effects of cloning svg elements in IE9-11\nlet ieSVGInnerHTML = (function () {\n  if (typeof document === 'undefined' || !document.createElementNS) {\n    return false;\n  }\n  let div = document.createElement('div');\n  let node = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  div.appendChild(node);\n  let clone = <HTMLDivElement>div.cloneNode(true);\n  return clone.innerHTML === '<svg xmlns=\"http://www.w3.org/2000/svg\" />';\n})();\n\nexport function normalizeInnerHTML(actualHTML) {\n  if (ieSVGInnerHTML) {\n    // Replace `<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"50%\" />` with `<svg height=\"50%\"></svg>`, etc.\n    // drop namespace attribute\n    actualHTML = actualHTML.replace(/ xmlns=\"[^\"]+\"/, '');\n    // replace self-closing elements\n    actualHTML = actualHTML.replace(/<([^ >]+) [^\\/>]*\\/>/gi, function(tag, tagName) {\n      return tag.slice(0, tag.length - 3) + '></' + tagName + '>';\n    });\n  }\n\n  return actualHTML;\n}\n\nlet isCheckedInputHTML;\n\nif (typeof document === 'undefined') {\n  isCheckedInputHTML = function(element) {\n  };\n} else {\n  // detect weird IE8 checked element string\n  let checkedInput = document.createElement('input');\n  checkedInput.setAttribute('checked', 'checked');\n  let checkedInputString = checkedInput.outerHTML;\n\n  isCheckedInputHTML = function(element) {\n    QUnit.equal(element.outerHTML, checkedInputString);\n  };\n}\n\nexport { isCheckedInputHTML };\n\n// check which property has the node's text content\nlet textProperty = typeof document === 'object' && document.createElement('div').textContent === undefined ? 'innerText' : 'textContent';\nexport function getTextContent(el) {\n  // textNode\n  if (el.nodeType === 3) {\n    return el.nodeValue;\n  } else {\n    return el[textProperty];\n  }\n}\n\nexport function strip(strings: TemplateStringsArray) {\n  return strings[0].split('\\n').map(s => s.trim()).join(' ');\n}\n\nexport function stripTight(strings: TemplateStringsArray) {\n  return strings[0].split('\\n').map(s => s.trim()).join('');\n}\n\nexport function trimLines(strings: TemplateStringsArray) {\n  return strings[0].trim().split('\\n').map(s => s.trim()).join('\\n');\n}\n","import * as benchmark from './lib/bench-init';\nimport * as stats from './lib/stats';\nimport suites from './lib/bench-suites';\nimport { BenchmarkScenario } from './lib/bench';\n\nexport const Benchmark = benchmark;\nexport const Stats = stats;\nexport const Suites: {\n  [suiteName: string]: typeof BenchmarkScenario[];\n} = suites;\n"],"names":[],"mappings":"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","sourceRoot":"/","file":"glimmer-benchmarks.amd.js"}