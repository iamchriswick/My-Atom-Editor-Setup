"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var test_helpers_1 = require("@glimmer/test-helpers");
var runtime_1 = require("@glimmer/runtime");
var object_reference_1 = require("@glimmer/object-reference");
var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';
var XLINK_NAMESPACE = 'http://www.w3.org/1999/xlink';
var XHTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';
var env, root;
function compile(template) {
    return env.compile(template);
}
function compilesTo(html, expected, context) {
    if (expected === void 0) { expected = html; }
    if (context === void 0) { context = {}; }
    var template = compile(html);
    root = rootElement();
    render(template, context);
    test_helpers_1.equalTokens(root, expected);
}
function rootElement() {
    return env.getDOM().createElement('div');
}
function commonSetup(customEnv) {
    if (customEnv === void 0) { customEnv = new test_helpers_1.TestEnvironment(); }
    env = customEnv; // TODO: Support SimpleDOM
    root = rootElement();
}
function render(template, self) {
    var result;
    env.begin();
    result = template.render(new object_reference_1.UpdatableReference(self), root, new test_helpers_1.TestDynamicScope());
    env.commit();
    return result;
}
function module(name) {
    return QUnit.module(name, {
        setup: function () { commonSetup(); }
    });
}
module("Initial render - Simple HTML, inline expressions");
test("HTML text content", function () {
    var template = compile("content");
    render(template, {});
    test_helpers_1.equalTokens(root, "content");
});
test("HTML tags", function () {
    var template = compile("<h1>hello!</h1><div>content</div>");
    render(template, {});
    test_helpers_1.equalTokens(root, "<h1>hello!</h1><div>content</div>");
});
test("HTML tags re-rendered", function () {
    var template = compile("<h1>hello!</h1><div>content</div>");
    var result = render(template, {});
    var oldFirstChild = root.firstChild;
    env.begin();
    result.rerender();
    env.commit();
    strictEqual(root.firstChild, oldFirstChild);
    test_helpers_1.equalTokens(root, "<h1>hello!</h1><div>content</div>");
});
test("HTML attributes", function () {
    var template = compile("<div class='foo' id='bar'>content</div>");
    render(template, {});
    test_helpers_1.equalTokens(root, '<div class="foo" id="bar">content</div>');
});
test("HTML tag with empty attribute", function () {
    var template = compile("<div class=''>content</div>");
    render(template, {});
    test_helpers_1.equalTokens(root, "<div class=''>content</div>");
});
test("HTML boolean attribute 'disabled'", function () {
    var template = compile('<input disabled>');
    render(template, {});
    ok(root.firstChild['disabled'], 'disabled without value set as property is true');
});
test("Quoted attribute null values do not disable", function () {
    var template = compile('<input disabled="{{isDisabled}}">');
    render(template, { isDisabled: null });
    equal(root.firstChild['disabled'], false);
    test_helpers_1.equalTokens(root, '<input />');
});
test("Unquoted attribute expression with null value is not coerced", function () {
    var template = compile('<input disabled={{isDisabled}}>');
    render(template, { isDisabled: null });
    test_helpers_1.equalTokens(root, '<input>');
});
test("Unquoted attribute values", function () {
    var template = compile('<input value=funstuff>');
    render(template, {});
    var inputNode = root.firstChild;
    equal(inputNode.tagName, 'INPUT', 'input tag');
    equal(inputNode.value, 'funstuff', 'value is set as property');
});
test("Unquoted attribute expression with string value is not coerced", function () {
    var template = compile('<input value={{funstuff}}>');
    render(template, { funstuff: "oh my" });
    var inputNode = root.firstChild;
    equal(inputNode.tagName, 'INPUT', 'input tag');
    equal(inputNode.value, 'oh my', 'string is set to property');
});
test("Unquoted img src attribute is rendered", function () {
    var template = compile('<img src={{someURL}}>');
    render(template, { someURL: "http://foo.com/foo.png" });
    var imgNode = root.firstChild;
    test_helpers_1.equalTokens(root, '<img src="http://foo.com/foo.png">');
    equal(imgNode.tagName, 'IMG', 'img tag');
    equal(imgNode.src, 'http://foo.com/foo.png', 'string is set to property');
});
test("Unquoted img src attribute is not rendered when set to `null`", function () {
    var template = compile('<img src={{someURL}}>');
    render(template, { someURL: null });
    test_helpers_1.equalTokens(root, '<img>');
});
test("Unquoted img src attribute is not rendered when set to `undefined`", function () {
    var template = compile('<img src={{someURL}}>');
    render(template, { someURL: undefined });
    test_helpers_1.equalTokens(root, '<img>');
});
test("Quoted img src attribute is rendered", function () {
    var template = compile('<img src="{{someURL}}">');
    render(template, { someURL: "http://foo.com/foo.png" });
    var imgNode = root.firstChild;
    equal(imgNode.tagName, 'IMG', 'img tag');
    equal(imgNode.src, 'http://foo.com/foo.png', 'string is set to property');
});
test("Quoted img src attribute is not rendered when set to `null`", function () {
    var template = compile('<img src="{{someURL}}">');
    render(template, { someURL: null });
    test_helpers_1.equalTokens(root, '<img>');
});
test("Quoted img src attribute is not rendered when set to `undefined`", function () {
    var template = compile('<img src="{{someURL}}">');
    render(template, { someURL: undefined });
    test_helpers_1.equalTokens(root, '<img>');
});
test("Unquoted a href attribute is not rendered when set to `null`", function () {
    var template = compile('<a href={{someURL}}></a>');
    render(template, { someURL: null });
    test_helpers_1.equalTokens(root, '<a></a>');
});
test("Unquoted img src attribute is not rendered when set to `undefined`", function () {
    var template = compile('<a href={{someURL}}></a>');
    render(template, { someURL: undefined });
    test_helpers_1.equalTokens(root, '<a></a>');
});
test("Attribute expression can be followed by another attribute", function () {
    var template = compile('<div foo="{{funstuff}}" name="Alice"></div>');
    render(template, { funstuff: "oh my" });
    test_helpers_1.equalTokens(root, '<div name="Alice" foo="oh my"></div>');
});
test("Unquoted attribute with expression throws an exception", function () {
    expect(4);
    QUnit.throws(function () { compile('<img class=foo{{bar}}>'); }, expectedError(1));
    QUnit.throws(function () { compile('<img class={{foo}}{{bar}}>'); }, expectedError(1));
    QUnit.throws(function () { compile('<img \nclass={{foo}}bar>'); }, expectedError(2));
    QUnit.throws(function () { compile('<div \nclass\n=\n{{foo}}&amp;bar ></div>'); }, expectedError(4));
    function expectedError(line) {
        return new Error("An unquoted attribute value must be a string or a mustache, " +
            "preceeded by whitespace or a '=' character, and " +
            ("followed by whitespace, a '>' character, or '/>' (on line " + line + ")"));
    }
});
test("HTML tag with data- attribute", function () {
    var template = compile("<div data-some-data='foo'>content</div>");
    render(template, {});
    test_helpers_1.equalTokens(root, '<div data-some-data="foo">content</div>');
});
test("<input> tag with 'checked' attribute", function () {
    var template = compile("<input checked=\"checked\">");
    render(template, {});
    var inputNode = root.firstChild;
    equal(inputNode.tagName, 'INPUT', 'input tag');
    equal(inputNode.checked, true, 'input tag is checked');
});
function shouldBeVoid(tagName) {
    root.innerHTML = "";
    var html = "<" + tagName + " data-foo='bar'><p>hello</p>";
    var template = compile(html);
    render(template, {});
    var tag = '<' + tagName + ' data-foo="bar">';
    var closing = '</' + tagName + '>';
    var extra = "<p>hello</p>";
    html = test_helpers_1.normalizeInnerHTML(root.innerHTML);
    root = rootElement();
    QUnit.push((html === tag + extra) || (html === tag + closing + extra), html, tag + closing + extra, tagName + " should be a void element");
}
test("Void elements are self-closing", function () {
    var voidElements = "area base br col command embed hr img input keygen link meta param source track wbr";
    voidElements.split(" ").forEach(function (tagName) { return shouldBeVoid(tagName); });
});
test("The compiler can handle nesting", function () {
    var html = '<div class="foo"><p><span id="bar" data-foo="bar">hi!</span></p></div>&nbsp;More content';
    var template = compile(html);
    render(template, {});
    test_helpers_1.equalTokens(root, html);
});
test("The compiler can handle quotes", function () {
    compilesTo('<div>"This is a title," we\'re on a boat</div>');
});
test("The compiler can handle backslashes", function () {
    compilesTo('<div>This is a backslash: \\</div>');
});
test("The compiler can handle newlines", function () {
    compilesTo("<div>common\n\nbro</div>");
});
test("The compiler can handle comments", function () {
    compilesTo("<div>{{! Better not break! }}content</div>", '<div>content</div>', {});
});
test("The compiler can handle HTML comments", function () {
    compilesTo('<div><!-- Just passing through --></div>');
});
test("The compiler can handle HTML comments with mustaches in them", function () {
    compilesTo('<div><!-- {{foo}} --></div>', '<div><!-- {{foo}} --></div>', { foo: 'bar' });
});
test("The compiler can handle HTML comments with complex mustaches in them", function () {
    compilesTo('<div><!-- {{foo bar baz}} --></div>', '<div><!-- {{foo bar baz}} --></div>', { foo: 'bar' });
});
test("The compiler can handle HTML comments with multi-line mustaches in them", function () {
    compilesTo('<div><!-- {{#each foo as |bar|}}\n{{bar}}\n\n{{/each}} --></div>');
});
test('The compiler can handle comments with no parent element', function () {
    compilesTo('<!-- {{foo}} -->');
});
// TODO: Revisit partial syntax.
// test("The compiler can handle partials in handlebars partial syntax", function() {
//   registerPartial('partial_name', "<b>Partial Works!</b>");
//   compilesTo('<div>{{>partial_name}} Plaintext content</div>', '<div><b>Partial Works!</b> Plaintext content</div>', {});
// });
test("The compiler can handle simple handlebars", function () {
    compilesTo('<div>{{title}}</div>', '<div>hello</div>', { title: 'hello' });
});
test("The compiler can handle escaping HTML", function () {
    compilesTo('<div>{{title}}</div>', '<div>&lt;strong&gt;hello&lt;/strong&gt;</div>', { title: '<strong>hello</strong>' });
});
test("The compiler can handle unescaped HTML", function () {
    compilesTo('<div>{{{title}}}</div>', '<div><strong>hello</strong></div>', { title: '<strong>hello</strong>' });
});
test("The compiler can handle top-level unescaped HTML", function () {
    compilesTo('{{{html}}}', '<strong>hello</strong>', { html: '<strong>hello</strong>' });
});
function createElement(tag) {
    return env.getDOM().createElement(tag);
}
test("The compiler can handle top-level unescaped tr", function () {
    var template = compile('{{{html}}}');
    var context = { html: '<tr><td>Yo</td></tr>' };
    root = createElement('table');
    render(template, context);
    equal(root.firstChild['tagName'], 'TBODY', "root tbody is present");
});
test("The compiler can handle top-level unescaped td inside tr contextualElement", function () {
    var template = compile('{{{html}}}');
    var context = { html: '<td>Yo</td>' };
    root = createElement('tr');
    render(template, context);
    equal(root.firstChild['tagName'], 'TD', "root td is returned");
});
test("second render respects whitespace", function () {
    var template = compile('Hello {{ foo }} ');
    render(template, {});
    root = rootElement();
    render(template, {});
    equal(root.childNodes.length, 3, 'fragment contains 3 text nodes');
    equal(test_helpers_1.getTextContent(root.childNodes[0]), 'Hello ', 'first text node ends with one space character');
    equal(test_helpers_1.getTextContent(root.childNodes[2]), ' ', 'last text node contains one space character');
});
test("Morphs are escaped correctly", function () {
    env.registerHelper('testing-unescaped', function (params) {
        return params[0];
    });
    env.registerHelper('testing-escaped', function (params, hash) {
        return params[0];
    });
    compilesTo('<div>{{{testing-unescaped "<span>hi</span>"}}}</div>', '<div><span>hi</span></div>');
    compilesTo('<div>{{testing-escaped "<hi>"}}</div>', '<div>&lt;hi&gt;</div>');
});
test("Attributes can use computed values", function () {
    compilesTo('<a href="{{url}}">linky</a>', '<a href="linky.html">linky</a>', { url: 'linky.html' });
});
test("Mountain range of nesting", function () {
    var context = { foo: "FOO", bar: "BAR", baz: "BAZ", boo: "BOO", brew: "BREW", bat: "BAT", flute: "FLUTE", argh: "ARGH" };
    compilesTo('{{foo}}<span></span>', 'FOO<span></span>', context);
    compilesTo('<span></span>{{foo}}', '<span></span>FOO', context);
    compilesTo('<span>{{foo}}</span>{{foo}}', '<span>FOO</span>FOO', context);
    compilesTo('{{foo}}<span>{{foo}}</span>{{foo}}', 'FOO<span>FOO</span>FOO', context);
    compilesTo('{{foo}}<span></span>{{foo}}', 'FOO<span></span>FOO', context);
    compilesTo('{{foo}}<span></span>{{bar}}<span><span><span>{{baz}}</span></span></span>', 'FOO<span></span>BAR<span><span><span>BAZ</span></span></span>', context);
    compilesTo('{{foo}}<span></span>{{bar}}<span>{{argh}}<span><span>{{baz}}</span></span></span>', 'FOO<span></span>BAR<span>ARGH<span><span>BAZ</span></span></span>', context);
    compilesTo('{{foo}}<span>{{bar}}<a>{{baz}}<em>{{boo}}{{brew}}</em>{{bat}}</a></span><span><span>{{flute}}</span></span>{{argh}}', 'FOO<span>BAR<a>BAZ<em>BOOBREW</em>BAT</a></span><span><span>FLUTE</span></span>ARGH', context);
});
test("Static <div class> is preserved properly", function () {
    compilesTo("\n    <div class=\"hello world\">1</div>\n    <div class=\"goodbye world\">2</div>\n  ", "\n    <div class=\"hello world\">1</div>\n    <div class=\"goodbye world\">2</div>\n  ");
});
test("Static <option selected> is preserved properly", function () {
    var template = compile("\n    <select>\n      <option>1</option>\n      <option selected>2</option>\n      <option>3</option>\n    </select>\n  ");
    render(template, {});
    var selectNode = root.childNodes[1];
    equal(selectNode.selectedIndex, 1, 'second item is selected');
});
test("Static <option selected> for multi-select is preserved properly", function () {
    var template = compile("\n    <select multiple>\n      <option selected>1</option>\n      <option selected>2</option>\n      <option>3</option>\n    </select>\n  ");
    render(template, {});
    var selectNode = root.childNodes[1];
    var options = selectNode.querySelectorAll('option[selected]');
    equal(options.length, 2, 'two options are selected');
});
test("Dynamic <option selected> is preserved properly", function () {
    var template = compile("\n    <select>\n      <option>1</option>\n      <option selected={{selected}}>2</option>\n      <option>3</option>\n    </select>\n  ");
    render(template, { selected: true });
    var selectNode = root.childNodes[1];
    equal(selectNode.selectedIndex, 1, 'second item is selected');
});
test("Dynamic <option selected> for multi-select is preserved properly", function () {
    var template = compile("\n    <select multiple>\n      <option>0</option>\n      <option selected={{somethingTrue}}>1</option>\n      <option selected={{somethingTruthy}}>2</option>\n      <option selected={{somethingUndefined}}>3</option>\n      <option selected={{somethingNull}}>4</option>\n      <option selected={{somethingFalse}}>5</option>\n    </select>\n  ");
    render(template, {
        somethingTrue: true,
        somethingTruthy: 'is-true',
        somethingUndefined: undefined,
        somethingNull: null,
        somethingFalse: false
    });
    var selectNode = root.childNodes[1];
    var options = Array.prototype.slice.call(selectNode.querySelectorAll('option'));
    var selected = options.filter(function (option) { return option.selected; });
    equal(selected.length, 2, 'two options are selected');
    equal(selected[0].value, '1', 'first selected item is "1"');
    equal(selected[1].value, '2', 'second selected item is "2"');
});
module("Initial render - simple blocks");
test("The compiler can handle unescaped tr in top of content", function () {
    var template = compile('{{#identity}}{{{html}}}{{/identity}}');
    var context = { html: '<tr><td>Yo</td></tr>' };
    root = createElement('table');
    render(template, context);
    equal(root.firstChild['tagName'], 'TBODY', "root tbody is present");
});
test("The compiler can handle unescaped tr inside fragment table", function () {
    var template = compile('<table>{{#identity}}{{{html}}}{{/identity}}</table>');
    var context = { html: '<tr><td>Yo</td></tr>' };
    render(template, context);
    var tableNode = root.firstChild;
    equal(tableNode.firstChild['tagName'], 'TBODY', "root tbody is present");
});
module("Initial render - inline helpers");
test("The compiler can handle simple helpers", function () {
    env.registerHelper('testing', function (params) {
        return params[0];
    });
    compilesTo('<div>{{testing title}}</div>', '<div>hello</div>', { title: 'hello' });
});
test("GH#13999 The compiler can handle simple helpers with inline null parameter", function () {
    var value;
    env.registerHelper('say-hello', function (params) {
        value = params[0];
        return 'hello';
    });
    compilesTo('<div>{{say-hello null}}</div>', '<div>hello</div>');
    strictEqual(value, null, 'is null');
});
test("GH#13999 The compiler can handle simple helpers with inline string literal null parameter", function () {
    var value;
    env.registerHelper('say-hello', function (params) {
        value = params[0];
        return 'hello';
    });
    compilesTo('<div>{{say-hello "null"}}</div>', '<div>hello</div>');
    strictEqual(value, 'null', 'is null string literal');
});
test("GH#13999 The compiler can handle simple helpers with inline undefined parameter", function () {
    var value = 'PLACEHOLDER';
    var length;
    env.registerHelper('say-hello', function (params) {
        length = params.length;
        value = params[0];
        return 'hello';
    });
    compilesTo('<div>{{say-hello undefined}}</div>', '<div>hello</div>');
    strictEqual(length, 1);
    strictEqual(value, undefined, 'is undefined');
});
test("GH#13999 The compiler can handle simple helpers with positional parameter undefined string literal", function () {
    var value = 'PLACEHOLDER';
    var length;
    env.registerHelper('say-hello', function (params) {
        length = params.length;
        value = params[0];
        return 'hello';
    });
    compilesTo('<div>{{say-hello "undefined"}} undefined</div>', '<div>hello undefined</div>');
    strictEqual(length, 1);
    strictEqual(value, 'undefined', 'is undefined string literal');
});
test("GH#13999 The compiler can handle components with undefined named arguments", function () {
    var value = 'PLACEHOLDER';
    env.registerHelper('say-hello', function (_, hash) {
        value = hash['foo'];
        return 'hello';
    });
    compilesTo('<div>{{say-hello foo=undefined}}</div>', '<div>hello</div>');
    strictEqual(value, undefined, 'is undefined');
});
test("GH#13999 The compiler can handle components with undefined string literal named arguments", function () {
    var value = 'PLACEHOLDER';
    env.registerHelper('say-hello', function (_, hash) {
        value = hash['foo'];
        return 'hello';
    });
    compilesTo('<div>{{say-hello foo="undefined"}}</div>', '<div>hello</div>');
    strictEqual(value, 'undefined', 'is undefined string literal');
});
test("GH#13999 The compiler can handle components with null named arguments", function () {
    var value;
    env.registerHelper('say-hello', function (_, hash) {
        value = hash['foo'];
        return 'hello';
    });
    compilesTo('<div>{{say-hello foo=null}}</div>', '<div>hello</div>');
    strictEqual(value, null, 'is null');
});
test("GH#13999 The compiler can handle components with null string literal named arguments", function () {
    var value;
    env.registerHelper('say-hello', function (_, hash) {
        value = hash['foo'];
        return 'hello';
    });
    compilesTo('<div>{{say-hello foo="null"}}</div>', '<div>hello</div>');
    strictEqual(value, 'null', 'is null string literal');
});
test("GH#13999 The compiler can handle components with undefined named arguments", function () {
    env.registerHelper('say-hello', function () {
        return 'hello';
    });
    compilesTo('<div>{{say-hello foo=undefined}}</div>', '<div>hello</div>');
});
test("Null curly in attributes", function () {
    compilesTo('<div class="foo {{null}}">hello</div>', '<div class="foo ">hello</div>');
});
test("Null in primitive syntax", function () {
    compilesTo('{{#if null}}NOPE{{else}}YUP{{/if}}', 'YUP');
});
test("The compiler can handle sexpr helpers", function () {
    env.registerHelper('testing', function (params) {
        return params[0] + "!";
    });
    compilesTo('<div>{{testing (testing "hello")}}</div>', '<div>hello!!</div>', {});
});
test("The compiler can handle multiple invocations of sexprs", function () {
    env.registerHelper('testing', function (params) {
        return "" + params[0] + params[1];
    });
    compilesTo('<div>{{testing (testing "hello" foo) (testing (testing bar "lol") baz)}}</div>', '<div>helloFOOBARlolBAZ</div>', { foo: "FOO", bar: "BAR", baz: "BAZ" });
});
test("The compiler passes along the hash arguments", function () {
    env.registerHelper('testing', function (params, hash) {
        return hash['first'] + '-' + hash['second'];
    });
    compilesTo('<div>{{testing first="one" second="two"}}</div>', '<div>one-two</div>');
});
// test("Attributes can use computed paths", function() {
//   compilesTo('<a href="{{post.url}}">linky</a>', '<a href="linky.html">linky</a>', { post: { url: 'linky.html' }});
// });
/*

test("It is possible to use RESOLVE_IN_ATTR for data binding", function() {
  let callback;

  registerHelper('RESOLVE_IN_ATTR', function(parts, options) {
    return boundValue(function(c) {
      callback = c;
      return this[parts[0]];
    }, this);
  });

  let object = { url: 'linky.html' };
  let fragment = compilesTo('<a href="{{url}}">linky</a>', '<a href="linky.html">linky</a>', object);

  object.url = 'clippy.html';
  callback();

  equalTokens(fragment, '<a href="clippy.html">linky</a>');

  object.url = 'zippy.html';
  callback();

  equalTokens(fragment, '<a href="zippy.html">linky</a>');
});
*/
test("Attributes can be populated with helpers that generate a string", function () {
    env.registerHelper('testing', function (params) {
        return params[0];
    });
    compilesTo('<a href="{{testing url}}">linky</a>', '<a href="linky.html">linky</a>', { url: 'linky.html' });
});
/*
test("A helper can return a stream for the attribute", function() {
  env.registerHelper('testing', function(path, options) {
    return streamValue(this[path]);
  });

  compilesTo('<a href="{{testing url}}">linky</a>', '<a href="linky.html">linky</a>', { url: 'linky.html'});
});
*/
test("Attribute helpers take a hash", function () {
    env.registerHelper('testing', function (params, hash) {
        return hash['path'];
    });
    compilesTo('<a href="{{testing path=url}}">linky</a>', '<a href="linky.html">linky</a>', { url: 'linky.html' });
});
/*
test("Attribute helpers can use the hash for data binding", function() {
  let callback;

  env.registerHelper('testing', function(path, hash, options) {
    return boundValue(function(c) {
      callback = c;
      return this[path] ? hash.truthy : hash.falsy;
    }, this);
  });

  let object = { on: true };
  let fragment = compilesTo('<div class="{{testing on truthy="yeah" falsy="nope"}}">hi</div>', '<div class="yeah">hi</div>', object);

  object.on = false;
  callback();
  equalTokens(fragment, '<div class="nope">hi</div>');
});
*/
test("Attributes containing multiple helpers are treated like a block", function () {
    env.registerHelper('testing', function (params) {
        return params[0];
    });
    compilesTo('<a href="http://{{foo}}/{{testing bar}}/{{testing "baz"}}">linky</a>', '<a href="http://foo.com/bar/baz">linky</a>', { foo: 'foo.com', bar: 'bar' });
});
test("Attributes containing a helper are treated like a block", function () {
    expect(2);
    env.registerHelper('testing', function (params) {
        deepEqual(params, [123]);
        return "example.com";
    });
    compilesTo('<a href="http://{{testing 123}}/index.html">linky</a>', '<a href="http://example.com/index.html">linky</a>', { person: { url: 'example.com' } });
});
/*
test("It is possible to trigger a re-render of an attribute from a child resolution", function() {
  let callback;

  env.registerHelper('RESOLVE_IN_ATTR', function(path, options) {
    return boundValue(function(c) {
      callback = c;
      return this[path];
    }, this);
  });

  let context = { url: "example.com" };
  let fragment = compilesTo('<a href="http://{{url}}/index.html">linky</a>', '<a href="http://example.com/index.html">linky</a>', context);

  context.url = "www.example.com";
  callback();

  equalTokens(fragment, '<a href="http://www.example.com/index.html">linky</a>');
});

test("A child resolution can pass contextual information to the parent", function() {
  let callback;

  registerHelper('RESOLVE_IN_ATTR', function(path, options) {
    return boundValue(function(c) {
      callback = c;
      return this[path];
    }, this);
  });

  let context = { url: "example.com" };
  let fragment = compilesTo('<a href="http://{{url}}/index.html">linky</a>', '<a href="http://example.com/index.html">linky</a>', context);

  context.url = "www.example.com";
  callback();

  equalTokens(fragment, '<a href="http://www.example.com/index.html">linky</a>');
});

test("Attribute runs can contain helpers", function() {
  let callbacks = [];

  registerHelper('RESOLVE_IN_ATTR', function(path, options) {
    return boundValue(function(c) {
      callbacks.push(c);
      return this[path];
    }, this);
  });

  registerHelper('testing', function(path, options) {
    return boundValue(function(c) {
      callbacks.push(c);

      if (options.paramTypes[0] === 'id') {
        return this[path] + '.html';
      } else {
        return path;
      }
    }, this);
  });

  let context = { url: "example.com", path: 'index' };
  let fragment = compilesTo(
    '<a href="http://{{url}}/{{testing path}}/{{testing "linky"}}">linky</a>',
    '<a href="http://example.com/index.html/linky">linky</a>',
    context
  );

  context.url = "www.example.com";
  context.path = "yep";
  forEach(callbacks, function(callback) { callback(); });

  equalTokens(fragment, '<a href="http://www.example.com/yep.html/linky">linky</a>');

  context.url = "nope.example.com";
  context.path = "nope";
  forEach(callbacks, function(callback) { callback(); });

  equalTokens(fragment, '<a href="http://nope.example.com/nope.html/linky">linky</a>');
});
*/
test("Elements inside a yielded block", function () {
    compilesTo('{{#identity}}<div id="test">123</div>{{/identity}}', '<div id="test">123</div>');
});
test("A simple block helper can return text", function () {
    compilesTo('{{#identity}}test{{else}}not shown{{/identity}}', 'test');
});
test("A block helper can have an else block", function () {
    compilesTo('{{#render-inverse}}Nope{{else}}<div id="test">123</div>{{/render-inverse}}', '<div id="test">123</div>');
});
module("Initial render - miscellaneous");
test('Components - Unknown helpers fall back to elements', function () {
    var object = { size: 'med', foo: 'b' };
    compilesTo('<x-bar class="btn-{{size}}">a{{foo}}c</x-bar>', '<x-bar class="btn-med">abc</x-bar>', object);
});
test('Components - Text-only attributes work', function () {
    var object = { foo: 'qux' };
    compilesTo('<x-bar id="test">{{foo}}</x-bar>', '<x-bar id="test">qux</x-bar>', object);
});
test('Components - Empty components work', function () {
    compilesTo('<x-bar></x-bar>', '<x-bar></x-bar>', {});
});
test('Components - Text-only dashed attributes work', function () {
    var object = { foo: 'qux' };
    compilesTo('<x-bar aria-label="foo" id="test">{{foo}}</x-bar>', '<x-bar aria-label="foo" id="test">qux</x-bar>', object);
});
test('Repaired text nodes are ensured in the right place', function () {
    var object = { a: "A", b: "B", c: "C", d: "D" };
    compilesTo('{{a}} {{b}}', 'A B', object);
    compilesTo('<div>{{a}}{{b}}{{c}}wat{{d}}</div>', '<div>ABCwatD</div>', object);
    compilesTo('{{a}}{{b}}<img><img><img><img>', 'AB<img><img><img><img>', object);
});
test("Simple elements can have dashed attributes", function () {
    var template = compile("<div aria-label='foo'>content</div>");
    render(template, {});
    test_helpers_1.equalTokens(root, '<div aria-label="foo">content</div>');
});
test('Block params in HTML syntax - Throws exception if given zero parameters', function () {
    expect(2);
    QUnit.throws(function () {
        compile('<x-bar as ||>foo</x-bar>');
    }, /Cannot use zero block parameters: 'as \|\|'/);
    QUnit.throws(function () {
        compile('<x-bar as | |>foo</x-bar>');
    }, /Cannot use zero block parameters: 'as \| \|'/);
});
test("Block params in HTML syntax - Throws an error on invalid block params syntax", function () {
    expect(3);
    QUnit.throws(function () {
        compile('<x-bar as |x y>{{x}},{{y}}</x-bar>');
    }, /Invalid block parameters syntax: 'as |x y'/);
    QUnit.throws(function () {
        compile('<x-bar as |x| y>{{x}},{{y}}</x-bar>');
    }, /Invalid block parameters syntax: 'as \|x\| y'/);
    QUnit.throws(function () {
        compile('<x-bar as |x| y|>{{x}},{{y}}</x-bar>');
    }, /Invalid block parameters syntax: 'as \|x\| y\|'/);
});
test("Block params in HTML syntax - Throws an error on invalid identifiers for params", function () {
    expect(3);
    QUnit.throws(function () {
        compile('<x-bar as |x foo.bar|></x-bar>');
    }, /Invalid identifier for block parameters: 'foo\.bar' in 'as \|x foo\.bar|'/);
    QUnit.throws(function () {
        compile('<x-bar as |x "foo"|></x-bar>');
    }, /Syntax error at line 1 col 17: " is not a valid character within attribute names/);
    QUnit.throws(function () {
        compile('<x-bar as |foo[bar]|></x-bar>');
    }, /Invalid identifier for block parameters: 'foo\[bar\]' in 'as \|foo\[bar\]\|'/);
});
module("Initial render (invalid HTML)");
test("A helpful error message is provided for unclosed elements", function () {
    expect(2);
    QUnit.throws(function () {
        compile('\n<div class="my-div" \n foo={{bar}}>\n<span>\n</span>\n');
    }, /Unclosed element `div` \(on line 2\)\./);
    QUnit.throws(function () {
        compile('\n<div class="my-div">\n<span>\n');
    }, /Unclosed element `span` \(on line 3\)\./);
});
test("A helpful error message is provided for unmatched end tags", function () {
    expect(2);
    QUnit.throws(function () {
        compile("</p>");
    }, /Closing tag `p` \(on line 1\) without an open tag\./);
    QUnit.throws(function () {
        compile("<em>{{ foo }}</em> \n {{ bar }}\n</div>");
    }, /Closing tag `div` \(on line 3\) without an open tag\./);
});
test("A helpful error message is provided for end tags for void elements", function () {
    expect(3);
    QUnit.throws(function () {
        compile("<input></input>");
    }, /Invalid end tag `input` \(on line 1\) \(void elements cannot have end tags\)./);
    QUnit.throws(function () {
        compile("<div>\n  <input></input>\n</div>");
    }, /Invalid end tag `input` \(on line 2\) \(void elements cannot have end tags\)./);
    QUnit.throws(function () {
        compile("\n\n</br>");
    }, /Invalid end tag `br` \(on line 3\) \(void elements cannot have end tags\)./);
});
test("A helpful error message is provided for end tags with attributes", function () {
    QUnit.throws(function () {
        compile('<div>\nSomething\n\n</div foo="bar">');
    }, /Invalid end tag: closing tag must not have attributes, in `div` \(on line 4\)\./);
});
test("A helpful error message is provided for mismatched start/end tags", function () {
    QUnit.throws(function () {
        compile("<div>\n<p>\nSomething\n\n</div>");
    }, /Closing tag `div` \(on line 5\) did not match last open tag `p` \(on line 2\)\./);
});
test("error line numbers include comment lines", function () {
    QUnit.throws(function () {
        compile("<div>\n<p>\n{{! some comment}}\n\n</div>");
    }, /Closing tag `div` \(on line 5\) did not match last open tag `p` \(on line 2\)\./);
});
test("error line numbers include mustache only lines", function () {
    QUnit.throws(function () {
        compile("<div>\n<p>\n{{someProp}}\n\n</div>");
    }, /Closing tag `div` \(on line 5\) did not match last open tag `p` \(on line 2\)\./);
});
test("error line numbers include block lines", function () {
    QUnit.throws(function () {
        compile("<div>\n<p>\n{{#some-comment}}\n{{/some-comment}}\n</div>");
    }, /Closing tag `div` \(on line 5\) did not match last open tag `p` \(on line 2\)\./);
});
test("error line numbers include whitespace control mustaches", function () {
    QUnit.throws(function () {
        compile("<div>\n<p>\n{{someProp~}}\n\n</div>{{some-comment}}");
    }, /Closing tag `div` \(on line 5\) did not match last open tag `p` \(on line 2\)\./);
});
test("error line numbers include multiple mustache lines", function () {
    QUnit.throws(function () {
        compile("<div>\n<p>\n{{some-comment}}</div>{{some-comment}}");
    }, /Closing tag `div` \(on line 3\) did not match last open tag `p` \(on line 2\)\./);
});
module("Initial render of namespaced HTML");
test("Namespaced attribute", function () {
    compilesTo("<svg xlink:title='svg-title'>content</svg>");
    var svg = root.firstChild;
    equal(svg.namespaceURI, SVG_NAMESPACE);
    equal(svg.attributes[0].namespaceURI, XLINK_NAMESPACE);
});
test("<svg> tag with case-sensitive attribute", function () {
    var viewBox = '0 0 0 0';
    compilesTo("<svg viewBox=\"" + viewBox + "\"></svg>");
    var svg = root.firstChild;
    equal(svg.namespaceURI, SVG_NAMESPACE);
    equal(svg.getAttribute('viewBox'), viewBox);
});
test("nested element in the SVG namespace", function () {
    var d = 'M 0 0 L 100 100';
    compilesTo("<svg><path d=\"" + d + "\"></path></svg>");
    var svg = root.firstChild;
    var path = svg.firstChild;
    equal(svg.namespaceURI, SVG_NAMESPACE);
    equal(path.namespaceURI, SVG_NAMESPACE, "creates the path element with a namespace");
    equal(path.getAttribute('d'), d);
});
test("<foreignObject> tag has an SVG namespace", function () {
    compilesTo('<svg><foreignObject>Hi</foreignObject></svg>');
    var svg = root.firstChild;
    var foreignObject = svg.firstChild;
    equal(svg.namespaceURI, SVG_NAMESPACE);
    equal(foreignObject.namespaceURI, SVG_NAMESPACE, "creates the foreignObject element with a namespace");
});
test("Namespaced and non-namespaced elements as siblings", function () {
    compilesTo('<svg></svg><svg></svg><div></div>');
    equal(root.childNodes[0].namespaceURI, SVG_NAMESPACE, "creates the first svg element with a namespace");
    equal(root.childNodes[1].namespaceURI, SVG_NAMESPACE, "creates the second svg element with a namespace");
    equal(root.childNodes[2].namespaceURI, XHTML_NAMESPACE, "creates the div element without a namespace");
});
test("Namespaced and non-namespaced elements with nesting", function () {
    compilesTo('<div><svg></svg></div><div></div>');
    var firstDiv = root.firstChild;
    var secondDiv = root.lastChild;
    var svg = firstDiv.firstChild;
    equal(firstDiv.namespaceURI, XHTML_NAMESPACE, "first div's namespace is xhtmlNamespace");
    equal(svg.namespaceURI, SVG_NAMESPACE, "svg's namespace is svgNamespace");
    equal(secondDiv.namespaceURI, XHTML_NAMESPACE, "last div's namespace is xhtmlNamespace");
});
test("Case-sensitive tag has capitalization preserved", function () {
    compilesTo('<svg><linearGradient id="gradient"></linearGradient></svg>');
});
var warnings = 0;
var StyleAttribute = (function (_super) {
    __extends(StyleAttribute, _super);
    function StyleAttribute() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    StyleAttribute.prototype.setAttribute = function (dom, element, value) {
        warnings++;
        _super.prototype.setAttribute.call(this, dom, element, value);
    };
    StyleAttribute.prototype.updateAttribute = function () { };
    return StyleAttribute;
}(runtime_1.AttributeManager));
var STYLE_ATTRIBUTE = new StyleAttribute('style');
QUnit.module('Style attributes', {
    setup: function () {
        var StyleEnv = (function (_super) {
            __extends(StyleEnv, _super);
            function StyleEnv() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            StyleEnv.prototype.attributeFor = function (element, attr, isTrusting, namespace) {
                if (attr === 'style' && !isTrusting) {
                    return STYLE_ATTRIBUTE;
                }
                return _super.prototype.attributeFor.call(this, element, attr, isTrusting);
            };
            return StyleEnv;
        }(test_helpers_1.TestEnvironment));
        commonSetup(new StyleEnv());
    },
    teardown: function () {
        warnings = 0;
    }
});
test("using a static inline style on an element does not give you a warning", function (assert) {
    var template = compile("<div style=\"background: red\">Thing</div>");
    render(template, {});
    assert.strictEqual(warnings, 0);
    test_helpers_1.equalTokens(root, '<div style="background: red">Thing</div>', "initial render");
});
test("triple curlies are trusted", function (assert) {
    var template = compile("<div foo={{foo}} style={{{styles}}}>Thing</div>");
    render(template, { styles: 'background: red' });
    assert.strictEqual(warnings, 0);
    test_helpers_1.equalTokens(root, '<div style="background: red">Thing</div>', "initial render");
});
test("using a static inline style on an namespaced element does not give you a warning", function (assert) {
    var template = compile("<svg xmlns:svg=\"http://www.w3.org/2000/svg\" style=\"background: red\" />");
    render(template, {});
    assert.strictEqual(warnings, 0);
    test_helpers_1.equalTokens(root, '<svg xmlns:svg="http://www.w3.org/2000/svg" style="background: red"></svg>', "initial render");
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdGlhbC1yZW5kZXItdGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkBnbGltbWVyL3J1bnRpbWUvdGVzdHMvaW5pdGlhbC1yZW5kZXItdGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxzREFBMkg7QUFDM0gsNENBQXNFO0FBQ3RFLDhEQUErRDtBQUUvRCxJQUFNLGFBQWEsR0FBRyw0QkFBNEIsQ0FBQztBQUNuRCxJQUFNLGVBQWUsR0FBRyw4QkFBOEIsQ0FBQztBQUN2RCxJQUFNLGVBQWUsR0FBRyw4QkFBOEIsQ0FBQztBQUV2RCxJQUFJLEdBQW9CLEVBQUUsSUFBaUIsQ0FBQztBQUU1QyxpQkFBaUIsUUFBZ0I7SUFDL0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDL0IsQ0FBQztBQUVELG9CQUFvQixJQUFZLEVBQUUsUUFBcUIsRUFBRSxPQUFlO0lBQXRDLHlCQUFBLEVBQUEsZUFBcUI7SUFBRSx3QkFBQSxFQUFBLFlBQWU7SUFDdEUsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzdCLElBQUksR0FBRyxXQUFXLEVBQUUsQ0FBQztJQUNyQixNQUFNLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzFCLDBCQUFXLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzlCLENBQUM7QUFFRDtJQUNFLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBbUIsQ0FBQztBQUM3RCxDQUFDO0FBRUQscUJBQXFCLFNBQWlDO0lBQWpDLDBCQUFBLEVBQUEsZ0JBQWdCLDhCQUFlLEVBQUU7SUFDcEQsR0FBRyxHQUFHLFNBQVMsQ0FBQyxDQUFDLDBCQUEwQjtJQUMzQyxJQUFJLEdBQUcsV0FBVyxFQUFFLENBQUM7QUFDdkIsQ0FBQztBQUVELGdCQUFtQixRQUFxQixFQUFFLElBQVM7SUFD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Q0FBQyxDQUFDO0lBRWhDLDBCQUFXLENBQUMsSUFBSSxFQUFFLDRFQUE0RSxFQUFFLGdCQUFnQixDQUFDLENBQUM7QUFDcEgsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXN0RW52aXJvbm1lbnQsIFRlc3REeW5hbWljU2NvcGUsIG5vcm1hbGl6ZUlubmVySFRNTCwgZ2V0VGV4dENvbnRlbnQsIGVxdWFsVG9rZW5zIH0gZnJvbSBcIkBnbGltbWVyL3Rlc3QtaGVscGVyc1wiO1xuaW1wb3J0IHsgVGVtcGxhdGUsIFNpbXBsZSwgQXR0cmlidXRlTWFuYWdlciB9IGZyb20gJ0BnbGltbWVyL3J1bnRpbWUnO1xuaW1wb3J0IHsgVXBkYXRhYmxlUmVmZXJlbmNlIH0gZnJvbSAnQGdsaW1tZXIvb2JqZWN0LXJlZmVyZW5jZSc7XG5cbmNvbnN0IFNWR19OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuY29uc3QgWExJTktfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xuY29uc3QgWEhUTUxfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnO1xuXG5sZXQgZW52OiBUZXN0RW52aXJvbm1lbnQsIHJvb3Q6IEhUTUxFbGVtZW50O1xuXG5mdW5jdGlvbiBjb21waWxlKHRlbXBsYXRlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGVudi5jb21waWxlKHRlbXBsYXRlKTtcbn1cblxuZnVuY3Rpb24gY29tcGlsZXNUbyhodG1sOiBzdHJpbmcsIGV4cGVjdGVkOiBzdHJpbmc9aHRtbCwgY29udGV4dDogYW55PXt9KSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoaHRtbCk7XG4gIHJvb3QgPSByb290RWxlbWVudCgpO1xuICByZW5kZXIodGVtcGxhdGUsIGNvbnRleHQpO1xuICBlcXVhbFRva2Vucyhyb290LCBleHBlY3RlZCk7XG59XG5cbmZ1bmN0aW9uIHJvb3RFbGVtZW50KCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgcmV0dXJuIGVudi5nZXRET00oKS5jcmVhdGVFbGVtZW50KCdkaXYnKSBhcyBIVE1MRGl2RWxlbWVudDtcbn1cblxuZnVuY3Rpb24gY29tbW9uU2V0dXAoY3VzdG9tRW52ID0gbmV3IFRlc3RFbnZpcm9ubWVudCgpKSB7XG4gIGVudiA9IGN1c3RvbUVudjsgLy8gVE9ETzogU3VwcG9ydCBTaW1wbGVET01cbiAgcm9vdCA9IHJvb3RFbGVtZW50KCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlcjxUPih0ZW1wbGF0ZTogVGVtcGxhdGU8VD4sIHNlbGY6IGFueSkge1xuICBsZXQgcmVzdWx0O1xuICBlbnYuYmVnaW4oKTtcbiAgcmVzdWx0ID0gdGVtcGxhdGUucmVuZGVyKG5ldyBVcGRhdGFibGVSZWZlcmVuY2Uoc2VsZiksIHJvb3QsIG5ldyBUZXN0RHluYW1pY1Njb3BlKCkpO1xuICBlbnYuY29tbWl0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZShuYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIFFVbml0Lm1vZHVsZShuYW1lLCB7XG4gICAgc2V0dXAoKSB7IGNvbW1vblNldHVwKCk7IH1cbiAgfSk7XG59XG5cbm1vZHVsZShcIkluaXRpYWwgcmVuZGVyIC0gU2ltcGxlIEhUTUwsIGlubGluZSBleHByZXNzaW9uc1wiKTtcblxudGVzdChcIkhUTUwgdGV4dCBjb250ZW50XCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdGVtcGxhdGUgPSBjb21waWxlKFwiY29udGVudFwiKTtcbiAgcmVuZGVyKHRlbXBsYXRlLCB7fSk7XG5cbiAgZXF1YWxUb2tlbnMocm9vdCwgXCJjb250ZW50XCIpO1xufSk7XG5cbnRlc3QoXCJIVE1MIHRhZ3NcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoXCI8aDE+aGVsbG8hPC9oMT48ZGl2PmNvbnRlbnQ8L2Rpdj5cIik7XG4gIHJlbmRlcih0ZW1wbGF0ZSwge30pO1xuXG4gIGVxdWFsVG9rZW5zKHJvb3QsIFwiPGgxPmhlbGxvITwvaDE+PGRpdj5jb250ZW50PC9kaXY+XCIpO1xufSk7XG5cbnRlc3QoXCJIVE1MIHRhZ3MgcmUtcmVuZGVyZWRcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoXCI8aDE+aGVsbG8hPC9oMT48ZGl2PmNvbnRlbnQ8L2Rpdj5cIik7XG4gIGxldCByZXN1bHQgPSByZW5kZXIodGVtcGxhdGUsIHt9KTtcblxuICBsZXQgb2xkRmlyc3RDaGlsZCA9IHJvb3QuZmlyc3RDaGlsZDtcblxuICBlbnYuYmVnaW4oKTtcbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG4gIGVudi5jb21taXQoKTtcblxuICBzdHJpY3RFcXVhbChyb290LmZpcnN0Q2hpbGQsIG9sZEZpcnN0Q2hpbGQpO1xuICBlcXVhbFRva2Vucyhyb290LCBcIjxoMT5oZWxsbyE8L2gxPjxkaXY+Y29udGVudDwvZGl2PlwiKTtcbn0pO1xuXG50ZXN0KFwiSFRNTCBhdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdGVtcGxhdGUgPSBjb21waWxlKFwiPGRpdiBjbGFzcz0nZm9vJyBpZD0nYmFyJz5jb250ZW50PC9kaXY+XCIpO1xuICByZW5kZXIodGVtcGxhdGUsIHt9KTtcblxuICBlcXVhbFRva2Vucyhyb290LCAnPGRpdiBjbGFzcz1cImZvb1wiIGlkPVwiYmFyXCI+Y29udGVudDwvZGl2PicpO1xufSk7XG5cbnRlc3QoXCJIVE1MIHRhZyB3aXRoIGVtcHR5IGF0dHJpYnV0ZVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHRlbXBsYXRlID0gY29tcGlsZShcIjxkaXYgY2xhc3M9Jyc+Y29udGVudDwvZGl2PlwiKTtcbiAgcmVuZGVyKHRlbXBsYXRlLCB7fSk7XG5cbiAgZXF1YWxUb2tlbnMocm9vdCwgXCI8ZGl2IGNsYXNzPScnPmNvbnRlbnQ8L2Rpdj5cIik7XG59KTtcblxudGVzdChcIkhUTUwgYm9vbGVhbiBhdHRyaWJ1dGUgJ2Rpc2FibGVkJ1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHRlbXBsYXRlID0gY29tcGlsZSgnPGlucHV0IGRpc2FibGVkPicpO1xuICByZW5kZXIodGVtcGxhdGUsIHt9KTtcblxuICBvayhyb290LmZpcnN0Q2hpbGRbJ2Rpc2FibGVkJ10sICdkaXNhYmxlZCB3aXRob3V0IHZhbHVlIHNldCBhcyBwcm9wZXJ0eSBpcyB0cnVlJyk7XG59KTtcblxudGVzdChcIlF1b3RlZCBhdHRyaWJ1dGUgbnVsbCB2YWx1ZXMgZG8gbm90IGRpc2FibGVcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxpbnB1dCBkaXNhYmxlZD1cInt7aXNEaXNhYmxlZH19XCI+Jyk7XG4gIHJlbmRlcih0ZW1wbGF0ZSwgeyBpc0Rpc2FibGVkOiBudWxsIH0pO1xuXG4gIGVxdWFsKHJvb3QuZmlyc3RDaGlsZFsnZGlzYWJsZWQnXSwgZmFsc2UpO1xuICBlcXVhbFRva2Vucyhyb290LCAnPGlucHV0IC8+Jyk7XG59KTtcblxudGVzdChcIlVucXVvdGVkIGF0dHJpYnV0ZSBleHByZXNzaW9uIHdpdGggbnVsbCB2YWx1ZSBpcyBub3QgY29lcmNlZFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHRlbXBsYXRlID0gY29tcGlsZSgnPGlucHV0IGRpc2FibGVkPXt7aXNEaXNhYmxlZH19PicpO1xuICByZW5kZXIodGVtcGxhdGUsIHsgaXNEaXNhYmxlZDogbnVsbCB9KTtcblxuICBlcXVhbFRva2Vucyhyb290LCAnPGlucHV0PicpO1xufSk7XG5cbnRlc3QoXCJVbnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWVzXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdGVtcGxhdGUgPSBjb21waWxlKCc8aW5wdXQgdmFsdWU9ZnVuc3R1ZmY+Jyk7XG4gIHJlbmRlcih0ZW1wbGF0ZSwge30pO1xuXG4gIGxldCBpbnB1dE5vZGU6IGFueSA9IHJvb3QuZmlyc3RDaGlsZDtcblxuICBlcXVhbChpbnB1dE5vZGUudGFnTmFtZSwgJ0lOUFVUJywgJ2lucHV0IHRhZycpO1xuICBlcXVhbChpbnB1dE5vZGUudmFsdWUsICdmdW5zdHVmZicsICd2YWx1ZSBpcyBzZXQgYXMgcHJvcGVydHknKTtcbn0pO1xuXG50ZXN0KFwiVW5xdW90ZWQgYXR0cmlidXRlIGV4cHJlc3Npb24gd2l0aCBzdHJpbmcgdmFsdWUgaXMgbm90IGNvZXJjZWRcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxpbnB1dCB2YWx1ZT17e2Z1bnN0dWZmfX0+Jyk7XG4gIHJlbmRlcih0ZW1wbGF0ZSwge2Z1bnN0dWZmOiBcIm9oIG15XCJ9KTtcblxuICBsZXQgaW5wdXROb2RlOiBhbnkgPSByb290LmZpcnN0Q2hpbGQ7XG5cbiAgZXF1YWwoaW5wdXROb2RlLnRhZ05hbWUsICdJTlBVVCcsICdpbnB1dCB0YWcnKTtcbiAgZXF1YWwoaW5wdXROb2RlLnZhbHVlLCAnb2ggbXknLCAnc3RyaW5nIGlzIHNldCB0byBwcm9wZXJ0eScpO1xufSk7XG5cbnRlc3QoXCJVbnF1b3RlZCBpbWcgc3JjIGF0dHJpYnV0ZSBpcyByZW5kZXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHRlbXBsYXRlID0gY29tcGlsZSgnPGltZyBzcmM9e3tzb21lVVJMfX0+Jyk7XG4gIHJlbmRlcih0ZW1wbGF0ZSwgeyBzb21lVVJMOiBcImh0dHA6Ly9mb28uY29tL2Zvby5wbmdcIn0pO1xuXG4gIGxldCBpbWdOb2RlOiBhbnkgPSByb290LmZpcnN0Q2hpbGQ7XG5cbiAgZXF1YWxUb2tlbnMocm9vdCwgJzxpbWcgc3JjPVwiaHR0cDovL2Zvby5jb20vZm9vLnBuZ1wiPicpO1xuICBlcXVhbChpbWdOb2RlLnRhZ05hbWUsICdJTUcnLCAnaW1nIHRhZycpO1xuICBlcXVhbChpbWdOb2RlLnNyYywgJ2h0dHA6Ly9mb28uY29tL2Zvby5wbmcnLCAnc3RyaW5nIGlzIHNldCB0byBwcm9wZXJ0eScpO1xufSk7XG5cbnRlc3QoXCJVbnF1b3RlZCBpbWcgc3JjIGF0dHJpYnV0ZSBpcyBub3QgcmVuZGVyZWQgd2hlbiBzZXQgdG8gYG51bGxgXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdGVtcGxhdGUgPSBjb21waWxlKCc8aW1nIHNyYz17e3NvbWVVUkx9fT4nKTtcbiAgcmVuZGVyKHRlbXBsYXRlLCB7IHNvbWVVUkw6IG51bGx9KTtcblxuICBlcXVhbFRva2Vucyhyb290LCAnPGltZz4nKTtcbn0pO1xuXG50ZXN0KFwiVW5xdW90ZWQgaW1nIHNyYyBhdHRyaWJ1dGUgaXMgbm90IHJlbmRlcmVkIHdoZW4gc2V0IHRvIGB1bmRlZmluZWRgXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdGVtcGxhdGUgPSBjb21waWxlKCc8aW1nIHNyYz17e3NvbWVVUkx9fT4nKTtcbiAgcmVuZGVyKHRlbXBsYXRlLCB7IHNvbWVVUkw6IHVuZGVmaW5lZCB9KTtcblxuICBlcXVhbFRva2Vucyhyb290LCAnPGltZz4nKTtcbn0pO1xuXG50ZXN0KFwiUXVvdGVkIGltZyBzcmMgYXR0cmlidXRlIGlzIHJlbmRlcmVkXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdGVtcGxhdGUgPSBjb21waWxlKCc8aW1nIHNyYz1cInt7c29tZVVSTH19XCI+Jyk7XG4gIHJlbmRlcih0ZW1wbGF0ZSwgeyBzb21lVVJMOiBcImh0dHA6Ly9mb28uY29tL2Zvby5wbmdcIn0pO1xuXG4gIGxldCBpbWdOb2RlOiBhbnkgPSByb290LmZpcnN0Q2hpbGQ7XG5cbiAgZXF1YWwoaW1nTm9kZS50YWdOYW1lLCAnSU1HJywgJ2ltZyB0YWcnKTtcbiAgZXF1YWwoaW1nTm9kZS5zcmMsICdodHRwOi8vZm9vLmNvbS9mb28ucG5nJywgJ3N0cmluZyBpcyBzZXQgdG8gcHJvcGVydHknKTtcbn0pO1xuXG50ZXN0KFwiUXVvdGVkIGltZyBzcmMgYXR0cmlidXRlIGlzIG5vdCByZW5kZXJlZCB3aGVuIHNldCB0byBgbnVsbGBcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxpbWcgc3JjPVwie3tzb21lVVJMfX1cIj4nKTtcbiAgcmVuZGVyKHRlbXBsYXRlLCB7IHNvbWVVUkw6IG51bGx9KTtcblxuICBlcXVhbFRva2Vucyhyb290LCAnPGltZz4nKTtcbn0pO1xuXG50ZXN0KFwiUXVvdGVkIGltZyBzcmMgYXR0cmlidXRlIGlzIG5vdCByZW5kZXJlZCB3aGVuIHNldCB0byBgdW5kZWZpbmVkYFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHRlbXBsYXRlID0gY29tcGlsZSgnPGltZyBzcmM9XCJ7e3NvbWVVUkx9fVwiPicpO1xuICByZW5kZXIodGVtcGxhdGUsIHsgc29tZVVSTDogdW5kZWZpbmVkIH0pO1xuXG4gIGVxdWFsVG9rZW5zKHJvb3QsICc8aW1nPicpO1xufSk7XG5cbnRlc3QoXCJVbnF1b3RlZCBhIGhyZWYgYXR0cmlidXRlIGlzIG5vdCByZW5kZXJlZCB3aGVuIHNldCB0byBgbnVsbGBcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxhIGhyZWY9e3tzb21lVVJMfX0+PC9hPicpO1xuICByZW5kZXIodGVtcGxhdGUsIHsgc29tZVVSTDogbnVsbH0pO1xuXG4gIGVxdWFsVG9rZW5zKHJvb3QsICc8YT48L2E+Jyk7XG59KTtcblxudGVzdChcIlVucXVvdGVkIGltZyBzcmMgYXR0cmlidXRlIGlzIG5vdCByZW5kZXJlZCB3aGVuIHNldCB0byBgdW5kZWZpbmVkYFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHRlbXBsYXRlID0gY29tcGlsZSgnPGEgaHJlZj17e3NvbWVVUkx9fT48L2E+Jyk7XG4gIHJlbmRlcih0ZW1wbGF0ZSwgeyBzb21lVVJMOiB1bmRlZmluZWR9KTtcblxuICBlcXVhbFRva2Vucyhyb290LCAnPGE+PC9hPicpO1xufSk7XG5cbnRlc3QoXCJBdHRyaWJ1dGUgZXhwcmVzc2lvbiBjYW4gYmUgZm9sbG93ZWQgYnkgYW5vdGhlciBhdHRyaWJ1dGVcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxkaXYgZm9vPVwie3tmdW5zdHVmZn19XCIgbmFtZT1cIkFsaWNlXCI+PC9kaXY+Jyk7XG4gIHJlbmRlcih0ZW1wbGF0ZSwge2Z1bnN0dWZmOiBcIm9oIG15XCJ9KTtcblxuICBlcXVhbFRva2Vucyhyb290LCAnPGRpdiBuYW1lPVwiQWxpY2VcIiBmb289XCJvaCBteVwiPjwvZGl2PicpO1xufSk7XG5cbnRlc3QoXCJVbnF1b3RlZCBhdHRyaWJ1dGUgd2l0aCBleHByZXNzaW9uIHRocm93cyBhbiBleGNlcHRpb25cIiwgZnVuY3Rpb24gKCkge1xuICBleHBlY3QoNCk7XG5cbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkgeyBjb21waWxlKCc8aW1nIGNsYXNzPWZvb3t7YmFyfX0+Jyk7IH0sIGV4cGVjdGVkRXJyb3IoMSkpO1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7IGNvbXBpbGUoJzxpbWcgY2xhc3M9e3tmb299fXt7YmFyfX0+Jyk7IH0sIGV4cGVjdGVkRXJyb3IoMSkpO1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7IGNvbXBpbGUoJzxpbWcgXFxuY2xhc3M9e3tmb299fWJhcj4nKTsgfSwgZXhwZWN0ZWRFcnJvcigyKSk7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHsgY29tcGlsZSgnPGRpdiBcXG5jbGFzc1xcbj1cXG57e2Zvb319JmFtcDtiYXIgPjwvZGl2PicpOyB9LCBleHBlY3RlZEVycm9yKDQpKTtcblxuICBmdW5jdGlvbiBleHBlY3RlZEVycm9yKGxpbmUpIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgICAgYEFuIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgbXVzdGFjaGUsIGAgK1xuICAgICAgYHByZWNlZWRlZCBieSB3aGl0ZXNwYWNlIG9yIGEgJz0nIGNoYXJhY3RlciwgYW5kIGAgK1xuICAgICAgYGZvbGxvd2VkIGJ5IHdoaXRlc3BhY2UsIGEgJz4nIGNoYXJhY3Rlciwgb3IgJy8+JyAob24gbGluZSAke2xpbmV9KWBcbiAgICApO1xuICB9XG59KTtcblxudGVzdChcIkhUTUwgdGFnIHdpdGggZGF0YS0gYXR0cmlidXRlXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdGVtcGxhdGUgPSBjb21waWxlKFwiPGRpdiBkYXRhLXNvbWUtZGF0YT0nZm9vJz5jb250ZW50PC9kaXY+XCIpO1xuICByZW5kZXIodGVtcGxhdGUsIHt9KTtcbiAgZXF1YWxUb2tlbnMocm9vdCwgJzxkaXYgZGF0YS1zb21lLWRhdGE9XCJmb29cIj5jb250ZW50PC9kaXY+Jyk7XG59KTtcblxudGVzdChcIjxpbnB1dD4gdGFnIHdpdGggJ2NoZWNrZWQnIGF0dHJpYnV0ZVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHRlbXBsYXRlID0gY29tcGlsZShcIjxpbnB1dCBjaGVja2VkPVxcXCJjaGVja2VkXFxcIj5cIik7XG4gIHJlbmRlcih0ZW1wbGF0ZSwge30pO1xuXG4gIGxldCBpbnB1dE5vZGUgPSByb290LmZpcnN0Q2hpbGQgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICBlcXVhbChpbnB1dE5vZGUudGFnTmFtZSwgJ0lOUFVUJywgJ2lucHV0IHRhZycpO1xuICBlcXVhbChpbnB1dE5vZGUuY2hlY2tlZCwgdHJ1ZSwgJ2lucHV0IHRhZyBpcyBjaGVja2VkJyk7XG59KTtcblxuZnVuY3Rpb24gc2hvdWxkQmVWb2lkKHRhZ05hbWUpIHtcbiAgcm9vdC5pbm5lckhUTUwgPSBcIlwiO1xuICBsZXQgaHRtbCA9IFwiPFwiICsgdGFnTmFtZSArIFwiIGRhdGEtZm9vPSdiYXInPjxwPmhlbGxvPC9wPlwiO1xuICBsZXQgdGVtcGxhdGUgPSBjb21waWxlKGh0bWwpO1xuICByZW5kZXIodGVtcGxhdGUsIHt9KTtcblxuICBsZXQgdGFnID0gJzwnICsgdGFnTmFtZSArICcgZGF0YS1mb289XCJiYXJcIj4nO1xuICBsZXQgY2xvc2luZyA9ICc8LycgKyB0YWdOYW1lICsgJz4nO1xuICBsZXQgZXh0cmEgPSBcIjxwPmhlbGxvPC9wPlwiO1xuICBodG1sID0gbm9ybWFsaXplSW5uZXJIVE1MKHJvb3QuaW5uZXJIVE1MKTtcblxuICByb290ID0gcm9vdEVsZW1lbnQoKTtcblxuICBRVW5pdC5wdXNoKChodG1sID09PSB0YWcgKyBleHRyYSkgfHwgKGh0bWwgPT09IHRhZyArIGNsb3NpbmcgKyBleHRyYSksIGh0bWwsIHRhZyArIGNsb3NpbmcgKyBleHRyYSwgdGFnTmFtZSArIFwiIHNob3VsZCBiZSBhIHZvaWQgZWxlbWVudFwiKTtcbn1cblxudGVzdChcIlZvaWQgZWxlbWVudHMgYXJlIHNlbGYtY2xvc2luZ1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHZvaWRFbGVtZW50cyA9IFwiYXJlYSBiYXNlIGJyIGNvbCBjb21tYW5kIGVtYmVkIGhyIGltZyBpbnB1dCBrZXlnZW4gbGluayBtZXRhIHBhcmFtIHNvdXJjZSB0cmFjayB3YnJcIjtcblxuICB2b2lkRWxlbWVudHMuc3BsaXQoXCIgXCIpLmZvckVhY2goKHRhZ05hbWUpID0+IHNob3VsZEJlVm9pZCh0YWdOYW1lKSk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIG5lc3RpbmdcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBodG1sID0gJzxkaXYgY2xhc3M9XCJmb29cIj48cD48c3BhbiBpZD1cImJhclwiIGRhdGEtZm9vPVwiYmFyXCI+aGkhPC9zcGFuPjwvcD48L2Rpdj4mbmJzcDtNb3JlIGNvbnRlbnQnO1xuICBsZXQgdGVtcGxhdGUgPSBjb21waWxlKGh0bWwpO1xuICByZW5kZXIodGVtcGxhdGUsIHt9KTtcblxuICBlcXVhbFRva2Vucyhyb290LCBodG1sKTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgcXVvdGVzXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCc8ZGl2PlwiVGhpcyBpcyBhIHRpdGxlLFwiIHdlXFwncmUgb24gYSBib2F0PC9kaXY+Jyk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIGJhY2tzbGFzaGVzXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCc8ZGl2PlRoaXMgaXMgYSBiYWNrc2xhc2g6IFxcXFw8L2Rpdj4nKTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgbmV3bGluZXNcIiwgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oXCI8ZGl2PmNvbW1vblxcblxcbmJybzwvZGl2PlwiKTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgY29tbWVudHNcIiwgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oXCI8ZGl2Pnt7ISBCZXR0ZXIgbm90IGJyZWFrISB9fWNvbnRlbnQ8L2Rpdj5cIiwgJzxkaXY+Y29udGVudDwvZGl2PicsIHt9KTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgSFRNTCBjb21tZW50c1wiLCBmdW5jdGlvbigpIHtcbiAgY29tcGlsZXNUbygnPGRpdj48IS0tIEp1c3QgcGFzc2luZyB0aHJvdWdoIC0tPjwvZGl2PicpO1xufSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBIVE1MIGNvbW1lbnRzIHdpdGggbXVzdGFjaGVzIGluIHRoZW1cIiwgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oJzxkaXY+PCEtLSB7e2Zvb319IC0tPjwvZGl2PicsICc8ZGl2PjwhLS0ge3tmb299fSAtLT48L2Rpdj4nLCB7IGZvbzogJ2JhcicgfSk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIEhUTUwgY29tbWVudHMgd2l0aCBjb21wbGV4IG11c3RhY2hlcyBpbiB0aGVtXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCc8ZGl2PjwhLS0ge3tmb28gYmFyIGJhen19IC0tPjwvZGl2PicsICc8ZGl2PjwhLS0ge3tmb28gYmFyIGJhen19IC0tPjwvZGl2PicsIHsgZm9vOiAnYmFyJyB9KTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgSFRNTCBjb21tZW50cyB3aXRoIG11bHRpLWxpbmUgbXVzdGFjaGVzIGluIHRoZW1cIiwgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oJzxkaXY+PCEtLSB7eyNlYWNoIGZvbyBhcyB8YmFyfH19XFxue3tiYXJ9fVxcblxcbnt7L2VhY2h9fSAtLT48L2Rpdj4nKTtcbn0pO1xuXG50ZXN0KCdUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBjb21tZW50cyB3aXRoIG5vIHBhcmVudCBlbGVtZW50JywgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oJzwhLS0ge3tmb299fSAtLT4nKTtcbn0pO1xuXG4vLyBUT0RPOiBSZXZpc2l0IHBhcnRpYWwgc3ludGF4LlxuLy8gdGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIHBhcnRpYWxzIGluIGhhbmRsZWJhcnMgcGFydGlhbCBzeW50YXhcIiwgZnVuY3Rpb24oKSB7XG4vLyAgIHJlZ2lzdGVyUGFydGlhbCgncGFydGlhbF9uYW1lJywgXCI8Yj5QYXJ0aWFsIFdvcmtzITwvYj5cIik7XG4vLyAgIGNvbXBpbGVzVG8oJzxkaXY+e3s+cGFydGlhbF9uYW1lfX0gUGxhaW50ZXh0IGNvbnRlbnQ8L2Rpdj4nLCAnPGRpdj48Yj5QYXJ0aWFsIFdvcmtzITwvYj4gUGxhaW50ZXh0IGNvbnRlbnQ8L2Rpdj4nLCB7fSk7XG4vLyB9KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIHNpbXBsZSBoYW5kbGViYXJzXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCc8ZGl2Pnt7dGl0bGV9fTwvZGl2PicsICc8ZGl2PmhlbGxvPC9kaXY+JywgeyB0aXRsZTogJ2hlbGxvJyB9KTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgZXNjYXBpbmcgSFRNTFwiLCBmdW5jdGlvbigpIHtcbiAgY29tcGlsZXNUbygnPGRpdj57e3RpdGxlfX08L2Rpdj4nLCAnPGRpdj4mbHQ7c3Ryb25nJmd0O2hlbGxvJmx0Oy9zdHJvbmcmZ3Q7PC9kaXY+JywgeyB0aXRsZTogJzxzdHJvbmc+aGVsbG88L3N0cm9uZz4nIH0pO1xufSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSB1bmVzY2FwZWQgSFRNTFwiLCBmdW5jdGlvbigpIHtcbiAgY29tcGlsZXNUbygnPGRpdj57e3t0aXRsZX19fTwvZGl2PicsICc8ZGl2PjxzdHJvbmc+aGVsbG88L3N0cm9uZz48L2Rpdj4nLCB7IHRpdGxlOiAnPHN0cm9uZz5oZWxsbzwvc3Ryb25nPicgfSk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIHRvcC1sZXZlbCB1bmVzY2FwZWQgSFRNTFwiLCBmdW5jdGlvbigpIHtcbiAgY29tcGlsZXNUbygne3t7aHRtbH19fScsICc8c3Ryb25nPmhlbGxvPC9zdHJvbmc+JywgeyBodG1sOiAnPHN0cm9uZz5oZWxsbzwvc3Ryb25nPicgfSk7XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWcpIHtcbiAgcmV0dXJuIGVudi5nZXRET00oKS5jcmVhdGVFbGVtZW50KHRhZyk7XG59XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSB0b3AtbGV2ZWwgdW5lc2NhcGVkIHRyXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdGVtcGxhdGUgPSBjb21waWxlKCd7e3todG1sfX19Jyk7XG4gIGxldCBjb250ZXh0ID0geyBodG1sOiAnPHRyPjx0ZD5ZbzwvdGQ+PC90cj4nIH07XG4gIHJvb3QgPSBjcmVhdGVFbGVtZW50KCd0YWJsZScpIGFzIEhUTUxUYWJsZUVsZW1lbnQ7XG4gIHJlbmRlcih0ZW1wbGF0ZSwgY29udGV4dCk7XG5cbiAgZXF1YWwocm9vdC5maXJzdENoaWxkWyd0YWdOYW1lJ10sICdUQk9EWScsIFwicm9vdCB0Ym9keSBpcyBwcmVzZW50XCIpO1xufSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSB0b3AtbGV2ZWwgdW5lc2NhcGVkIHRkIGluc2lkZSB0ciBjb250ZXh0dWFsRWxlbWVudFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHRlbXBsYXRlID0gY29tcGlsZSgne3t7aHRtbH19fScpO1xuICBsZXQgY29udGV4dCA9IHsgaHRtbDogJzx0ZD5ZbzwvdGQ+JyB9O1xuICByb290ID0gY3JlYXRlRWxlbWVudCgndHInKSBhcyBIVE1MVGFibGVSb3dFbGVtZW50O1xuICByZW5kZXIodGVtcGxhdGUsIGNvbnRleHQpO1xuXG4gIGVxdWFsKHJvb3QuZmlyc3RDaGlsZFsndGFnTmFtZSddLCAnVEQnLCBcInJvb3QgdGQgaXMgcmV0dXJuZWRcIik7XG59KTtcblxudGVzdChcInNlY29uZCByZW5kZXIgcmVzcGVjdHMgd2hpdGVzcGFjZVwiLCBmdW5jdGlvbiAoKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoJ0hlbGxvIHt7IGZvbyB9fSAnKTtcbiAgcmVuZGVyKHRlbXBsYXRlLCB7fSk7XG5cbiAgcm9vdCA9IHJvb3RFbGVtZW50KCk7XG4gIHJlbmRlcih0ZW1wbGF0ZSwge30pO1xuICBlcXVhbChyb290LmNoaWxkTm9kZXMubGVuZ3RoLCAzLCAnZnJhZ21lbnQgY29udGFpbnMgMyB0ZXh0IG5vZGVzJyk7XG4gIGVxdWFsKGdldFRleHRDb250ZW50KHJvb3QuY2hpbGROb2Rlc1swXSksICdIZWxsbyAnLCAnZmlyc3QgdGV4dCBub2RlIGVuZHMgd2l0aCBvbmUgc3BhY2UgY2hhcmFjdGVyJyk7XG4gIGVxdWFsKGdldFRleHRDb250ZW50KHJvb3QuY2hpbGROb2Rlc1syXSksICcgJywgJ2xhc3QgdGV4dCBub2RlIGNvbnRhaW5zIG9uZSBzcGFjZSBjaGFyYWN0ZXInKTtcbn0pO1xuXG50ZXN0KFwiTW9ycGhzIGFyZSBlc2NhcGVkIGNvcnJlY3RseVwiLCBmdW5jdGlvbigpIHtcbiAgZW52LnJlZ2lzdGVySGVscGVyKCd0ZXN0aW5nLXVuZXNjYXBlZCcsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiBwYXJhbXNbMF07XG4gIH0pO1xuXG4gIGVudi5yZWdpc3RlckhlbHBlcigndGVzdGluZy1lc2NhcGVkJywgZnVuY3Rpb24ocGFyYW1zLCBoYXNoKSB7XG4gICAgcmV0dXJuIHBhcmFtc1swXTtcbiAgfSk7XG5cbiAgY29tcGlsZXNUbygnPGRpdj57e3t0ZXN0aW5nLXVuZXNjYXBlZCBcIjxzcGFuPmhpPC9zcGFuPlwifX19PC9kaXY+JywgJzxkaXY+PHNwYW4+aGk8L3NwYW4+PC9kaXY+Jyk7XG4gIGNvbXBpbGVzVG8oJzxkaXY+e3t0ZXN0aW5nLWVzY2FwZWQgXCI8aGk+XCJ9fTwvZGl2PicsICc8ZGl2PiZsdDtoaSZndDs8L2Rpdj4nKTtcbn0pO1xuXG50ZXN0KFwiQXR0cmlidXRlcyBjYW4gdXNlIGNvbXB1dGVkIHZhbHVlc1wiLCBmdW5jdGlvbigpIHtcbiAgY29tcGlsZXNUbygnPGEgaHJlZj1cInt7dXJsfX1cIj5saW5reTwvYT4nLCAnPGEgaHJlZj1cImxpbmt5Lmh0bWxcIj5saW5reTwvYT4nLCB7IHVybDogJ2xpbmt5Lmh0bWwnIH0pO1xufSk7XG5cbnRlc3QoXCJNb3VudGFpbiByYW5nZSBvZiBuZXN0aW5nXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgY29udGV4dCA9IHsgZm9vOiBcIkZPT1wiLCBiYXI6IFwiQkFSXCIsIGJhejogXCJCQVpcIiwgYm9vOiBcIkJPT1wiLCBicmV3OiBcIkJSRVdcIiwgYmF0OiBcIkJBVFwiLCBmbHV0ZTogXCJGTFVURVwiLCBhcmdoOiBcIkFSR0hcIiB9O1xuICBjb21waWxlc1RvKCd7e2Zvb319PHNwYW4+PC9zcGFuPicsICdGT088c3Bhbj48L3NwYW4+JywgY29udGV4dCk7XG4gIGNvbXBpbGVzVG8oJzxzcGFuPjwvc3Bhbj57e2Zvb319JywgJzxzcGFuPjwvc3Bhbj5GT08nLCBjb250ZXh0KTtcbiAgY29tcGlsZXNUbygnPHNwYW4+e3tmb299fTwvc3Bhbj57e2Zvb319JywgJzxzcGFuPkZPTzwvc3Bhbj5GT08nLCBjb250ZXh0KTtcbiAgY29tcGlsZXNUbygne3tmb299fTxzcGFuPnt7Zm9vfX08L3NwYW4+e3tmb299fScsICdGT088c3Bhbj5GT088L3NwYW4+Rk9PJywgY29udGV4dCk7XG4gIGNvbXBpbGVzVG8oJ3t7Zm9vfX08c3Bhbj48L3NwYW4+e3tmb299fScsICdGT088c3Bhbj48L3NwYW4+Rk9PJywgY29udGV4dCk7XG4gIGNvbXBpbGVzVG8oJ3t7Zm9vfX08c3Bhbj48L3NwYW4+e3tiYXJ9fTxzcGFuPjxzcGFuPjxzcGFuPnt7YmF6fX08L3NwYW4+PC9zcGFuPjwvc3Bhbj4nLFxuICAgICAgICAgICAgICdGT088c3Bhbj48L3NwYW4+QkFSPHNwYW4+PHNwYW4+PHNwYW4+QkFaPC9zcGFuPjwvc3Bhbj48L3NwYW4+JywgY29udGV4dCk7XG4gIGNvbXBpbGVzVG8oJ3t7Zm9vfX08c3Bhbj48L3NwYW4+e3tiYXJ9fTxzcGFuPnt7YXJnaH19PHNwYW4+PHNwYW4+e3tiYXp9fTwvc3Bhbj48L3NwYW4+PC9zcGFuPicsXG4gICAgICAgICAgICAgJ0ZPTzxzcGFuPjwvc3Bhbj5CQVI8c3Bhbj5BUkdIPHNwYW4+PHNwYW4+QkFaPC9zcGFuPjwvc3Bhbj48L3NwYW4+JywgY29udGV4dCk7XG4gIGNvbXBpbGVzVG8oJ3t7Zm9vfX08c3Bhbj57e2Jhcn19PGE+e3tiYXp9fTxlbT57e2Jvb319e3ticmV3fX08L2VtPnt7YmF0fX08L2E+PC9zcGFuPjxzcGFuPjxzcGFuPnt7Zmx1dGV9fTwvc3Bhbj48L3NwYW4+e3thcmdofX0nLFxuICAgICAgICAgICAgICdGT088c3Bhbj5CQVI8YT5CQVo8ZW0+Qk9PQlJFVzwvZW0+QkFUPC9hPjwvc3Bhbj48c3Bhbj48c3Bhbj5GTFVURTwvc3Bhbj48L3NwYW4+QVJHSCcsIGNvbnRleHQpO1xufSk7XG5cbnRlc3QoXCJTdGF0aWMgPGRpdiBjbGFzcz4gaXMgcHJlc2VydmVkIHByb3Blcmx5XCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKGBcbiAgICA8ZGl2IGNsYXNzPVwiaGVsbG8gd29ybGRcIj4xPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImdvb2RieWUgd29ybGRcIj4yPC9kaXY+XG4gIGAsIGBcbiAgICA8ZGl2IGNsYXNzPVwiaGVsbG8gd29ybGRcIj4xPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImdvb2RieWUgd29ybGRcIj4yPC9kaXY+XG4gIGApO1xufSk7XG5cbnRlc3QoXCJTdGF0aWMgPG9wdGlvbiBzZWxlY3RlZD4gaXMgcHJlc2VydmVkIHByb3Blcmx5XCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdGVtcGxhdGUgPSBjb21waWxlKGBcbiAgICA8c2VsZWN0PlxuICAgICAgPG9wdGlvbj4xPC9vcHRpb24+XG4gICAgICA8b3B0aW9uIHNlbGVjdGVkPjI8L29wdGlvbj5cbiAgICAgIDxvcHRpb24+Mzwvb3B0aW9uPlxuICAgIDwvc2VsZWN0PlxuICBgKTtcbiAgcmVuZGVyKHRlbXBsYXRlLCB7fSk7XG5cbiAgbGV0IHNlbGVjdE5vZGU6IGFueSA9IHJvb3QuY2hpbGROb2Rlc1sxXTtcblxuICBlcXVhbChzZWxlY3ROb2RlLnNlbGVjdGVkSW5kZXgsIDEsICdzZWNvbmQgaXRlbSBpcyBzZWxlY3RlZCcpO1xufSk7XG5cbnRlc3QoXCJTdGF0aWMgPG9wdGlvbiBzZWxlY3RlZD4gZm9yIG11bHRpLXNlbGVjdCBpcyBwcmVzZXJ2ZWQgcHJvcGVybHlcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoYFxuICAgIDxzZWxlY3QgbXVsdGlwbGU+XG4gICAgICA8b3B0aW9uIHNlbGVjdGVkPjE8L29wdGlvbj5cbiAgICAgIDxvcHRpb24gc2VsZWN0ZWQ+Mjwvb3B0aW9uPlxuICAgICAgPG9wdGlvbj4zPC9vcHRpb24+XG4gICAgPC9zZWxlY3Q+XG4gIGApO1xuICByZW5kZXIodGVtcGxhdGUsIHt9KTtcblxuICBsZXQgc2VsZWN0Tm9kZTogYW55ID0gcm9vdC5jaGlsZE5vZGVzWzFdO1xuXG4gIGxldCBvcHRpb25zID0gc2VsZWN0Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdvcHRpb25bc2VsZWN0ZWRdJyk7XG5cbiAgZXF1YWwob3B0aW9ucy5sZW5ndGgsIDIsICd0d28gb3B0aW9ucyBhcmUgc2VsZWN0ZWQnKTtcbn0pO1xuXG50ZXN0KFwiRHluYW1pYyA8b3B0aW9uIHNlbGVjdGVkPiBpcyBwcmVzZXJ2ZWQgcHJvcGVybHlcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoYFxuICAgIDxzZWxlY3Q+XG4gICAgICA8b3B0aW9uPjE8L29wdGlvbj5cbiAgICAgIDxvcHRpb24gc2VsZWN0ZWQ9e3tzZWxlY3RlZH19PjI8L29wdGlvbj5cbiAgICAgIDxvcHRpb24+Mzwvb3B0aW9uPlxuICAgIDwvc2VsZWN0PlxuICBgKTtcbiAgcmVuZGVyKHRlbXBsYXRlLCB7IHNlbGVjdGVkOiB0cnVlIH0pO1xuXG4gIGxldCBzZWxlY3ROb2RlOiBhbnkgPSByb290LmNoaWxkTm9kZXNbMV07XG5cbiAgZXF1YWwoc2VsZWN0Tm9kZS5zZWxlY3RlZEluZGV4LCAxLCAnc2Vjb25kIGl0ZW0gaXMgc2VsZWN0ZWQnKTtcbn0pO1xuXG50ZXN0KFwiRHluYW1pYyA8b3B0aW9uIHNlbGVjdGVkPiBmb3IgbXVsdGktc2VsZWN0IGlzIHByZXNlcnZlZCBwcm9wZXJseVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHRlbXBsYXRlID0gY29tcGlsZShgXG4gICAgPHNlbGVjdCBtdWx0aXBsZT5cbiAgICAgIDxvcHRpb24+MDwvb3B0aW9uPlxuICAgICAgPG9wdGlvbiBzZWxlY3RlZD17e3NvbWV0aGluZ1RydWV9fT4xPC9vcHRpb24+XG4gICAgICA8b3B0aW9uIHNlbGVjdGVkPXt7c29tZXRoaW5nVHJ1dGh5fX0+Mjwvb3B0aW9uPlxuICAgICAgPG9wdGlvbiBzZWxlY3RlZD17e3NvbWV0aGluZ1VuZGVmaW5lZH19PjM8L29wdGlvbj5cbiAgICAgIDxvcHRpb24gc2VsZWN0ZWQ9e3tzb21ldGhpbmdOdWxsfX0+NDwvb3B0aW9uPlxuICAgICAgPG9wdGlvbiBzZWxlY3RlZD17e3NvbWV0aGluZ0ZhbHNlfX0+NTwvb3B0aW9uPlxuICAgIDwvc2VsZWN0PlxuICBgKTtcblxuICByZW5kZXIodGVtcGxhdGUsIHtcbiAgICBzb21ldGhpbmdUcnVlOiB0cnVlLFxuICAgIHNvbWV0aGluZ1RydXRoeTogJ2lzLXRydWUnLFxuICAgIHNvbWV0aGluZ1VuZGVmaW5lZDogdW5kZWZpbmVkLFxuICAgIHNvbWV0aGluZ051bGw6IG51bGwsXG4gICAgc29tZXRoaW5nRmFsc2U6IGZhbHNlXG4gIH0pO1xuXG4gIGxldCBzZWxlY3ROb2RlOiBhbnkgPSByb290LmNoaWxkTm9kZXNbMV07XG4gIGxldCBvcHRpb25zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoc2VsZWN0Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdvcHRpb24nKSk7XG4gIGxldCBzZWxlY3RlZCA9IG9wdGlvbnMuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uc2VsZWN0ZWQpO1xuXG4gIGVxdWFsKHNlbGVjdGVkLmxlbmd0aCwgMiwgJ3R3byBvcHRpb25zIGFyZSBzZWxlY3RlZCcpO1xuICBlcXVhbChzZWxlY3RlZFswXS52YWx1ZSwgJzEnLCAnZmlyc3Qgc2VsZWN0ZWQgaXRlbSBpcyBcIjFcIicpO1xuICBlcXVhbChzZWxlY3RlZFsxXS52YWx1ZSwgJzInLCAnc2Vjb25kIHNlbGVjdGVkIGl0ZW0gaXMgXCIyXCInKTtcbn0pO1xuXG5tb2R1bGUoXCJJbml0aWFsIHJlbmRlciAtIHNpbXBsZSBibG9ja3NcIik7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSB1bmVzY2FwZWQgdHIgaW4gdG9wIG9mIGNvbnRlbnRcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoJ3t7I2lkZW50aXR5fX17e3todG1sfX19e3svaWRlbnRpdHl9fScpO1xuICBsZXQgY29udGV4dCA9IHsgaHRtbDogJzx0cj48dGQ+WW88L3RkPjwvdHI+JyB9O1xuICByb290ID0gY3JlYXRlRWxlbWVudCgndGFibGUnKSBhcyBIVE1MVGFibGVFbGVtZW50O1xuICByZW5kZXIodGVtcGxhdGUsIGNvbnRleHQpO1xuXG4gIGVxdWFsKHJvb3QuZmlyc3RDaGlsZFsndGFnTmFtZSddLCAnVEJPRFknLCBcInJvb3QgdGJvZHkgaXMgcHJlc2VudFwiICk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIHVuZXNjYXBlZCB0ciBpbnNpZGUgZnJhZ21lbnQgdGFibGVcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzx0YWJsZT57eyNpZGVudGl0eX19e3t7aHRtbH19fXt7L2lkZW50aXR5fX08L3RhYmxlPicpO1xuICBsZXQgY29udGV4dCA9IHsgaHRtbDogJzx0cj48dGQ+WW88L3RkPjwvdHI+JyB9O1xuICByZW5kZXIodGVtcGxhdGUsIGNvbnRleHQpO1xuICBsZXQgdGFibGVOb2RlID0gcm9vdC5maXJzdENoaWxkO1xuXG4gIGVxdWFsKCB0YWJsZU5vZGUuZmlyc3RDaGlsZFsndGFnTmFtZSddLCAnVEJPRFknLCBcInJvb3QgdGJvZHkgaXMgcHJlc2VudFwiICk7XG59KTtcblxubW9kdWxlKFwiSW5pdGlhbCByZW5kZXIgLSBpbmxpbmUgaGVscGVyc1wiKTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIHNpbXBsZSBoZWxwZXJzXCIsIGZ1bmN0aW9uKCkge1xuICBlbnYucmVnaXN0ZXJIZWxwZXIoJ3Rlc3RpbmcnLCBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICByZXR1cm4gcGFyYW1zWzBdO1xuICB9KTtcblxuICBjb21waWxlc1RvKCc8ZGl2Pnt7dGVzdGluZyB0aXRsZX19PC9kaXY+JywgJzxkaXY+aGVsbG88L2Rpdj4nLCB7IHRpdGxlOiAnaGVsbG8nIH0pO1xufSk7XG5cbnRlc3QoXCJHSCMxMzk5OSBUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBzaW1wbGUgaGVscGVycyB3aXRoIGlubGluZSBudWxsIHBhcmFtZXRlclwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHZhbHVlO1xuICBlbnYucmVnaXN0ZXJIZWxwZXIoJ3NheS1oZWxsbycsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHZhbHVlID0gcGFyYW1zWzBdO1xuICAgIHJldHVybiAnaGVsbG8nO1xuICB9KTtcblxuICBjb21waWxlc1RvKCc8ZGl2Pnt7c2F5LWhlbGxvIG51bGx9fTwvZGl2PicsICc8ZGl2PmhlbGxvPC9kaXY+Jyk7XG4gIHN0cmljdEVxdWFsKHZhbHVlLCBudWxsLCAnaXMgbnVsbCcpO1xufSk7XG5cbnRlc3QoXCJHSCMxMzk5OSBUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBzaW1wbGUgaGVscGVycyB3aXRoIGlubGluZSBzdHJpbmcgbGl0ZXJhbCBudWxsIHBhcmFtZXRlclwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHZhbHVlO1xuICBlbnYucmVnaXN0ZXJIZWxwZXIoJ3NheS1oZWxsbycsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHZhbHVlID0gcGFyYW1zWzBdO1xuICAgIHJldHVybiAnaGVsbG8nO1xuICB9KTtcblxuICBjb21waWxlc1RvKCc8ZGl2Pnt7c2F5LWhlbGxvIFwibnVsbFwifX08L2Rpdj4nLCAnPGRpdj5oZWxsbzwvZGl2PicpO1xuICBzdHJpY3RFcXVhbCh2YWx1ZSwgJ251bGwnLCAnaXMgbnVsbCBzdHJpbmcgbGl0ZXJhbCcpO1xufSk7XG5cbnRlc3QoXCJHSCMxMzk5OSBUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBzaW1wbGUgaGVscGVycyB3aXRoIGlubGluZSB1bmRlZmluZWQgcGFyYW1ldGVyXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdmFsdWUgPSAnUExBQ0VIT0xERVInO1xuICBsZXQgbGVuZ3RoO1xuICBlbnYucmVnaXN0ZXJIZWxwZXIoJ3NheS1oZWxsbycsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIGxlbmd0aCA9IHBhcmFtcy5sZW5ndGg7XG4gICAgdmFsdWUgPSBwYXJhbXNbMF07XG4gICAgcmV0dXJuICdoZWxsbyc7XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oJzxkaXY+e3tzYXktaGVsbG8gdW5kZWZpbmVkfX08L2Rpdj4nLCAnPGRpdj5oZWxsbzwvZGl2PicpO1xuICBzdHJpY3RFcXVhbChsZW5ndGgsIDEpO1xuICBzdHJpY3RFcXVhbCh2YWx1ZSwgdW5kZWZpbmVkLCAnaXMgdW5kZWZpbmVkJyk7XG59KTtcblxudGVzdChcIkdIIzEzOTk5IFRoZSBjb21waWxlciBjYW4gaGFuZGxlIHNpbXBsZSBoZWxwZXJzIHdpdGggcG9zaXRpb25hbCBwYXJhbWV0ZXIgdW5kZWZpbmVkIHN0cmluZyBsaXRlcmFsXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdmFsdWUgPSAnUExBQ0VIT0xERVInO1xuICBsZXQgbGVuZ3RoO1xuICBlbnYucmVnaXN0ZXJIZWxwZXIoJ3NheS1oZWxsbycsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIGxlbmd0aCA9IHBhcmFtcy5sZW5ndGg7XG4gICAgdmFsdWUgPSBwYXJhbXNbMF07XG4gICAgcmV0dXJuICdoZWxsbyc7XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oJzxkaXY+e3tzYXktaGVsbG8gXCJ1bmRlZmluZWRcIn19IHVuZGVmaW5lZDwvZGl2PicsICc8ZGl2PmhlbGxvIHVuZGVmaW5lZDwvZGl2PicpO1xuICBzdHJpY3RFcXVhbChsZW5ndGgsIDEpO1xuICBzdHJpY3RFcXVhbCh2YWx1ZSwgJ3VuZGVmaW5lZCcsICdpcyB1bmRlZmluZWQgc3RyaW5nIGxpdGVyYWwnKTtcbn0pO1xuXG50ZXN0KFwiR0gjMTM5OTkgVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgY29tcG9uZW50cyB3aXRoIHVuZGVmaW5lZCBuYW1lZCBhcmd1bWVudHNcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB2YWx1ZSA9ICdQTEFDRUhPTERFUic7XG4gIGVudi5yZWdpc3RlckhlbHBlcignc2F5LWhlbGxvJywgZnVuY3Rpb24oXywgaGFzaCkge1xuICAgIHZhbHVlID0gaGFzaFsnZm9vJ107XG4gICAgcmV0dXJuICdoZWxsbyc7XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oJzxkaXY+e3tzYXktaGVsbG8gZm9vPXVuZGVmaW5lZH19PC9kaXY+JywgJzxkaXY+aGVsbG88L2Rpdj4nKTtcbiAgc3RyaWN0RXF1YWwodmFsdWUsIHVuZGVmaW5lZCwgJ2lzIHVuZGVmaW5lZCcpO1xufSk7XG5cbnRlc3QoXCJHSCMxMzk5OSBUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBjb21wb25lbnRzIHdpdGggdW5kZWZpbmVkIHN0cmluZyBsaXRlcmFsIG5hbWVkIGFyZ3VtZW50c1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHZhbHVlID0gJ1BMQUNFSE9MREVSJztcbiAgZW52LnJlZ2lzdGVySGVscGVyKCdzYXktaGVsbG8nLCBmdW5jdGlvbihfLCBoYXNoKSB7XG4gICAgdmFsdWUgPSBoYXNoWydmb28nXTtcbiAgICByZXR1cm4gJ2hlbGxvJztcbiAgfSk7XG5cbiAgY29tcGlsZXNUbygnPGRpdj57e3NheS1oZWxsbyBmb289XCJ1bmRlZmluZWRcIn19PC9kaXY+JywgJzxkaXY+aGVsbG88L2Rpdj4nKTtcbiAgc3RyaWN0RXF1YWwodmFsdWUsICd1bmRlZmluZWQnLCAnaXMgdW5kZWZpbmVkIHN0cmluZyBsaXRlcmFsJyk7XG59KTtcblxudGVzdChcIkdIIzEzOTk5IFRoZSBjb21waWxlciBjYW4gaGFuZGxlIGNvbXBvbmVudHMgd2l0aCBudWxsIG5hbWVkIGFyZ3VtZW50c1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHZhbHVlO1xuICBlbnYucmVnaXN0ZXJIZWxwZXIoJ3NheS1oZWxsbycsIGZ1bmN0aW9uKF8sIGhhc2gpIHtcbiAgICB2YWx1ZSA9IGhhc2hbJ2ZvbyddO1xuICAgIHJldHVybiAnaGVsbG8nO1xuICB9KTtcblxuICBjb21waWxlc1RvKCc8ZGl2Pnt7c2F5LWhlbGxvIGZvbz1udWxsfX08L2Rpdj4nLCAnPGRpdj5oZWxsbzwvZGl2PicpO1xuICBzdHJpY3RFcXVhbCh2YWx1ZSwgbnVsbCwgJ2lzIG51bGwnKTtcbn0pO1xuXG50ZXN0KFwiR0gjMTM5OTkgVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgY29tcG9uZW50cyB3aXRoIG51bGwgc3RyaW5nIGxpdGVyYWwgbmFtZWQgYXJndW1lbnRzXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdmFsdWU7XG4gIGVudi5yZWdpc3RlckhlbHBlcignc2F5LWhlbGxvJywgZnVuY3Rpb24oXywgaGFzaCkge1xuICAgIHZhbHVlID0gaGFzaFsnZm9vJ107XG4gICAgcmV0dXJuICdoZWxsbyc7XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oJzxkaXY+e3tzYXktaGVsbG8gZm9vPVwibnVsbFwifX08L2Rpdj4nLCAnPGRpdj5oZWxsbzwvZGl2PicpO1xuICBzdHJpY3RFcXVhbCh2YWx1ZSwgJ251bGwnLCAnaXMgbnVsbCBzdHJpbmcgbGl0ZXJhbCcpO1xufSk7XG5cbnRlc3QoXCJHSCMxMzk5OSBUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBjb21wb25lbnRzIHdpdGggdW5kZWZpbmVkIG5hbWVkIGFyZ3VtZW50c1wiLCBmdW5jdGlvbigpIHtcbiAgZW52LnJlZ2lzdGVySGVscGVyKCdzYXktaGVsbG8nLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ2hlbGxvJztcbiAgfSk7XG5cbiAgY29tcGlsZXNUbygnPGRpdj57e3NheS1oZWxsbyBmb289dW5kZWZpbmVkfX08L2Rpdj4nLCAnPGRpdj5oZWxsbzwvZGl2PicpO1xufSk7XG5cbnRlc3QoXCJOdWxsIGN1cmx5IGluIGF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oJzxkaXYgY2xhc3M9XCJmb28ge3tudWxsfX1cIj5oZWxsbzwvZGl2PicsICc8ZGl2IGNsYXNzPVwiZm9vIFwiPmhlbGxvPC9kaXY+Jyk7XG59KTtcblxudGVzdChcIk51bGwgaW4gcHJpbWl0aXZlIHN5bnRheFwiLCBmdW5jdGlvbigpIHtcbiAgY29tcGlsZXNUbygne3sjaWYgbnVsbH19Tk9QRXt7ZWxzZX19WVVQe3svaWZ9fScsICdZVVAnKTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgc2V4cHIgaGVscGVyc1wiLCBmdW5jdGlvbigpIHtcbiAgZW52LnJlZ2lzdGVySGVscGVyKCd0ZXN0aW5nJywgZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgcmV0dXJuIHBhcmFtc1swXSArIFwiIVwiO1xuICB9KTtcblxuICBjb21waWxlc1RvKCc8ZGl2Pnt7dGVzdGluZyAodGVzdGluZyBcImhlbGxvXCIpfX08L2Rpdj4nLCAnPGRpdj5oZWxsbyEhPC9kaXY+Jywge30pO1xufSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBtdWx0aXBsZSBpbnZvY2F0aW9ucyBvZiBzZXhwcnNcIiwgZnVuY3Rpb24oKSB7XG4gIGVudi5yZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiBcIlwiICsgcGFyYW1zWzBdICsgcGFyYW1zWzFdO1xuICB9KTtcblxuICBjb21waWxlc1RvKFxuICAgICc8ZGl2Pnt7dGVzdGluZyAodGVzdGluZyBcImhlbGxvXCIgZm9vKSAodGVzdGluZyAodGVzdGluZyBiYXIgXCJsb2xcIikgYmF6KX19PC9kaXY+JyxcbiAgICAnPGRpdj5oZWxsb0ZPT0JBUmxvbEJBWjwvZGl2PicsXG4gICAgeyBmb286IFwiRk9PXCIsIGJhcjogXCJCQVJcIiwgYmF6OiBcIkJBWlwiIH1cbiAgKTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIHBhc3NlcyBhbG9uZyB0aGUgaGFzaCBhcmd1bWVudHNcIiwgZnVuY3Rpb24oKSB7XG4gIGVudi5yZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcywgaGFzaCkge1xuICAgIHJldHVybiBoYXNoWydmaXJzdCddICsgJy0nICsgaGFzaFsnc2Vjb25kJ107XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oJzxkaXY+e3t0ZXN0aW5nIGZpcnN0PVwib25lXCIgc2Vjb25kPVwidHdvXCJ9fTwvZGl2PicsICc8ZGl2Pm9uZS10d288L2Rpdj4nKTtcbn0pO1xuXG4vLyB0ZXN0KFwiQXR0cmlidXRlcyBjYW4gdXNlIGNvbXB1dGVkIHBhdGhzXCIsIGZ1bmN0aW9uKCkge1xuLy8gICBjb21waWxlc1RvKCc8YSBocmVmPVwie3twb3N0LnVybH19XCI+bGlua3k8L2E+JywgJzxhIGhyZWY9XCJsaW5reS5odG1sXCI+bGlua3k8L2E+JywgeyBwb3N0OiB7IHVybDogJ2xpbmt5Lmh0bWwnIH19KTtcbi8vIH0pO1xuXG4vKlxuXG50ZXN0KFwiSXQgaXMgcG9zc2libGUgdG8gdXNlIFJFU09MVkVfSU5fQVRUUiBmb3IgZGF0YSBiaW5kaW5nXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgY2FsbGJhY2s7XG5cbiAgcmVnaXN0ZXJIZWxwZXIoJ1JFU09MVkVfSU5fQVRUUicsIGZ1bmN0aW9uKHBhcnRzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGJvdW5kVmFsdWUoZnVuY3Rpb24oYykge1xuICAgICAgY2FsbGJhY2sgPSBjO1xuICAgICAgcmV0dXJuIHRoaXNbcGFydHNbMF1dO1xuICAgIH0sIHRoaXMpO1xuICB9KTtcblxuICBsZXQgb2JqZWN0ID0geyB1cmw6ICdsaW5reS5odG1sJyB9O1xuICBsZXQgZnJhZ21lbnQgPSBjb21waWxlc1RvKCc8YSBocmVmPVwie3t1cmx9fVwiPmxpbmt5PC9hPicsICc8YSBocmVmPVwibGlua3kuaHRtbFwiPmxpbmt5PC9hPicsIG9iamVjdCk7XG5cbiAgb2JqZWN0LnVybCA9ICdjbGlwcHkuaHRtbCc7XG4gIGNhbGxiYWNrKCk7XG5cbiAgZXF1YWxUb2tlbnMoZnJhZ21lbnQsICc8YSBocmVmPVwiY2xpcHB5Lmh0bWxcIj5saW5reTwvYT4nKTtcblxuICBvYmplY3QudXJsID0gJ3ppcHB5Lmh0bWwnO1xuICBjYWxsYmFjaygpO1xuXG4gIGVxdWFsVG9rZW5zKGZyYWdtZW50LCAnPGEgaHJlZj1cInppcHB5Lmh0bWxcIj5saW5reTwvYT4nKTtcbn0pO1xuKi9cblxudGVzdChcIkF0dHJpYnV0ZXMgY2FuIGJlIHBvcHVsYXRlZCB3aXRoIGhlbHBlcnMgdGhhdCBnZW5lcmF0ZSBhIHN0cmluZ1wiLCBmdW5jdGlvbigpIHtcbiAgZW52LnJlZ2lzdGVySGVscGVyKCd0ZXN0aW5nJywgZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgcmV0dXJuIHBhcmFtc1swXTtcbiAgfSk7XG5cbiAgY29tcGlsZXNUbygnPGEgaHJlZj1cInt7dGVzdGluZyB1cmx9fVwiPmxpbmt5PC9hPicsICc8YSBocmVmPVwibGlua3kuaHRtbFwiPmxpbmt5PC9hPicsIHsgdXJsOiAnbGlua3kuaHRtbCd9KTtcbn0pO1xuLypcbnRlc3QoXCJBIGhlbHBlciBjYW4gcmV0dXJuIGEgc3RyZWFtIGZvciB0aGUgYXR0cmlidXRlXCIsIGZ1bmN0aW9uKCkge1xuICBlbnYucmVnaXN0ZXJIZWxwZXIoJ3Rlc3RpbmcnLCBmdW5jdGlvbihwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN0cmVhbVZhbHVlKHRoaXNbcGF0aF0pO1xuICB9KTtcblxuICBjb21waWxlc1RvKCc8YSBocmVmPVwie3t0ZXN0aW5nIHVybH19XCI+bGlua3k8L2E+JywgJzxhIGhyZWY9XCJsaW5reS5odG1sXCI+bGlua3k8L2E+JywgeyB1cmw6ICdsaW5reS5odG1sJ30pO1xufSk7XG4qL1xudGVzdChcIkF0dHJpYnV0ZSBoZWxwZXJzIHRha2UgYSBoYXNoXCIsIGZ1bmN0aW9uKCkge1xuICBlbnYucmVnaXN0ZXJIZWxwZXIoJ3Rlc3RpbmcnLCBmdW5jdGlvbihwYXJhbXMsIGhhc2gpIHtcbiAgICByZXR1cm4gaGFzaFsncGF0aCddO1xuICB9KTtcblxuICBjb21waWxlc1RvKCc8YSBocmVmPVwie3t0ZXN0aW5nIHBhdGg9dXJsfX1cIj5saW5reTwvYT4nLCAnPGEgaHJlZj1cImxpbmt5Lmh0bWxcIj5saW5reTwvYT4nLCB7IHVybDogJ2xpbmt5Lmh0bWwnIH0pO1xufSk7XG4vKlxudGVzdChcIkF0dHJpYnV0ZSBoZWxwZXJzIGNhbiB1c2UgdGhlIGhhc2ggZm9yIGRhdGEgYmluZGluZ1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGNhbGxiYWNrO1xuXG4gIGVudi5yZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhdGgsIGhhc2gsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYm91bmRWYWx1ZShmdW5jdGlvbihjKSB7XG4gICAgICBjYWxsYmFjayA9IGM7XG4gICAgICByZXR1cm4gdGhpc1twYXRoXSA/IGhhc2gudHJ1dGh5IDogaGFzaC5mYWxzeTtcbiAgICB9LCB0aGlzKTtcbiAgfSk7XG5cbiAgbGV0IG9iamVjdCA9IHsgb246IHRydWUgfTtcbiAgbGV0IGZyYWdtZW50ID0gY29tcGlsZXNUbygnPGRpdiBjbGFzcz1cInt7dGVzdGluZyBvbiB0cnV0aHk9XCJ5ZWFoXCIgZmFsc3k9XCJub3BlXCJ9fVwiPmhpPC9kaXY+JywgJzxkaXYgY2xhc3M9XCJ5ZWFoXCI+aGk8L2Rpdj4nLCBvYmplY3QpO1xuXG4gIG9iamVjdC5vbiA9IGZhbHNlO1xuICBjYWxsYmFjaygpO1xuICBlcXVhbFRva2VucyhmcmFnbWVudCwgJzxkaXYgY2xhc3M9XCJub3BlXCI+aGk8L2Rpdj4nKTtcbn0pO1xuKi9cbnRlc3QoXCJBdHRyaWJ1dGVzIGNvbnRhaW5pbmcgbXVsdGlwbGUgaGVscGVycyBhcmUgdHJlYXRlZCBsaWtlIGEgYmxvY2tcIiwgZnVuY3Rpb24oKSB7XG4gIGVudi5yZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiBwYXJhbXNbMF07XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oXG4gICAgJzxhIGhyZWY9XCJodHRwOi8ve3tmb299fS97e3Rlc3RpbmcgYmFyfX0ve3t0ZXN0aW5nIFwiYmF6XCJ9fVwiPmxpbmt5PC9hPicsXG4gICAgJzxhIGhyZWY9XCJodHRwOi8vZm9vLmNvbS9iYXIvYmF6XCI+bGlua3k8L2E+JyxcbiAgICB7IGZvbzogJ2Zvby5jb20nLCBiYXI6ICdiYXInIH1cbiAgKTtcbn0pO1xuXG50ZXN0KFwiQXR0cmlidXRlcyBjb250YWluaW5nIGEgaGVscGVyIGFyZSB0cmVhdGVkIGxpa2UgYSBibG9ja1wiLCBmdW5jdGlvbigpIHtcbiAgZXhwZWN0KDIpO1xuXG4gIGVudi5yZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIGRlZXBFcXVhbChwYXJhbXMsIFsxMjNdKTtcbiAgICByZXR1cm4gXCJleGFtcGxlLmNvbVwiO1xuICB9KTtcblxuICBjb21waWxlc1RvKFxuICAgICc8YSBocmVmPVwiaHR0cDovL3t7dGVzdGluZyAxMjN9fS9pbmRleC5odG1sXCI+bGlua3k8L2E+JyxcbiAgICAnPGEgaHJlZj1cImh0dHA6Ly9leGFtcGxlLmNvbS9pbmRleC5odG1sXCI+bGlua3k8L2E+JyxcbiAgICB7IHBlcnNvbjogeyB1cmw6ICdleGFtcGxlLmNvbScgfSB9XG4gICk7XG59KTtcbi8qXG50ZXN0KFwiSXQgaXMgcG9zc2libGUgdG8gdHJpZ2dlciBhIHJlLXJlbmRlciBvZiBhbiBhdHRyaWJ1dGUgZnJvbSBhIGNoaWxkIHJlc29sdXRpb25cIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBjYWxsYmFjaztcblxuICBlbnYucmVnaXN0ZXJIZWxwZXIoJ1JFU09MVkVfSU5fQVRUUicsIGZ1bmN0aW9uKHBhdGgsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYm91bmRWYWx1ZShmdW5jdGlvbihjKSB7XG4gICAgICBjYWxsYmFjayA9IGM7XG4gICAgICByZXR1cm4gdGhpc1twYXRoXTtcbiAgICB9LCB0aGlzKTtcbiAgfSk7XG5cbiAgbGV0IGNvbnRleHQgPSB7IHVybDogXCJleGFtcGxlLmNvbVwiIH07XG4gIGxldCBmcmFnbWVudCA9IGNvbXBpbGVzVG8oJzxhIGhyZWY9XCJodHRwOi8ve3t1cmx9fS9pbmRleC5odG1sXCI+bGlua3k8L2E+JywgJzxhIGhyZWY9XCJodHRwOi8vZXhhbXBsZS5jb20vaW5kZXguaHRtbFwiPmxpbmt5PC9hPicsIGNvbnRleHQpO1xuXG4gIGNvbnRleHQudXJsID0gXCJ3d3cuZXhhbXBsZS5jb21cIjtcbiAgY2FsbGJhY2soKTtcblxuICBlcXVhbFRva2VucyhmcmFnbWVudCwgJzxhIGhyZWY9XCJodHRwOi8vd3d3LmV4YW1wbGUuY29tL2luZGV4Lmh0bWxcIj5saW5reTwvYT4nKTtcbn0pO1xuXG50ZXN0KFwiQSBjaGlsZCByZXNvbHV0aW9uIGNhbiBwYXNzIGNvbnRleHR1YWwgaW5mb3JtYXRpb24gdG8gdGhlIHBhcmVudFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGNhbGxiYWNrO1xuXG4gIHJlZ2lzdGVySGVscGVyKCdSRVNPTFZFX0lOX0FUVFInLCBmdW5jdGlvbihwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGJvdW5kVmFsdWUoZnVuY3Rpb24oYykge1xuICAgICAgY2FsbGJhY2sgPSBjO1xuICAgICAgcmV0dXJuIHRoaXNbcGF0aF07XG4gICAgfSwgdGhpcyk7XG4gIH0pO1xuXG4gIGxldCBjb250ZXh0ID0geyB1cmw6IFwiZXhhbXBsZS5jb21cIiB9O1xuICBsZXQgZnJhZ21lbnQgPSBjb21waWxlc1RvKCc8YSBocmVmPVwiaHR0cDovL3t7dXJsfX0vaW5kZXguaHRtbFwiPmxpbmt5PC9hPicsICc8YSBocmVmPVwiaHR0cDovL2V4YW1wbGUuY29tL2luZGV4Lmh0bWxcIj5saW5reTwvYT4nLCBjb250ZXh0KTtcblxuICBjb250ZXh0LnVybCA9IFwid3d3LmV4YW1wbGUuY29tXCI7XG4gIGNhbGxiYWNrKCk7XG5cbiAgZXF1YWxUb2tlbnMoZnJhZ21lbnQsICc8YSBocmVmPVwiaHR0cDovL3d3dy5leGFtcGxlLmNvbS9pbmRleC5odG1sXCI+bGlua3k8L2E+Jyk7XG59KTtcblxudGVzdChcIkF0dHJpYnV0ZSBydW5zIGNhbiBjb250YWluIGhlbHBlcnNcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBjYWxsYmFja3MgPSBbXTtcblxuICByZWdpc3RlckhlbHBlcignUkVTT0xWRV9JTl9BVFRSJywgZnVuY3Rpb24ocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiBib3VuZFZhbHVlKGZ1bmN0aW9uKGMpIHtcbiAgICAgIGNhbGxiYWNrcy5wdXNoKGMpO1xuICAgICAgcmV0dXJuIHRoaXNbcGF0aF07XG4gICAgfSwgdGhpcyk7XG4gIH0pO1xuXG4gIHJlZ2lzdGVySGVscGVyKCd0ZXN0aW5nJywgZnVuY3Rpb24ocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiBib3VuZFZhbHVlKGZ1bmN0aW9uKGMpIHtcbiAgICAgIGNhbGxiYWNrcy5wdXNoKGMpO1xuXG4gICAgICBpZiAob3B0aW9ucy5wYXJhbVR5cGVzWzBdID09PSAnaWQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3BhdGhdICsgJy5odG1sJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9KTtcblxuICBsZXQgY29udGV4dCA9IHsgdXJsOiBcImV4YW1wbGUuY29tXCIsIHBhdGg6ICdpbmRleCcgfTtcbiAgbGV0IGZyYWdtZW50ID0gY29tcGlsZXNUbyhcbiAgICAnPGEgaHJlZj1cImh0dHA6Ly97e3VybH19L3t7dGVzdGluZyBwYXRofX0ve3t0ZXN0aW5nIFwibGlua3lcIn19XCI+bGlua3k8L2E+JyxcbiAgICAnPGEgaHJlZj1cImh0dHA6Ly9leGFtcGxlLmNvbS9pbmRleC5odG1sL2xpbmt5XCI+bGlua3k8L2E+JyxcbiAgICBjb250ZXh0XG4gICk7XG5cbiAgY29udGV4dC51cmwgPSBcInd3dy5leGFtcGxlLmNvbVwiO1xuICBjb250ZXh0LnBhdGggPSBcInllcFwiO1xuICBmb3JFYWNoKGNhbGxiYWNrcywgZnVuY3Rpb24oY2FsbGJhY2spIHsgY2FsbGJhY2soKTsgfSk7XG5cbiAgZXF1YWxUb2tlbnMoZnJhZ21lbnQsICc8YSBocmVmPVwiaHR0cDovL3d3dy5leGFtcGxlLmNvbS95ZXAuaHRtbC9saW5reVwiPmxpbmt5PC9hPicpO1xuXG4gIGNvbnRleHQudXJsID0gXCJub3BlLmV4YW1wbGUuY29tXCI7XG4gIGNvbnRleHQucGF0aCA9IFwibm9wZVwiO1xuICBmb3JFYWNoKGNhbGxiYWNrcywgZnVuY3Rpb24oY2FsbGJhY2spIHsgY2FsbGJhY2soKTsgfSk7XG5cbiAgZXF1YWxUb2tlbnMoZnJhZ21lbnQsICc8YSBocmVmPVwiaHR0cDovL25vcGUuZXhhbXBsZS5jb20vbm9wZS5odG1sL2xpbmt5XCI+bGlua3k8L2E+Jyk7XG59KTtcbiovXG50ZXN0KFwiRWxlbWVudHMgaW5zaWRlIGEgeWllbGRlZCBibG9ja1wiLCBmdW5jdGlvbigpIHtcbiAgY29tcGlsZXNUbygne3sjaWRlbnRpdHl9fTxkaXYgaWQ9XCJ0ZXN0XCI+MTIzPC9kaXY+e3svaWRlbnRpdHl9fScsICc8ZGl2IGlkPVwidGVzdFwiPjEyMzwvZGl2PicpO1xufSk7XG5cbnRlc3QoXCJBIHNpbXBsZSBibG9jayBoZWxwZXIgY2FuIHJldHVybiB0ZXh0XCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCd7eyNpZGVudGl0eX19dGVzdHt7ZWxzZX19bm90IHNob3due3svaWRlbnRpdHl9fScsICd0ZXN0Jyk7XG59KTtcblxudGVzdChcIkEgYmxvY2sgaGVscGVyIGNhbiBoYXZlIGFuIGVsc2UgYmxvY2tcIiwgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oJ3t7I3JlbmRlci1pbnZlcnNlfX1Ob3Ble3tlbHNlfX08ZGl2IGlkPVwidGVzdFwiPjEyMzwvZGl2Pnt7L3JlbmRlci1pbnZlcnNlfX0nLCAnPGRpdiBpZD1cInRlc3RcIj4xMjM8L2Rpdj4nKTtcbn0pO1xuXG5tb2R1bGUoXCJJbml0aWFsIHJlbmRlciAtIG1pc2NlbGxhbmVvdXNcIik7XG5cbnRlc3QoJ0NvbXBvbmVudHMgLSBVbmtub3duIGhlbHBlcnMgZmFsbCBiYWNrIHRvIGVsZW1lbnRzJywgZnVuY3Rpb24gKCkge1xuICBsZXQgb2JqZWN0ID0geyBzaXplOiAnbWVkJywgZm9vOiAnYicgfTtcbiAgY29tcGlsZXNUbygnPHgtYmFyIGNsYXNzPVwiYnRuLXt7c2l6ZX19XCI+YXt7Zm9vfX1jPC94LWJhcj4nLCc8eC1iYXIgY2xhc3M9XCJidG4tbWVkXCI+YWJjPC94LWJhcj4nLCBvYmplY3QpO1xufSk7XG5cbnRlc3QoJ0NvbXBvbmVudHMgLSBUZXh0LW9ubHkgYXR0cmlidXRlcyB3b3JrJywgZnVuY3Rpb24gKCkge1xuICBsZXQgb2JqZWN0ID0geyBmb286ICdxdXgnIH07XG4gIGNvbXBpbGVzVG8oJzx4LWJhciBpZD1cInRlc3RcIj57e2Zvb319PC94LWJhcj4nLCc8eC1iYXIgaWQ9XCJ0ZXN0XCI+cXV4PC94LWJhcj4nLCBvYmplY3QpO1xufSk7XG5cbnRlc3QoJ0NvbXBvbmVudHMgLSBFbXB0eSBjb21wb25lbnRzIHdvcmsnLCBmdW5jdGlvbiAoKSB7XG4gIGNvbXBpbGVzVG8oJzx4LWJhcj48L3gtYmFyPicsJzx4LWJhcj48L3gtYmFyPicsIHt9KTtcbn0pO1xuXG50ZXN0KCdDb21wb25lbnRzIC0gVGV4dC1vbmx5IGRhc2hlZCBhdHRyaWJ1dGVzIHdvcmsnLCBmdW5jdGlvbiAoKSB7XG4gIGxldCBvYmplY3QgPSB7IGZvbzogJ3F1eCcgfTtcbiAgY29tcGlsZXNUbygnPHgtYmFyIGFyaWEtbGFiZWw9XCJmb29cIiBpZD1cInRlc3RcIj57e2Zvb319PC94LWJhcj4nLCc8eC1iYXIgYXJpYS1sYWJlbD1cImZvb1wiIGlkPVwidGVzdFwiPnF1eDwveC1iYXI+Jywgb2JqZWN0KTtcbn0pO1xuXG50ZXN0KCdSZXBhaXJlZCB0ZXh0IG5vZGVzIGFyZSBlbnN1cmVkIGluIHRoZSByaWdodCBwbGFjZScsIGZ1bmN0aW9uICgpIHtcbiAgbGV0IG9iamVjdCA9IHsgYTogXCJBXCIsIGI6IFwiQlwiLCBjOiBcIkNcIiwgZDogXCJEXCIgfTtcbiAgY29tcGlsZXNUbygne3thfX0ge3tifX0nLCAnQSBCJywgb2JqZWN0KTtcbiAgY29tcGlsZXNUbygnPGRpdj57e2F9fXt7Yn19e3tjfX13YXR7e2R9fTwvZGl2PicsICc8ZGl2PkFCQ3dhdEQ8L2Rpdj4nLCBvYmplY3QpO1xuICBjb21waWxlc1RvKCd7e2F9fXt7Yn19PGltZz48aW1nPjxpbWc+PGltZz4nLCAnQUI8aW1nPjxpbWc+PGltZz48aW1nPicsIG9iamVjdCk7XG59KTtcblxudGVzdChcIlNpbXBsZSBlbGVtZW50cyBjYW4gaGF2ZSBkYXNoZWQgYXR0cmlidXRlc1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHRlbXBsYXRlID0gY29tcGlsZShcIjxkaXYgYXJpYS1sYWJlbD0nZm9vJz5jb250ZW50PC9kaXY+XCIpO1xuICByZW5kZXIodGVtcGxhdGUsIHt9KTtcblxuICBlcXVhbFRva2Vucyhyb290LCAnPGRpdiBhcmlhLWxhYmVsPVwiZm9vXCI+Y29udGVudDwvZGl2PicpO1xufSk7XG5cbnRlc3QoJ0Jsb2NrIHBhcmFtcyBpbiBIVE1MIHN5bnRheCAtIFRocm93cyBleGNlcHRpb24gaWYgZ2l2ZW4gemVybyBwYXJhbWV0ZXJzJywgZnVuY3Rpb24gKCkge1xuICBleHBlY3QoMik7XG5cbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoJzx4LWJhciBhcyB8fD5mb288L3gtYmFyPicpO1xuICB9LCAvQ2Fubm90IHVzZSB6ZXJvIGJsb2NrIHBhcmFtZXRlcnM6ICdhcyBcXHxcXHwnLyk7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKCc8eC1iYXIgYXMgfCB8PmZvbzwveC1iYXI+Jyk7XG4gIH0sIC9DYW5ub3QgdXNlIHplcm8gYmxvY2sgcGFyYW1ldGVyczogJ2FzIFxcfCBcXHwnLyk7XG59KTtcblxudGVzdChcIkJsb2NrIHBhcmFtcyBpbiBIVE1MIHN5bnRheCAtIFRocm93cyBhbiBlcnJvciBvbiBpbnZhbGlkIGJsb2NrIHBhcmFtcyBzeW50YXhcIiwgZnVuY3Rpb24oKSB7XG4gIGV4cGVjdCgzKTtcblxuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZSgnPHgtYmFyIGFzIHx4IHk+e3t4fX0se3t5fX08L3gtYmFyPicpO1xuICB9LCAvSW52YWxpZCBibG9jayBwYXJhbWV0ZXJzIHN5bnRheDogJ2FzIHx4IHknLyk7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKCc8eC1iYXIgYXMgfHh8IHk+e3t4fX0se3t5fX08L3gtYmFyPicpO1xuICB9LCAvSW52YWxpZCBibG9jayBwYXJhbWV0ZXJzIHN5bnRheDogJ2FzIFxcfHhcXHwgeScvKTtcbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoJzx4LWJhciBhcyB8eHwgeXw+e3t4fX0se3t5fX08L3gtYmFyPicpO1xuICB9LCAvSW52YWxpZCBibG9jayBwYXJhbWV0ZXJzIHN5bnRheDogJ2FzIFxcfHhcXHwgeVxcfCcvKTtcbn0pO1xuXG50ZXN0KFwiQmxvY2sgcGFyYW1zIGluIEhUTUwgc3ludGF4IC0gVGhyb3dzIGFuIGVycm9yIG9uIGludmFsaWQgaWRlbnRpZmllcnMgZm9yIHBhcmFtc1wiLCBmdW5jdGlvbigpIHtcbiAgZXhwZWN0KDMpO1xuXG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKCc8eC1iYXIgYXMgfHggZm9vLmJhcnw+PC94LWJhcj4nKTtcbiAgfSwgL0ludmFsaWQgaWRlbnRpZmllciBmb3IgYmxvY2sgcGFyYW1ldGVyczogJ2Zvb1xcLmJhcicgaW4gJ2FzIFxcfHggZm9vXFwuYmFyfCcvKTtcbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoJzx4LWJhciBhcyB8eCBcImZvb1wifD48L3gtYmFyPicpO1xuICB9LCAvU3ludGF4IGVycm9yIGF0IGxpbmUgMSBjb2wgMTc6IFwiIGlzIG5vdCBhIHZhbGlkIGNoYXJhY3RlciB3aXRoaW4gYXR0cmlidXRlIG5hbWVzLyk7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKCc8eC1iYXIgYXMgfGZvb1tiYXJdfD48L3gtYmFyPicpO1xuICB9LCAvSW52YWxpZCBpZGVudGlmaWVyIGZvciBibG9jayBwYXJhbWV0ZXJzOiAnZm9vXFxbYmFyXFxdJyBpbiAnYXMgXFx8Zm9vXFxbYmFyXFxdXFx8Jy8pO1xufSk7XG5cbm1vZHVsZShcIkluaXRpYWwgcmVuZGVyIChpbnZhbGlkIEhUTUwpXCIpO1xuXG50ZXN0KFwiQSBoZWxwZnVsIGVycm9yIG1lc3NhZ2UgaXMgcHJvdmlkZWQgZm9yIHVuY2xvc2VkIGVsZW1lbnRzXCIsIGZ1bmN0aW9uKCkge1xuICBleHBlY3QoMik7XG5cbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoJ1xcbjxkaXYgY2xhc3M9XCJteS1kaXZcIiBcXG4gZm9vPXt7YmFyfX0+XFxuPHNwYW4+XFxuPC9zcGFuPlxcbicpO1xuICB9LCAvVW5jbG9zZWQgZWxlbWVudCBgZGl2YCBcXChvbiBsaW5lIDJcXClcXC4vKTtcbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoJ1xcbjxkaXYgY2xhc3M9XCJteS1kaXZcIj5cXG48c3Bhbj5cXG4nKTtcbiAgfSwgL1VuY2xvc2VkIGVsZW1lbnQgYHNwYW5gIFxcKG9uIGxpbmUgM1xcKVxcLi8pO1xufSk7XG5cbnRlc3QoXCJBIGhlbHBmdWwgZXJyb3IgbWVzc2FnZSBpcyBwcm92aWRlZCBmb3IgdW5tYXRjaGVkIGVuZCB0YWdzXCIsIGZ1bmN0aW9uKCkge1xuICBleHBlY3QoMik7XG5cbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoXCI8L3A+XCIpO1xuICB9LCAvQ2xvc2luZyB0YWcgYHBgIFxcKG9uIGxpbmUgMVxcKSB3aXRob3V0IGFuIG9wZW4gdGFnXFwuLyk7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKFwiPGVtPnt7IGZvbyB9fTwvZW0+IFxcbiB7eyBiYXIgfX1cXG48L2Rpdj5cIik7XG4gIH0sIC9DbG9zaW5nIHRhZyBgZGl2YCBcXChvbiBsaW5lIDNcXCkgd2l0aG91dCBhbiBvcGVuIHRhZ1xcLi8pO1xufSk7XG5cbnRlc3QoXCJBIGhlbHBmdWwgZXJyb3IgbWVzc2FnZSBpcyBwcm92aWRlZCBmb3IgZW5kIHRhZ3MgZm9yIHZvaWQgZWxlbWVudHNcIiwgZnVuY3Rpb24oKSB7XG4gIGV4cGVjdCgzKTtcblxuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZShcIjxpbnB1dD48L2lucHV0PlwiKTtcbiAgfSwgL0ludmFsaWQgZW5kIHRhZyBgaW5wdXRgIFxcKG9uIGxpbmUgMVxcKSBcXCh2b2lkIGVsZW1lbnRzIGNhbm5vdCBoYXZlIGVuZCB0YWdzXFwpLi8pO1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZShcIjxkaXY+XFxuICA8aW5wdXQ+PC9pbnB1dD5cXG48L2Rpdj5cIik7XG4gIH0sIC9JbnZhbGlkIGVuZCB0YWcgYGlucHV0YCBcXChvbiBsaW5lIDJcXCkgXFwodm9pZCBlbGVtZW50cyBjYW5ub3QgaGF2ZSBlbmQgdGFnc1xcKS4vKTtcbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoXCJcXG5cXG48L2JyPlwiKTtcbiAgfSwgL0ludmFsaWQgZW5kIHRhZyBgYnJgIFxcKG9uIGxpbmUgM1xcKSBcXCh2b2lkIGVsZW1lbnRzIGNhbm5vdCBoYXZlIGVuZCB0YWdzXFwpLi8pO1xufSk7XG5cbnRlc3QoXCJBIGhlbHBmdWwgZXJyb3IgbWVzc2FnZSBpcyBwcm92aWRlZCBmb3IgZW5kIHRhZ3Mgd2l0aCBhdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uKCkge1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZSgnPGRpdj5cXG5Tb21ldGhpbmdcXG5cXG48L2RpdiBmb289XCJiYXJcIj4nKTtcbiAgfSwgL0ludmFsaWQgZW5kIHRhZzogY2xvc2luZyB0YWcgbXVzdCBub3QgaGF2ZSBhdHRyaWJ1dGVzLCBpbiBgZGl2YCBcXChvbiBsaW5lIDRcXClcXC4vKTtcbn0pO1xuXG50ZXN0KFwiQSBoZWxwZnVsIGVycm9yIG1lc3NhZ2UgaXMgcHJvdmlkZWQgZm9yIG1pc21hdGNoZWQgc3RhcnQvZW5kIHRhZ3NcIiwgZnVuY3Rpb24oKSB7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKFwiPGRpdj5cXG48cD5cXG5Tb21ldGhpbmdcXG5cXG48L2Rpdj5cIik7XG4gIH0sIC9DbG9zaW5nIHRhZyBgZGl2YCBcXChvbiBsaW5lIDVcXCkgZGlkIG5vdCBtYXRjaCBsYXN0IG9wZW4gdGFnIGBwYCBcXChvbiBsaW5lIDJcXClcXC4vKTtcbn0pO1xuXG50ZXN0KFwiZXJyb3IgbGluZSBudW1iZXJzIGluY2x1ZGUgY29tbWVudCBsaW5lc1wiLCBmdW5jdGlvbigpIHtcbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoXCI8ZGl2PlxcbjxwPlxcbnt7ISBzb21lIGNvbW1lbnR9fVxcblxcbjwvZGl2PlwiKTtcbiAgfSwgL0Nsb3NpbmcgdGFnIGBkaXZgIFxcKG9uIGxpbmUgNVxcKSBkaWQgbm90IG1hdGNoIGxhc3Qgb3BlbiB0YWcgYHBgIFxcKG9uIGxpbmUgMlxcKVxcLi8pO1xufSk7XG5cbnRlc3QoXCJlcnJvciBsaW5lIG51bWJlcnMgaW5jbHVkZSBtdXN0YWNoZSBvbmx5IGxpbmVzXCIsIGZ1bmN0aW9uKCkge1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZShcIjxkaXY+XFxuPHA+XFxue3tzb21lUHJvcH19XFxuXFxuPC9kaXY+XCIpO1xuICB9LCAvQ2xvc2luZyB0YWcgYGRpdmAgXFwob24gbGluZSA1XFwpIGRpZCBub3QgbWF0Y2ggbGFzdCBvcGVuIHRhZyBgcGAgXFwob24gbGluZSAyXFwpXFwuLyk7XG59KTtcblxudGVzdChcImVycm9yIGxpbmUgbnVtYmVycyBpbmNsdWRlIGJsb2NrIGxpbmVzXCIsIGZ1bmN0aW9uKCkge1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZShcIjxkaXY+XFxuPHA+XFxue3sjc29tZS1jb21tZW50fX1cXG57ey9zb21lLWNvbW1lbnR9fVxcbjwvZGl2PlwiKTtcbiAgfSwgL0Nsb3NpbmcgdGFnIGBkaXZgIFxcKG9uIGxpbmUgNVxcKSBkaWQgbm90IG1hdGNoIGxhc3Qgb3BlbiB0YWcgYHBgIFxcKG9uIGxpbmUgMlxcKVxcLi8pO1xufSk7XG5cbnRlc3QoXCJlcnJvciBsaW5lIG51bWJlcnMgaW5jbHVkZSB3aGl0ZXNwYWNlIGNvbnRyb2wgbXVzdGFjaGVzXCIsIGZ1bmN0aW9uKCkge1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZShcIjxkaXY+XFxuPHA+XFxue3tzb21lUHJvcH59fVxcblxcbjwvZGl2Pnt7c29tZS1jb21tZW50fX1cIik7XG4gIH0sIC9DbG9zaW5nIHRhZyBgZGl2YCBcXChvbiBsaW5lIDVcXCkgZGlkIG5vdCBtYXRjaCBsYXN0IG9wZW4gdGFnIGBwYCBcXChvbiBsaW5lIDJcXClcXC4vKTtcbn0pO1xuXG50ZXN0KFwiZXJyb3IgbGluZSBudW1iZXJzIGluY2x1ZGUgbXVsdGlwbGUgbXVzdGFjaGUgbGluZXNcIiwgZnVuY3Rpb24oKSB7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKFwiPGRpdj5cXG48cD5cXG57e3NvbWUtY29tbWVudH19PC9kaXY+e3tzb21lLWNvbW1lbnR9fVwiKTtcbiAgfSwgL0Nsb3NpbmcgdGFnIGBkaXZgIFxcKG9uIGxpbmUgM1xcKSBkaWQgbm90IG1hdGNoIGxhc3Qgb3BlbiB0YWcgYHBgIFxcKG9uIGxpbmUgMlxcKVxcLi8pO1xufSk7XG5cbm1vZHVsZShcIkluaXRpYWwgcmVuZGVyIG9mIG5hbWVzcGFjZWQgSFRNTFwiKTtcblxudGVzdChcIk5hbWVzcGFjZWQgYXR0cmlidXRlXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKFwiPHN2ZyB4bGluazp0aXRsZT0nc3ZnLXRpdGxlJz5jb250ZW50PC9zdmc+XCIpO1xuICBsZXQgc3ZnID0gcm9vdC5maXJzdENoaWxkO1xuICBlcXVhbChzdmcubmFtZXNwYWNlVVJJLCBTVkdfTkFNRVNQQUNFKTtcbiAgZXF1YWwoc3ZnLmF0dHJpYnV0ZXNbMF0ubmFtZXNwYWNlVVJJLCBYTElOS19OQU1FU1BBQ0UpO1xufSk7XG5cbnRlc3QoXCI8c3ZnPiB0YWcgd2l0aCBjYXNlLXNlbnNpdGl2ZSBhdHRyaWJ1dGVcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB2aWV3Qm94ID0gJzAgMCAwIDAnO1xuICBjb21waWxlc1RvKGA8c3ZnIHZpZXdCb3g9XCIke3ZpZXdCb3h9XCI+PC9zdmc+YCk7XG4gIGxldCBzdmcgPSByb290LmZpcnN0Q2hpbGQgYXMgU1ZHU1ZHRWxlbWVudDtcbiAgZXF1YWwoc3ZnLm5hbWVzcGFjZVVSSSwgU1ZHX05BTUVTUEFDRSk7XG4gIGVxdWFsKHN2Zy5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKSwgdmlld0JveCk7XG59KTtcblxudGVzdChcIm5lc3RlZCBlbGVtZW50IGluIHRoZSBTVkcgbmFtZXNwYWNlXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgZCA9ICdNIDAgMCBMIDEwMCAxMDAnO1xuICBjb21waWxlc1RvKGA8c3ZnPjxwYXRoIGQ9XCIke2R9XCI+PC9wYXRoPjwvc3ZnPmApO1xuICBsZXQgc3ZnID0gcm9vdC5maXJzdENoaWxkIGFzIFNWR1NWR0VsZW1lbnQ7XG4gIGxldCBwYXRoID0gc3ZnLmZpcnN0Q2hpbGQgYXMgU1ZHUGF0aEVsZW1lbnQ7XG4gIGVxdWFsKHN2Zy5uYW1lc3BhY2VVUkksIFNWR19OQU1FU1BBQ0UpO1xuICBlcXVhbChwYXRoLm5hbWVzcGFjZVVSSSwgU1ZHX05BTUVTUEFDRSxcbiAgICAgICAgXCJjcmVhdGVzIHRoZSBwYXRoIGVsZW1lbnQgd2l0aCBhIG5hbWVzcGFjZVwiKTtcbiAgZXF1YWwocGF0aC5nZXRBdHRyaWJ1dGUoJ2QnKSwgZCk7XG59KTtcblxudGVzdChcIjxmb3JlaWduT2JqZWN0PiB0YWcgaGFzIGFuIFNWRyBuYW1lc3BhY2VcIiwgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oJzxzdmc+PGZvcmVpZ25PYmplY3Q+SGk8L2ZvcmVpZ25PYmplY3Q+PC9zdmc+Jyk7XG4gIGxldCBzdmcgPSByb290LmZpcnN0Q2hpbGQ7XG4gIGxldCBmb3JlaWduT2JqZWN0ID0gc3ZnLmZpcnN0Q2hpbGQ7XG4gIGVxdWFsKHN2Zy5uYW1lc3BhY2VVUkksIFNWR19OQU1FU1BBQ0UpO1xuICBlcXVhbChmb3JlaWduT2JqZWN0Lm5hbWVzcGFjZVVSSSwgU1ZHX05BTUVTUEFDRSxcbiAgICAgICAgXCJjcmVhdGVzIHRoZSBmb3JlaWduT2JqZWN0IGVsZW1lbnQgd2l0aCBhIG5hbWVzcGFjZVwiKTtcbn0pO1xuXG50ZXN0KFwiTmFtZXNwYWNlZCBhbmQgbm9uLW5hbWVzcGFjZWQgZWxlbWVudHMgYXMgc2libGluZ3NcIiwgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oJzxzdmc+PC9zdmc+PHN2Zz48L3N2Zz48ZGl2PjwvZGl2PicpO1xuICBlcXVhbChyb290LmNoaWxkTm9kZXNbMF0ubmFtZXNwYWNlVVJJLCBTVkdfTkFNRVNQQUNFLFxuICAgICAgICBcImNyZWF0ZXMgdGhlIGZpcnN0IHN2ZyBlbGVtZW50IHdpdGggYSBuYW1lc3BhY2VcIik7XG4gIGVxdWFsKHJvb3QuY2hpbGROb2Rlc1sxXS5uYW1lc3BhY2VVUkksIFNWR19OQU1FU1BBQ0UsXG4gICAgICAgIFwiY3JlYXRlcyB0aGUgc2Vjb25kIHN2ZyBlbGVtZW50IHdpdGggYSBuYW1lc3BhY2VcIik7XG4gIGVxdWFsKHJvb3QuY2hpbGROb2Rlc1syXS5uYW1lc3BhY2VVUkksIFhIVE1MX05BTUVTUEFDRSxcbiAgICAgICAgXCJjcmVhdGVzIHRoZSBkaXYgZWxlbWVudCB3aXRob3V0IGEgbmFtZXNwYWNlXCIpO1xufSk7XG5cbnRlc3QoXCJOYW1lc3BhY2VkIGFuZCBub24tbmFtZXNwYWNlZCBlbGVtZW50cyB3aXRoIG5lc3RpbmdcIiwgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oJzxkaXY+PHN2Zz48L3N2Zz48L2Rpdj48ZGl2PjwvZGl2PicpO1xuICBsZXQgZmlyc3REaXYgPSByb290LmZpcnN0Q2hpbGQ7XG4gIGxldCBzZWNvbmREaXYgPSByb290Lmxhc3RDaGlsZDtcbiAgbGV0IHN2ZyA9IGZpcnN0RGl2LmZpcnN0Q2hpbGQ7XG4gIGVxdWFsKGZpcnN0RGl2Lm5hbWVzcGFjZVVSSSwgWEhUTUxfTkFNRVNQQUNFLFxuICAgICAgICBcImZpcnN0IGRpdidzIG5hbWVzcGFjZSBpcyB4aHRtbE5hbWVzcGFjZVwiKTtcbiAgZXF1YWwoc3ZnLm5hbWVzcGFjZVVSSSwgU1ZHX05BTUVTUEFDRSxcbiAgICAgICAgXCJzdmcncyBuYW1lc3BhY2UgaXMgc3ZnTmFtZXNwYWNlXCIpO1xuICBlcXVhbChzZWNvbmREaXYubmFtZXNwYWNlVVJJLCBYSFRNTF9OQU1FU1BBQ0UsXG4gICAgICAgIFwibGFzdCBkaXYncyBuYW1lc3BhY2UgaXMgeGh0bWxOYW1lc3BhY2VcIik7XG59KTtcblxudGVzdChcIkNhc2Utc2Vuc2l0aXZlIHRhZyBoYXMgY2FwaXRhbGl6YXRpb24gcHJlc2VydmVkXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCc8c3ZnPjxsaW5lYXJHcmFkaWVudCBpZD1cImdyYWRpZW50XCI+PC9saW5lYXJHcmFkaWVudD48L3N2Zz4nKTtcbn0pO1xuXG5sZXQgd2FybmluZ3MgPSAwO1xuXG5jbGFzcyBTdHlsZUF0dHJpYnV0ZSBleHRlbmRzIEF0dHJpYnV0ZU1hbmFnZXIge1xuICBzZXRBdHRyaWJ1dGUoZG9tLCBlbGVtZW50LCB2YWx1ZSkge1xuICAgIHdhcm5pbmdzKys7XG4gICAgc3VwZXIuc2V0QXR0cmlidXRlKGRvbSwgZWxlbWVudCwgdmFsdWUpO1xuICB9XG5cbiAgdXBkYXRlQXR0cmlidXRlKCkge31cbn1cblxuY29uc3QgU1RZTEVfQVRUUklCVVRFID0gbmV3IFN0eWxlQXR0cmlidXRlKCdzdHlsZScpO1xuXG5RVW5pdC5tb2R1bGUoJ1N0eWxlIGF0dHJpYnV0ZXMnLCB7XG4gIHNldHVwKCkge1xuICAgIGNsYXNzIFN0eWxlRW52IGV4dGVuZHMgVGVzdEVudmlyb25tZW50IHtcbiAgICAgIGF0dHJpYnV0ZUZvcihlbGVtZW50OiBTaW1wbGUuRWxlbWVudCwgYXR0cjogc3RyaW5nLCBpc1RydXN0aW5nOiBib29sZWFuLCBuYW1lc3BhY2U/OiBzdHJpbmcpOiBBdHRyaWJ1dGVNYW5hZ2VyIHtcbiAgICAgICAgaWYgKGF0dHIgPT09ICdzdHlsZScgJiYgIWlzVHJ1c3RpbmcpIHtcbiAgICAgICAgICByZXR1cm4gU1RZTEVfQVRUUklCVVRFO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmF0dHJpYnV0ZUZvcihlbGVtZW50LCBhdHRyLCBpc1RydXN0aW5nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb21tb25TZXR1cChuZXcgU3R5bGVFbnYoKSk7XG5cbiAgfSxcbiAgdGVhcmRvd24oKSB7XG4gICAgd2FybmluZ3MgPSAwO1xuICB9XG59KTtcblxudGVzdChgdXNpbmcgYSBzdGF0aWMgaW5saW5lIHN0eWxlIG9uIGFuIGVsZW1lbnQgZG9lcyBub3QgZ2l2ZSB5b3UgYSB3YXJuaW5nYCwgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoYDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiByZWRcIj5UaGluZzwvZGl2PmApO1xuICByZW5kZXIodGVtcGxhdGUsIHt9KTtcblxuICBhc3NlcnQuc3RyaWN0RXF1YWwod2FybmluZ3MsIDApO1xuXG4gIGVxdWFsVG9rZW5zKHJvb3QsICc8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogcmVkXCI+VGhpbmc8L2Rpdj4nLCBcImluaXRpYWwgcmVuZGVyXCIpO1xufSk7XG5cbnRlc3QoYHRyaXBsZSBjdXJsaWVzIGFyZSB0cnVzdGVkYCwgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoYDxkaXYgZm9vPXt7Zm9vfX0gc3R5bGU9e3t7c3R5bGVzfX19PlRoaW5nPC9kaXY+YCk7XG4gIHJlbmRlcih0ZW1wbGF0ZSwge3N0eWxlczogJ2JhY2tncm91bmQ6IHJlZCd9KTtcblxuICBhc3NlcnQuc3RyaWN0RXF1YWwod2FybmluZ3MsIDApO1xuXG4gIGVxdWFsVG9rZW5zKHJvb3QsICc8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogcmVkXCI+VGhpbmc8L2Rpdj4nLCBcImluaXRpYWwgcmVuZGVyXCIpO1xufSk7XG5cbnRlc3QoYHVzaW5nIGEgc3RhdGljIGlubGluZSBzdHlsZSBvbiBhbiBuYW1lc3BhY2VkIGVsZW1lbnQgZG9lcyBub3QgZ2l2ZSB5b3UgYSB3YXJuaW5nYCwgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoYDxzdmcgeG1sbnM6c3ZnPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBzdHlsZT1cImJhY2tncm91bmQ6IHJlZFwiIC8+YCk7XG5cbiAgcmVuZGVyKHRlbXBsYXRlLCB7fSk7XG5cbiAgYXNzZXJ0LnN0cmljdEVxdWFsKHdhcm5pbmdzLCAwKTtcblxuICBlcXVhbFRva2Vucyhyb290LCAnPHN2ZyB4bWxuczpzdmc9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHN0eWxlPVwiYmFja2dyb3VuZDogcmVkXCI+PC9zdmc+JywgXCJpbml0aWFsIHJlbmRlclwiKTtcbn0pO1xuIl19