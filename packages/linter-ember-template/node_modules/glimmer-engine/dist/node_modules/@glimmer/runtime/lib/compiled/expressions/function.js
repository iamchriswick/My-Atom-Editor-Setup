"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var expressions_1 = require("../expressions");
var CompiledFunctionExpression = (function (_super) {
    __extends(CompiledFunctionExpression, _super);
    function CompiledFunctionExpression(func, symbolTable) {
        var _this = _super.call(this) || this;
        _this.func = func;
        _this.symbolTable = symbolTable;
        _this.type = "function";
        _this.func = func;
        return _this;
    }
    CompiledFunctionExpression.prototype.evaluate = function (vm) {
        var _a = this, func = _a.func, symbolTable = _a.symbolTable;
        return func(vm, symbolTable);
    };
    CompiledFunctionExpression.prototype.toJSON = function () {
        var func = this.func;
        if (func.name) {
            return "`" + func.name + "(...)`";
        }
        else {
            return "`func(...)`";
        }
    };
    return CompiledFunctionExpression;
}(expressions_1.CompiledExpression));
exports.CompiledFunctionExpression = CompiledFunctionExpression;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnVuY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJAZ2xpbW1lci9ydW50aW1lL2xpYi9jb21waWxlZC9leHByZXNzaW9ucy9mdW5jdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSw4Q0FBb0Q7QUFNcEQ7SUFBbUQsOENBQXFCO0lBR3RFLG9DQUFvQixJQUEyQixFQUFVLFdBQXdCO1FBQWpGLFlBQ0UsaUJBQU8sU0FFUjtRQUhtQixVQUFJLEdBQUosSUFBSSxDQUF1QjtRQUFVLGlCQUFXLEdBQVgsV0FBVyxDQUFhO1FBRjFFLFVBQUksR0FBRyxVQUFVLENBQUM7UUFJdkIsS0FBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7O0lBQ25CLENBQUM7SUFFRCw2Q0FBUSxHQUFSLFVBQVMsRUFBTTtRQUNULElBQUEsU0FBNEIsRUFBMUIsY0FBSSxFQUFFLDRCQUFXLENBQVU7UUFDakMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVELDJDQUFNLEdBQU47UUFDUSxJQUFBLGdCQUFJLENBQVU7UUFFcEIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDZCxNQUFNLENBQUMsTUFBSyxJQUFJLENBQUMsSUFBSSxXQUFTLENBQUM7UUFDakMsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ04sTUFBTSxDQUFDLGFBQWEsQ0FBQztRQUN2QixDQUFDO0lBQ0gsQ0FBQztJQUNILGlDQUFDO0FBQUQsQ0FBQyxBQXRCRCxDQUFtRCxnQ0FBa0IsR0FzQnBFO0FBdEJZLGdFQUEwQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhdGhSZWZlcmVuY2UgfSBmcm9tICdAZ2xpbW1lci9yZWZlcmVuY2UnO1xuaW1wb3J0IHsgQ29tcGlsZWRFeHByZXNzaW9uIH0gZnJvbSAnLi4vZXhwcmVzc2lvbnMnO1xuaW1wb3J0IHsgUHVibGljVk0gYXMgVk0gfSBmcm9tICcuLi8uLi92bSc7XG5pbXBvcnQgeyBTeW1ib2xUYWJsZSB9IGZyb20gJ0BnbGltbWVyL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgdHlwZSBGdW5jdGlvbkV4cHJlc3Npb248VD4gPSAoVk06IFZNLCBzeW1ib2xUYWJsZTogU3ltYm9sVGFibGUpID0+IFBhdGhSZWZlcmVuY2U8VD47XG5cbmV4cG9ydCBjbGFzcyBDb21waWxlZEZ1bmN0aW9uRXhwcmVzc2lvbjxUPiBleHRlbmRzIENvbXBpbGVkRXhwcmVzc2lvbjxUPiB7XG4gIHB1YmxpYyB0eXBlID0gXCJmdW5jdGlvblwiO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZnVuYzogRnVuY3Rpb25FeHByZXNzaW9uPFQ+LCBwcml2YXRlIHN5bWJvbFRhYmxlOiBTeW1ib2xUYWJsZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5mdW5jID0gZnVuYztcbiAgfVxuXG4gIGV2YWx1YXRlKHZtOiBWTSk6IFBhdGhSZWZlcmVuY2U8VD4ge1xuICAgIGxldCB7IGZ1bmMsIHN5bWJvbFRhYmxlIH0gPSB0aGlzO1xuICAgIHJldHVybiBmdW5jKHZtLCBzeW1ib2xUYWJsZSk7XG4gIH1cblxuICB0b0pTT04oKTogc3RyaW5nIHtcbiAgICBsZXQgeyBmdW5jIH0gPSB0aGlzO1xuXG4gICAgaWYgKGZ1bmMubmFtZSkge1xuICAgICAgcmV0dXJuIGBcXGAke2Z1bmMubmFtZX0oLi4uKVxcYGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImBmdW5jKC4uLilgXCI7XG4gICAgfVxuICB9XG59XG4iXX0=