"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var test_helpers_1 = require("@glimmer/test-helpers");
var ember_component_test_1 = require("./ember-component-test");
var object_reference_1 = require("@glimmer/object-reference");
var view, env;
function rerender() {
    view.rerender();
}
function appendViewFor(template, context) {
    if (context === void 0) { context = {}; }
    var MyRootView = (function (_super) {
        __extends(MyRootView, _super);
        function MyRootView() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.env = env;
            _this.template = env.compile(template);
            return _this;
        }
        return MyRootView;
    }(ember_component_test_1.EmberishRootView));
    view = new MyRootView(context);
    MyRootView[object_reference_1.CLASS_META].seal();
    env.begin();
    view.appendTo('#qunit-fixture');
    env.commit();
    return view;
}
QUnit.module('Targeting a remote element', {
    setup: function () {
        env = new test_helpers_1.TestEnvironment();
    }
});
QUnit.test('basic', function (assert) {
    var externalElement = document.createElement('div');
    appendViewFor((_a = ["{{#-in-element externalElement}}[{{foo}}]{{/-in-element}}"], _a.raw = ["{{#-in-element externalElement}}[{{foo}}]{{/-in-element}}"], test_helpers_1.stripTight(_a)), { externalElement: externalElement, foo: 'Yippie!' });
    test_helpers_1.equalsElement(externalElement, 'div', {}, (_b = ["[Yippie!]"], _b.raw = ["[Yippie!]"], test_helpers_1.stripTight(_b)));
    object_reference_1.setProperty(view, 'foo', 'Double Yips!');
    rerender();
    test_helpers_1.equalsElement(externalElement, 'div', {}, (_c = ["[Double Yips!]"], _c.raw = ["[Double Yips!]"], test_helpers_1.stripTight(_c)));
    object_reference_1.setProperty(view, 'foo', 'Yippie!');
    rerender();
    test_helpers_1.equalsElement(externalElement, 'div', {}, (_d = ["[Yippie!]"], _d.raw = ["[Yippie!]"], test_helpers_1.stripTight(_d)));
    var _a, _b, _c, _d;
});
QUnit.test('changing to falsey', function (assert) {
    var first = document.createElement('div');
    var second = document.createElement('div');
    appendViewFor((_a = ["\n      |{{foo}}|\n      {{#-in-element first}}[{{foo}}]{{/-in-element}}\n      {{#-in-element second}}[{{foo}}]{{/-in-element}}\n    "], _a.raw = ["\n      |{{foo}}|\n      {{#-in-element first}}[{{foo}}]{{/-in-element}}\n      {{#-in-element second}}[{{foo}}]{{/-in-element}}\n    "], test_helpers_1.stripTight(_a)), { first: first, second: null, foo: 'Yippie!' });
    test_helpers_1.equalsElement(first, 'div', {}, "[Yippie!]");
    test_helpers_1.equalsElement(second, 'div', {}, "");
    ember_component_test_1.assertAppended('|Yippie!|<!----><!---->');
    object_reference_1.setProperty(view, 'foo', 'Double Yips!');
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, "[Double Yips!]");
    test_helpers_1.equalsElement(second, 'div', {}, "");
    ember_component_test_1.assertAppended('|Double Yips!|<!----><!---->');
    object_reference_1.setProperty(view, 'first', null);
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, "");
    test_helpers_1.equalsElement(second, 'div', {}, "");
    ember_component_test_1.assertAppended('|Double Yips!|<!----><!---->');
    object_reference_1.setProperty(view, 'second', second);
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, "");
    test_helpers_1.equalsElement(second, 'div', {}, "[Double Yips!]");
    ember_component_test_1.assertAppended('|Double Yips!|<!----><!---->');
    object_reference_1.setProperty(view, 'foo', 'Yippie!');
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, "");
    test_helpers_1.equalsElement(second, 'div', {}, "[Yippie!]");
    ember_component_test_1.assertAppended('|Yippie!|<!----><!---->');
    object_reference_1.setProperty(view, 'first', first);
    object_reference_1.setProperty(view, 'second', null);
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, "[Yippie!]");
    test_helpers_1.equalsElement(second, 'div', {}, "");
    ember_component_test_1.assertAppended('|Yippie!|<!----><!---->');
    var _a;
});
QUnit.test('with pre-existing content', function (assert) {
    var externalElement = document.createElement('div');
    var initialContent = externalElement.innerHTML = '<p>Hello there!</p>';
    appendViewFor((_a = ["{{#-in-element externalElement}}[{{foo}}]{{/-in-element}}"], _a.raw = ["{{#-in-element externalElement}}[{{foo}}]{{/-in-element}}"], test_helpers_1.stripTight(_a)), { externalElement: externalElement, foo: 'Yippie!' });
    ember_component_test_1.assertAppended('<!---->');
    test_helpers_1.equalsElement(externalElement, 'div', {}, initialContent + "[Yippie!]");
    object_reference_1.setProperty(view, 'foo', 'Double Yips!');
    rerender();
    ember_component_test_1.assertAppended('<!---->');
    test_helpers_1.equalsElement(externalElement, 'div', {}, initialContent + "[Double Yips!]");
    object_reference_1.setProperty(view, 'foo', 'Yippie!');
    rerender();
    ember_component_test_1.assertAppended('<!---->');
    test_helpers_1.equalsElement(externalElement, 'div', {}, initialContent + "[Yippie!]");
    object_reference_1.setProperty(view, 'externalElement', null);
    rerender();
    ember_component_test_1.assertAppended('<!---->');
    test_helpers_1.equalsElement(externalElement, 'div', {}, "" + initialContent);
    object_reference_1.setProperty(view, 'externalElement', externalElement);
    rerender();
    ember_component_test_1.assertAppended('<!---->');
    test_helpers_1.equalsElement(externalElement, 'div', {}, initialContent + "[Yippie!]");
    var _a;
});
QUnit.test('updating remote element', function (assert) {
    var first = document.createElement('div');
    var second = document.createElement('div');
    appendViewFor((_a = ["{{#-in-element targetElement}}[{{foo}}]{{/-in-element}}"], _a.raw = ["{{#-in-element targetElement}}[{{foo}}]{{/-in-element}}"], test_helpers_1.stripTight(_a)), {
        targetElement: first,
        foo: 'Yippie!'
    });
    test_helpers_1.equalsElement(first, 'div', {}, "[Yippie!]");
    test_helpers_1.equalsElement(second, 'div', {}, "");
    object_reference_1.setProperty(view, 'foo', 'Double Yips!');
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, "[Double Yips!]");
    test_helpers_1.equalsElement(second, 'div', {}, "");
    object_reference_1.setProperty(view, 'foo', 'Yippie!');
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, "[Yippie!]");
    test_helpers_1.equalsElement(second, 'div', {}, "");
    object_reference_1.setProperty(view, 'targetElement', second);
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, "");
    test_helpers_1.equalsElement(second, 'div', {}, "[Yippie!]");
    object_reference_1.setProperty(view, 'foo', 'Double Yips!');
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, "");
    test_helpers_1.equalsElement(second, 'div', {}, "[Double Yips!]");
    object_reference_1.setProperty(view, 'foo', 'Yippie!');
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, "");
    test_helpers_1.equalsElement(second, 'div', {}, "[Yippie!]");
    var _a;
});
QUnit.test('inside an `{{if}}', function (assert) {
    var first = document.createElement('div');
    var second = document.createElement('div');
    appendViewFor((_a = ["\n      {{#if showFirst}}\n        {{#-in-element first}}[{{foo}}]{{/-in-element}}\n      {{/if}}\n      {{#if showSecond}}\n        {{#-in-element second}}[{{foo}}]{{/-in-element}}\n      {{/if}}\n    "], _a.raw = ["\n      {{#if showFirst}}\n        {{#-in-element first}}[{{foo}}]{{/-in-element}}\n      {{/if}}\n      {{#if showSecond}}\n        {{#-in-element second}}[{{foo}}]{{/-in-element}}\n      {{/if}}\n    "], test_helpers_1.stripTight(_a)), {
        first: first,
        second: second,
        showFirst: true,
        showSecond: false,
        foo: 'Yippie!'
    });
    test_helpers_1.equalsElement(first, 'div', {}, (_b = ["[Yippie!]"], _b.raw = ["[Yippie!]"], test_helpers_1.stripTight(_b)));
    test_helpers_1.equalsElement(second, 'div', {}, (_c = [""], _c.raw = [""], test_helpers_1.stripTight(_c)));
    object_reference_1.setProperty(view, 'showFirst', false);
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, (_d = [""], _d.raw = [""], test_helpers_1.stripTight(_d)));
    test_helpers_1.equalsElement(second, 'div', {}, (_e = [""], _e.raw = [""], test_helpers_1.stripTight(_e)));
    object_reference_1.setProperty(view, 'showSecond', true);
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, (_f = [""], _f.raw = [""], test_helpers_1.stripTight(_f)));
    test_helpers_1.equalsElement(second, 'div', {}, (_g = ["[Yippie!]"], _g.raw = ["[Yippie!]"], test_helpers_1.stripTight(_g)));
    object_reference_1.setProperty(view, 'foo', 'Double Yips!');
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, (_h = [""], _h.raw = [""], test_helpers_1.stripTight(_h)));
    test_helpers_1.equalsElement(second, 'div', {}, (_j = ["[Double Yips!]"], _j.raw = ["[Double Yips!]"], test_helpers_1.stripTight(_j)));
    object_reference_1.setProperty(view, 'showSecond', false);
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, (_k = [""], _k.raw = [""], test_helpers_1.stripTight(_k)));
    test_helpers_1.equalsElement(second, 'div', {}, (_l = [""], _l.raw = [""], test_helpers_1.stripTight(_l)));
    object_reference_1.setProperty(view, 'showFirst', true);
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, (_m = ["[Double Yips!]"], _m.raw = ["[Double Yips!]"], test_helpers_1.stripTight(_m)));
    test_helpers_1.equalsElement(second, 'div', {}, (_o = [""], _o.raw = [""], test_helpers_1.stripTight(_o)));
    object_reference_1.setProperty(view, 'foo', 'Yippie!');
    rerender();
    test_helpers_1.equalsElement(first, 'div', {}, (_p = ["[Yippie!]"], _p.raw = ["[Yippie!]"], test_helpers_1.stripTight(_p)));
    test_helpers_1.equalsElement(second, 'div', {}, (_q = [""], _q.raw = [""], test_helpers_1.stripTight(_q)));
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;
});
QUnit.test('multiple', function (assert) {
    var firstElement = document.createElement('div');
    var secondElement = document.createElement('div');
    appendViewFor((_a = ["\n      {{#-in-element firstElement}}\n        [{{foo}}]\n      {{/-in-element}}\n      {{#-in-element secondElement}}\n        [{{bar}}]\n      {{/-in-element}}\n      "], _a.raw = ["\n      {{#-in-element firstElement}}\n        [{{foo}}]\n      {{/-in-element}}\n      {{#-in-element secondElement}}\n        [{{bar}}]\n      {{/-in-element}}\n      "], test_helpers_1.stripTight(_a)), {
        firstElement: firstElement,
        secondElement: secondElement,
        foo: 'Hello!',
        bar: 'World!'
    });
    test_helpers_1.equalsElement(firstElement, 'div', {}, (_b = ["[Hello!]"], _b.raw = ["[Hello!]"], test_helpers_1.stripTight(_b)));
    test_helpers_1.equalsElement(secondElement, 'div', {}, (_c = ["[World!]"], _c.raw = ["[World!]"], test_helpers_1.stripTight(_c)));
    object_reference_1.setProperty(view, 'foo', 'GoodBye!');
    rerender();
    test_helpers_1.equalsElement(firstElement, 'div', {}, (_d = ["[GoodBye!]"], _d.raw = ["[GoodBye!]"], test_helpers_1.stripTight(_d)));
    test_helpers_1.equalsElement(secondElement, 'div', {}, (_e = ["[World!]"], _e.raw = ["[World!]"], test_helpers_1.stripTight(_e)));
    object_reference_1.setProperty(view, 'bar', 'Folks!');
    rerender();
    test_helpers_1.equalsElement(firstElement, 'div', {}, (_f = ["[GoodBye!]"], _f.raw = ["[GoodBye!]"], test_helpers_1.stripTight(_f)));
    test_helpers_1.equalsElement(secondElement, 'div', {}, (_g = ["[Folks!]"], _g.raw = ["[Folks!]"], test_helpers_1.stripTight(_g)));
    object_reference_1.setProperty(view, 'bar', 'World!');
    rerender();
    test_helpers_1.equalsElement(firstElement, 'div', {}, (_h = ["[GoodBye!]"], _h.raw = ["[GoodBye!]"], test_helpers_1.stripTight(_h)));
    test_helpers_1.equalsElement(secondElement, 'div', {}, (_j = ["[World!]"], _j.raw = ["[World!]"], test_helpers_1.stripTight(_j)));
    object_reference_1.setProperty(view, 'foo', 'Hello!');
    rerender();
    test_helpers_1.equalsElement(firstElement, 'div', {}, (_k = ["[Hello!]"], _k.raw = ["[Hello!]"], test_helpers_1.stripTight(_k)));
    test_helpers_1.equalsElement(secondElement, 'div', {}, (_l = ["[World!]"], _l.raw = ["[World!]"], test_helpers_1.stripTight(_l)));
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;
});
QUnit.test('nesting', function (assert) {
    var firstElement = document.createElement('div');
    var secondElement = document.createElement('div');
    appendViewFor((_a = ["\n      {{#-in-element firstElement}}\n        [{{foo}}]\n        {{#-in-element secondElement}}\n          [{{bar}}]\n        {{/-in-element}}\n      {{/-in-element}}\n      "], _a.raw = ["\n      {{#-in-element firstElement}}\n        [{{foo}}]\n        {{#-in-element secondElement}}\n          [{{bar}}]\n        {{/-in-element}}\n      {{/-in-element}}\n      "], test_helpers_1.stripTight(_a)), {
        firstElement: firstElement,
        secondElement: secondElement,
        foo: 'Hello!',
        bar: 'World!'
    });
    test_helpers_1.equalsElement(firstElement, 'div', {}, (_b = ["[Hello!]<!---->"], _b.raw = ["[Hello!]<!---->"], test_helpers_1.stripTight(_b)));
    test_helpers_1.equalsElement(secondElement, 'div', {}, (_c = ["[World!]"], _c.raw = ["[World!]"], test_helpers_1.stripTight(_c)));
    object_reference_1.setProperty(view, 'foo', 'GoodBye!');
    rerender();
    test_helpers_1.equalsElement(firstElement, 'div', {}, (_d = ["[GoodBye!]<!---->"], _d.raw = ["[GoodBye!]<!---->"], test_helpers_1.stripTight(_d)));
    test_helpers_1.equalsElement(secondElement, 'div', {}, (_e = ["[World!]"], _e.raw = ["[World!]"], test_helpers_1.stripTight(_e)));
    object_reference_1.setProperty(view, 'bar', 'Folks!');
    rerender();
    test_helpers_1.equalsElement(firstElement, 'div', {}, (_f = ["[GoodBye!]<!---->"], _f.raw = ["[GoodBye!]<!---->"], test_helpers_1.stripTight(_f)));
    test_helpers_1.equalsElement(secondElement, 'div', {}, (_g = ["[Folks!]"], _g.raw = ["[Folks!]"], test_helpers_1.stripTight(_g)));
    object_reference_1.setProperty(view, 'bar', 'World!');
    rerender();
    test_helpers_1.equalsElement(firstElement, 'div', {}, (_h = ["[GoodBye!]<!---->"], _h.raw = ["[GoodBye!]<!---->"], test_helpers_1.stripTight(_h)));
    test_helpers_1.equalsElement(secondElement, 'div', {}, (_j = ["[World!]"], _j.raw = ["[World!]"], test_helpers_1.stripTight(_j)));
    object_reference_1.setProperty(view, 'foo', 'Hello!');
    rerender();
    test_helpers_1.equalsElement(firstElement, 'div', {}, (_k = ["[Hello!]<!---->"], _k.raw = ["[Hello!]<!---->"], test_helpers_1.stripTight(_k)));
    test_helpers_1.equalsElement(secondElement, 'div', {}, (_l = ["[World!]"], _l.raw = ["[World!]"], test_helpers_1.stripTight(_l)));
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;
});
QUnit.test('components are destroyed', function (assert) {
    var destroyed = 0;
    var DestroyMeComponent = test_helpers_1.EmberishCurlyComponent.extend({
        destroy: function () {
            this._super();
            destroyed++;
        }
    });
    env.registerEmberishCurlyComponent('destroy-me', DestroyMeComponent, 'destroy me!');
    var externalElement = document.createElement('div');
    appendViewFor((_a = ["\n      {{#if showExternal}}\n        {{#-in-element externalElement}}[{{destroy-me}}]{{/-in-element}}\n      {{/if}}\n    "], _a.raw = ["\n      {{#if showExternal}}\n        {{#-in-element externalElement}}[{{destroy-me}}]{{/-in-element}}\n      {{/if}}\n    "], test_helpers_1.stripTight(_a)), {
        externalElement: externalElement,
        showExternal: false,
    });
    test_helpers_1.equalsElement(externalElement, 'div', {}, (_b = [""], _b.raw = [""], test_helpers_1.stripTight(_b)));
    assert.equal(destroyed, 0, 'component was destroyed');
    object_reference_1.setProperty(view, 'showExternal', true);
    rerender();
    ember_component_test_1.assertElementIsEmberishElement(externalElement.firstElementChild, 'div', {}, 'destroy me!');
    assert.equal(destroyed, 0, 'component was destroyed');
    object_reference_1.setProperty(view, 'showExternal', false);
    rerender();
    test_helpers_1.equalsElement(externalElement, 'div', {}, (_c = [""], _c.raw = [""], test_helpers_1.stripTight(_c)));
    assert.equal(destroyed, 1, 'component was destroyed');
    var _a, _b, _c;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW4tZWxlbWVudC10ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQGdsaW1tZXIvcnVudGltZS90ZXN0cy9pbi1lbGVtZW50LXRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsc0RBS2dDO0FBRWhDLCtEQUlnQztBQUVoQyw4REFBMkU7QUFFM0UsSUFBSSxJQUFJLEVBQUUsR0FBRyxDQUFDO0FBRWQ7SUFDRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7QUFDbEIsQ0FBQztBQUVELHVCQUF1QixRQUFnQixFQUFFLE9BQW9CO0lBQXBCLHdCQUFBLEVBQUEsWUFBb0I7SUFDM0Q7UUFBeUIsOEJBQWdCO1FBQXpDO1lBQUEscUVBR0M7WUFGVyxTQUFHLEdBQUcsR0FBRyxDQUFDO1lBQ1YsY0FBUSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O1FBQzdDLENBQUM7UUFBRCxpQkFBQztJQUFELENBQUMsQUFIRCxDQUF5Qix1Q0FBZ0IsR0FHeEM7SUFFRCxJQUFJLEdBQUcsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0IsVUFBVSxDQUFDLDZCQUFVLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUU5QixHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDWixJQUFJLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDaEMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBRWIsTUFBTSxDQUFDLElBQUksQ0FBQztBQUNkLENBQUM7QUFFRCxLQUFLLENBQUMsTUFBTSxDQUFDLDRCQUE0QixFQUFFO0lBQ3pDLEtBQUs7UUFDSCxHQUFHLEdBQUcsSUFBSSw4QkFBZSxFQUFFLENBQUM7SUFDOUIsQ0FBQztDQUNGLENBQUMsQ0FBQztBQUVILEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFVBQVMsTUFBTTtJQUNqQyxJQUFJLGVBQWUsR0FBRyxRQUFRLENBQUMsYUFBYSxD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LEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDakMsUUFBUSxFQUFFLENBQUM7SUFFWCw0QkFBYSxDQUFDLGVBQWUsRUFBRSxLQUFLLEVBQUUsRUFBRSx3QkFBWSxFQUFFLEdBQVoseUJBQVUsTUFBRyxDQUFDO0lBQ3hELE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSx5QkFBeUIsQ0FBQyxDQUFDOztBQUN4RCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFRlc3RFbnZpcm9ubWVudCxcbiAgc3RyaXBUaWdodCxcbiAgZXF1YWxzRWxlbWVudCxcbiAgRW1iZXJpc2hDdXJseUNvbXBvbmVudFxuIH0gZnJvbSBcIkBnbGltbWVyL3Rlc3QtaGVscGVyc1wiO1xuXG5pbXBvcnQge1xuICBhc3NlcnRBcHBlbmRlZCxcbiAgYXNzZXJ0RWxlbWVudElzRW1iZXJpc2hFbGVtZW50LFxuICBFbWJlcmlzaFJvb3RWaWV3XG59IGZyb20gJy4vZW1iZXItY29tcG9uZW50LXRlc3QnO1xuXG5pbXBvcnQgeyBDTEFTU19NRVRBLCBzZXRQcm9wZXJ0eSBhcyBzZXQgfSBmcm9tICdAZ2xpbW1lci9vYmplY3QtcmVmZXJlbmNlJztcblxubGV0IHZpZXcsIGVudjtcblxuZnVuY3Rpb24gcmVyZW5kZXIoKSB7XG4gIHZpZXcucmVyZW5kZXIoKTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kVmlld0Zvcih0ZW1wbGF0ZTogc3RyaW5nLCBjb250ZXh0OiBPYmplY3QgPSB7fSkge1xuICBjbGFzcyBNeVJvb3RWaWV3IGV4dGVuZHMgRW1iZXJpc2hSb290VmlldyB7XG4gICAgcHJvdGVjdGVkIGVudiA9IGVudjtcbiAgICBwcm90ZWN0ZWQgdGVtcGxhdGUgPSBlbnYuY29tcGlsZSh0ZW1wbGF0ZSk7XG4gIH1cblxuICB2aWV3ID0gbmV3IE15Um9vdFZpZXcoY29udGV4dCk7XG4gIE15Um9vdFZpZXdbQ0xBU1NfTUVUQV0uc2VhbCgpO1xuXG4gIGVudi5iZWdpbigpO1xuICB2aWV3LmFwcGVuZFRvKCcjcXVuaXQtZml4dHVyZScpO1xuICBlbnYuY29tbWl0KCk7XG5cbiAgcmV0dXJuIHZpZXc7XG59XG5cblFVbml0Lm1vZHVsZSgnVGFyZ2V0aW5nIGEgcmVtb3RlIGVsZW1lbnQnLCB7XG4gIHNldHVwKCkge1xuICAgIGVudiA9IG5ldyBUZXN0RW52aXJvbm1lbnQoKTtcbiAgfVxufSk7XG5cblFVbml0LnRlc3QoJ2Jhc2ljJywgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGxldCBleHRlcm5hbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBhcHBlbmRWaWV3Rm9yKFxuICAgIHN0cmlwVGlnaHRge3sjLWluLWVsZW1lbnQgZXh0ZXJuYWxFbGVtZW50fX1be3tmb299fV17ey8taW4tZWxlbWVudH19YCxcbiAgICB7IGV4dGVybmFsRWxlbWVudCwgZm9vOiAnWWlwcGllIScgfVxuICApO1xuXG4gIGVxdWFsc0VsZW1lbnQoZXh0ZXJuYWxFbGVtZW50LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW1lpcHBpZSFdYCk7XG5cbiAgc2V0KHZpZXcsICdmb28nLCAnRG91YmxlIFlpcHMhJyk7XG4gIHJlcmVuZGVyKCk7XG5cbiAgZXF1YWxzRWxlbWVudChleHRlcm5hbEVsZW1lbnQsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBbRG91YmxlIFlpcHMhXWApO1xuXG4gIHNldCh2aWV3LCAnZm9vJywgJ1lpcHBpZSEnKTtcbiAgcmVyZW5kZXIoKTtcblxuICBlcXVhbHNFbGVtZW50KGV4dGVybmFsRWxlbWVudCwgJ2RpdicsIHt9LCBzdHJpcFRpZ2h0YFtZaXBwaWUhXWApO1xufSk7XG5cblFVbml0LnRlc3QoJ2NoYW5naW5nIHRvIGZhbHNleScsIGZ1bmN0aW9uKGFzc2VydCkge1xuICBsZXQgZmlyc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbGV0IHNlY29uZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIGFwcGVuZFZpZXdGb3IoXG4gICAgc3RyaXBUaWdodGBcbiAgICAgIHx7e2Zvb319fFxuICAgICAge3sjLWluLWVsZW1lbnQgZmlyc3R9fVt7e2Zvb319XXt7Ly1pbi1lbGVtZW50fX1cbiAgICAgIHt7Iy1pbi1lbGVtZW50IHNlY29uZH19W3t7Zm9vfX1de3svLWluLWVsZW1lbnR9fVxuICAgIGAsXG4gICAgeyBmaXJzdCwgc2Vjb25kOiBudWxsLCBmb286ICdZaXBwaWUhJyB9XG4gICk7XG5cbiAgZXF1YWxzRWxlbWVudChmaXJzdCwgJ2RpdicsIHt9LCBgW1lpcHBpZSFdYCk7XG4gIGVxdWFsc0VsZW1lbnQoc2Vjb25kLCAnZGl2Jywge30sIGBgKTtcbiAgYXNzZXJ0QXBwZW5kZWQoJ3xZaXBwaWUhfDwhLS0tLT48IS0tLS0+Jyk7XG5cbiAgc2V0KHZpZXcsICdmb28nLCAnRG91YmxlIFlpcHMhJyk7XG4gIHJlcmVuZGVyKCk7XG5cbiAgZXF1YWxzRWxlbWVudChmaXJzdCwgJ2RpdicsIHt9LCBgW0RvdWJsZSBZaXBzIV1gKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmQsICdkaXYnLCB7fSwgYGApO1xuICBhc3NlcnRBcHBlbmRlZCgnfERvdWJsZSBZaXBzIXw8IS0tLS0+PCEtLS0tPicpO1xuXG4gIHNldCh2aWV3LCAnZmlyc3QnLCBudWxsKTtcbiAgcmVyZW5kZXIoKTtcblxuICBlcXVhbHNFbGVtZW50KGZpcnN0LCAnZGl2Jywge30sIGBgKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmQsICdkaXYnLCB7fSwgYGApO1xuICBhc3NlcnRBcHBlbmRlZCgnfERvdWJsZSBZaXBzIXw8IS0tLS0+PCEtLS0tPicpO1xuXG4gIHNldCh2aWV3LCAnc2Vjb25kJywgc2Vjb25kKTtcbiAgcmVyZW5kZXIoKTtcblxuICBlcXVhbHNFbGVtZW50KGZpcnN0LCAnZGl2Jywge30sIGBgKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmQsICdkaXYnLCB7fSwgYFtEb3VibGUgWWlwcyFdYCk7XG4gIGFzc2VydEFwcGVuZGVkKCd8RG91YmxlIFlpcHMhfDwhLS0tLT48IS0tLS0+Jyk7XG5cbiAgc2V0KHZpZXcsICdmb28nLCAnWWlwcGllIScpO1xuICByZXJlbmRlcigpO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3QsICdkaXYnLCB7fSwgYGApO1xuICBlcXVhbHNFbGVtZW50KHNlY29uZCwgJ2RpdicsIHt9LCBgW1lpcHBpZSFdYCk7XG4gIGFzc2VydEFwcGVuZGVkKCd8WWlwcGllIXw8IS0tLS0+PCEtLS0tPicpO1xuXG4gIHNldCh2aWV3LCAnZmlyc3QnLCBmaXJzdCk7XG4gIHNldCh2aWV3LCAnc2Vjb25kJywgbnVsbCk7XG4gIHJlcmVuZGVyKCk7XG5cbiAgZXF1YWxzRWxlbWVudChmaXJzdCwgJ2RpdicsIHt9LCBgW1lpcHBpZSFdYCk7XG4gIGVxdWFsc0VsZW1lbnQoc2Vjb25kLCAnZGl2Jywge30sIGBgKTtcbiAgYXNzZXJ0QXBwZW5kZWQoJ3xZaXBwaWUhfDwhLS0tLT48IS0tLS0+Jyk7XG59KTtcblxuUVVuaXQudGVzdCgnd2l0aCBwcmUtZXhpc3RpbmcgY29udGVudCcsIGZ1bmN0aW9uKGFzc2VydCkge1xuICBsZXQgZXh0ZXJuYWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxldCBpbml0aWFsQ29udGVudCA9IGV4dGVybmFsRWxlbWVudC5pbm5lckhUTUwgPSAnPHA+SGVsbG8gdGhlcmUhPC9wPic7XG5cbiAgYXBwZW5kVmlld0ZvcihcbiAgICBzdHJpcFRpZ2h0YHt7Iy1pbi1lbGVtZW50IGV4dGVybmFsRWxlbWVudH19W3t7Zm9vfX1de3svLWluLWVsZW1lbnR9fWAsXG4gICAgeyBleHRlcm5hbEVsZW1lbnQsIGZvbzogJ1lpcHBpZSEnIH1cbiAgKTtcblxuICBhc3NlcnRBcHBlbmRlZCgnPCEtLS0tPicpO1xuICBlcXVhbHNFbGVtZW50KGV4dGVybmFsRWxlbWVudCwgJ2RpdicsIHt9LCBgJHtpbml0aWFsQ29udGVudH1bWWlwcGllIV1gKTtcblxuICBzZXQodmlldywgJ2ZvbycsICdEb3VibGUgWWlwcyEnKTtcbiAgcmVyZW5kZXIoKTtcblxuICBhc3NlcnRBcHBlbmRlZCgnPCEtLS0tPicpO1xuICBlcXVhbHNFbGVtZW50KGV4dGVybmFsRWxlbWVudCwgJ2RpdicsIHt9LCBgJHtpbml0aWFsQ29udGVudH1bRG91YmxlIFlpcHMhXWApO1xuXG4gIHNldCh2aWV3LCAnZm9vJywgJ1lpcHBpZSEnKTtcbiAgcmVyZW5kZXIoKTtcblxuICBhc3NlcnRBcHBlbmRlZCgnPCEtLS0tPicpO1xuICBlcXVhbHNFbGVtZW50KGV4dGVybmFsRWxlbWVudCwgJ2RpdicsIHt9LCBgJHtpbml0aWFsQ29udGVudH1bWWlwcGllIV1gKTtcblxuICBzZXQodmlldywgJ2V4dGVybmFsRWxlbWVudCcsIG51bGwpO1xuICByZXJlbmRlcigpO1xuXG4gIGFzc2VydEFwcGVuZGVkKCc8IS0tLS0+Jyk7XG4gIGVxdWFsc0VsZW1lbnQoZXh0ZXJuYWxFbGVtZW50LCAnZGl2Jywge30sIGAke2luaXRpYWxDb250ZW50fWApO1xuXG4gIHNldCh2aWV3LCAnZXh0ZXJuYWxFbGVtZW50JywgZXh0ZXJuYWxFbGVtZW50KTtcbiAgcmVyZW5kZXIoKTtcblxuICBhc3NlcnRBcHBlbmRlZCgnPCEtLS0tPicpO1xuICBlcXVhbHNFbGVtZW50KGV4dGVybmFsRWxlbWVudCwgJ2RpdicsIHt9LCBgJHtpbml0aWFsQ29udGVudH1bWWlwcGllIV1gKTtcbn0pO1xuXG5RVW5pdC50ZXN0KCd1cGRhdGluZyByZW1vdGUgZWxlbWVudCcsIGZ1bmN0aW9uKGFzc2VydCkge1xuICBsZXQgZmlyc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbGV0IHNlY29uZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIGFwcGVuZFZpZXdGb3IoXG4gICAgc3RyaXBUaWdodGB7eyMtaW4tZWxlbWVudCB0YXJnZXRFbGVtZW50fX1be3tmb299fV17ey8taW4tZWxlbWVudH19YCxcbiAgICB7XG4gICAgICB0YXJnZXRFbGVtZW50OiBmaXJzdCxcbiAgICAgIGZvbzogJ1lpcHBpZSEnXG4gICAgfVxuICApO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3QsICdkaXYnLCB7fSwgYFtZaXBwaWUhXWApO1xuICBlcXVhbHNFbGVtZW50KHNlY29uZCwgJ2RpdicsIHt9LCBgYCk7XG5cbiAgc2V0KHZpZXcsICdmb28nLCAnRG91YmxlIFlpcHMhJyk7XG4gIHJlcmVuZGVyKCk7XG5cbiAgZXF1YWxzRWxlbWVudChmaXJzdCwgJ2RpdicsIHt9LCBgW0RvdWJsZSBZaXBzIV1gKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmQsICdkaXYnLCB7fSwgYGApO1xuXG4gIHNldCh2aWV3LCAnZm9vJywgJ1lpcHBpZSEnKTtcbiAgcmVyZW5kZXIoKTtcblxuICBlcXVhbHNFbGVtZW50KGZpcnN0LCAnZGl2Jywge30sIGBbWWlwcGllIV1gKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmQsICdkaXYnLCB7fSwgYGApO1xuXG4gIHNldCh2aWV3LCAndGFyZ2V0RWxlbWVudCcsIHNlY29uZCk7XG4gIHJlcmVuZGVyKCk7XG5cbiAgZXF1YWxzRWxlbWVudChmaXJzdCwgJ2RpdicsIHt9LCBgYCk7XG4gIGVxdWFsc0VsZW1lbnQoc2Vjb25kLCAnZGl2Jywge30sIGBbWWlwcGllIV1gKTtcblxuICBzZXQodmlldywgJ2ZvbycsICdEb3VibGUgWWlwcyEnKTtcbiAgcmVyZW5kZXIoKTtcblxuICBlcXVhbHNFbGVtZW50KGZpcnN0LCAnZGl2Jywge30sIGBgKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmQsICdkaXYnLCB7fSwgYFtEb3VibGUgWWlwcyFdYCk7XG5cbiAgc2V0KHZpZXcsICdmb28nLCAnWWlwcGllIScpO1xuICByZXJlbmRlcigpO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3QsICdkaXYnLCB7fSwgYGApO1xuICBlcXVhbHNFbGVtZW50KHNlY29uZCwgJ2RpdicsIHt9LCBgW1lpcHBpZSFdYCk7XG59KTtcblxuUVVuaXQudGVzdCgnaW5zaWRlIGFuIGB7e2lmfX0nLCBmdW5jdGlvbihhc3NlcnQpIHtcbiAgbGV0IGZpcnN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxldCBzZWNvbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBhcHBlbmRWaWV3Rm9yKFxuICAgIHN0cmlwVGlnaHRgXG4gICAgICB7eyNpZiBzaG93Rmlyc3R9fVxuICAgICAgICB7eyMtaW4tZWxlbWVudCBmaXJzdH19W3t7Zm9vfX1de3svLWluLWVsZW1lbnR9fVxuICAgICAge3svaWZ9fVxuICAgICAge3sjaWYgc2hvd1NlY29uZH19XG4gICAgICAgIHt7Iy1pbi1lbGVtZW50IHNlY29uZH19W3t7Zm9vfX1de3svLWluLWVsZW1lbnR9fVxuICAgICAge3svaWZ9fVxuICAgIGAsXG4gICAge1xuICAgICAgZmlyc3QsXG4gICAgICBzZWNvbmQsXG4gICAgICBzaG93Rmlyc3Q6IHRydWUsXG4gICAgICBzaG93U2Vjb25kOiBmYWxzZSxcbiAgICAgIGZvbzogJ1lpcHBpZSEnXG4gICAgfVxuICApO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3QsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBbWWlwcGllIV1gKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmQsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBgKTtcblxuICBzZXQodmlldywgJ3Nob3dGaXJzdCcsIGZhbHNlKTtcbiAgcmVyZW5kZXIoKTtcblxuICBlcXVhbHNFbGVtZW50KGZpcnN0LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgYCk7XG4gIGVxdWFsc0VsZW1lbnQoc2Vjb25kLCAnZGl2Jywge30sIHN0cmlwVGlnaHRgYCk7XG5cbiAgc2V0KHZpZXcsICdzaG93U2Vjb25kJywgdHJ1ZSk7XG4gIHJlcmVuZGVyKCk7XG5cbiAgZXF1YWxzRWxlbWVudChmaXJzdCwgJ2RpdicsIHt9LCBzdHJpcFRpZ2h0YGApO1xuICBlcXVhbHNFbGVtZW50KHNlY29uZCwgJ2RpdicsIHt9LCBzdHJpcFRpZ2h0YFtZaXBwaWUhXWApO1xuXG4gIHNldCh2aWV3LCAnZm9vJywgJ0RvdWJsZSBZaXBzIScpO1xuICByZXJlbmRlcigpO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3QsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBgKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmQsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBbRG91YmxlIFlpcHMhXWApO1xuXG4gIHNldCh2aWV3LCAnc2hvd1NlY29uZCcsIGZhbHNlKTtcbiAgcmVyZW5kZXIoKTtcblxuICBlcXVhbHNFbGVtZW50KGZpcnN0LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgYCk7XG4gIGVxdWFsc0VsZW1lbnQoc2Vjb25kLCAnZGl2Jywge30sIHN0cmlwVGlnaHRgYCk7XG5cbiAgc2V0KHZpZXcsICdzaG93Rmlyc3QnLCB0cnVlKTtcbiAgcmVyZW5kZXIoKTtcblxuICBlcXVhbHNFbGVtZW50KGZpcnN0LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW0RvdWJsZSBZaXBzIV1gKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmQsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBgKTtcblxuICBzZXQodmlldywgJ2ZvbycsICdZaXBwaWUhJyk7XG4gIHJlcmVuZGVyKCk7XG5cbiAgZXF1YWxzRWxlbWVudChmaXJzdCwgJ2RpdicsIHt9LCBzdHJpcFRpZ2h0YFtZaXBwaWUhXWApO1xuICBlcXVhbHNFbGVtZW50KHNlY29uZCwgJ2RpdicsIHt9LCBzdHJpcFRpZ2h0YGApO1xufSk7XG5cblFVbml0LnRlc3QoJ211bHRpcGxlJywgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGxldCBmaXJzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbGV0IHNlY29uZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBhcHBlbmRWaWV3Rm9yKFxuICAgIHN0cmlwVGlnaHRgXG4gICAgICB7eyMtaW4tZWxlbWVudCBmaXJzdEVsZW1lbnR9fVxuICAgICAgICBbe3tmb299fV1cbiAgICAgIHt7Ly1pbi1lbGVtZW50fX1cbiAgICAgIHt7Iy1pbi1lbGVtZW50IHNlY29uZEVsZW1lbnR9fVxuICAgICAgICBbe3tiYXJ9fV1cbiAgICAgIHt7Ly1pbi1lbGVtZW50fX1cbiAgICAgIGAsXG4gICAge1xuICAgICAgZmlyc3RFbGVtZW50LFxuICAgICAgc2Vjb25kRWxlbWVudCxcbiAgICAgIGZvbzogJ0hlbGxvIScsXG4gICAgICBiYXI6ICdXb3JsZCEnXG4gICAgfVxuICApO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3RFbGVtZW50LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW0hlbGxvIV1gKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmRFbGVtZW50LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW1dvcmxkIV1gKTtcblxuICBzZXQodmlldywgJ2ZvbycsICdHb29kQnllIScpO1xuICByZXJlbmRlcigpO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3RFbGVtZW50LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW0dvb2RCeWUhXWApO1xuICBlcXVhbHNFbGVtZW50KHNlY29uZEVsZW1lbnQsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBbV29ybGQhXWApO1xuXG4gIHNldCh2aWV3LCAnYmFyJywgJ0ZvbGtzIScpO1xuICByZXJlbmRlcigpO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3RFbGVtZW50LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW0dvb2RCeWUhXWApO1xuICBlcXVhbHNFbGVtZW50KHNlY29uZEVsZW1lbnQsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBbRm9sa3MhXWApO1xuXG4gIHNldCh2aWV3LCAnYmFyJywgJ1dvcmxkIScpO1xuICByZXJlbmRlcigpO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3RFbGVtZW50LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW0dvb2RCeWUhXWApO1xuICBlcXVhbHNFbGVtZW50KHNlY29uZEVsZW1lbnQsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBbV29ybGQhXWApO1xuXG4gIHNldCh2aWV3LCAnZm9vJywgJ0hlbGxvIScpO1xuICByZXJlbmRlcigpO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3RFbGVtZW50LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW0hlbGxvIV1gKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmRFbGVtZW50LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW1dvcmxkIV1gKTtcbn0pO1xuXG5RVW5pdC50ZXN0KCduZXN0aW5nJywgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGxldCBmaXJzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbGV0IHNlY29uZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBhcHBlbmRWaWV3Rm9yKFxuICAgIHN0cmlwVGlnaHRgXG4gICAgICB7eyMtaW4tZWxlbWVudCBmaXJzdEVsZW1lbnR9fVxuICAgICAgICBbe3tmb299fV1cbiAgICAgICAge3sjLWluLWVsZW1lbnQgc2Vjb25kRWxlbWVudH19XG4gICAgICAgICAgW3t7YmFyfX1dXG4gICAgICAgIHt7Ly1pbi1lbGVtZW50fX1cbiAgICAgIHt7Ly1pbi1lbGVtZW50fX1cbiAgICAgIGAsXG4gICAge1xuICAgICAgZmlyc3RFbGVtZW50LFxuICAgICAgc2Vjb25kRWxlbWVudCxcbiAgICAgIGZvbzogJ0hlbGxvIScsXG4gICAgICBiYXI6ICdXb3JsZCEnXG4gICAgfVxuICApO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3RFbGVtZW50LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW0hlbGxvIV08IS0tLS0+YCk7XG4gIGVxdWFsc0VsZW1lbnQoc2Vjb25kRWxlbWVudCwgJ2RpdicsIHt9LCBzdHJpcFRpZ2h0YFtXb3JsZCFdYCk7XG5cbiAgc2V0KHZpZXcsICdmb28nLCAnR29vZEJ5ZSEnKTtcbiAgcmVyZW5kZXIoKTtcblxuICBlcXVhbHNFbGVtZW50KGZpcnN0RWxlbWVudCwgJ2RpdicsIHt9LCBzdHJpcFRpZ2h0YFtHb29kQnllIV08IS0tLS0+YCk7XG4gIGVxdWFsc0VsZW1lbnQoc2Vjb25kRWxlbWVudCwgJ2RpdicsIHt9LCBzdHJpcFRpZ2h0YFtXb3JsZCFdYCk7XG5cbiAgc2V0KHZpZXcsICdiYXInLCAnRm9sa3MhJyk7XG4gIHJlcmVuZGVyKCk7XG5cbiAgZXF1YWxzRWxlbWVudChmaXJzdEVsZW1lbnQsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBbR29vZEJ5ZSFdPCEtLS0tPmApO1xuICBlcXVhbHNFbGVtZW50KHNlY29uZEVsZW1lbnQsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBbRm9sa3MhXWApO1xuXG4gIHNldCh2aWV3LCAnYmFyJywgJ1dvcmxkIScpO1xuICByZXJlbmRlcigpO1xuXG4gIGVxdWFsc0VsZW1lbnQoZmlyc3RFbGVtZW50LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW0dvb2RCeWUhXTwhLS0tLT5gKTtcbiAgZXF1YWxzRWxlbWVudChzZWNvbmRFbGVtZW50LCAnZGl2Jywge30sIHN0cmlwVGlnaHRgW1dvcmxkIV1gKTtcblxuICBzZXQodmlldywgJ2ZvbycsICdIZWxsbyEnKTtcbiAgcmVyZW5kZXIoKTtcblxuICBlcXVhbHNFbGVtZW50KGZpcnN0RWxlbWVudCwgJ2RpdicsIHt9LCBzdHJpcFRpZ2h0YFtIZWxsbyFdPCEtLS0tPmApO1xuICBlcXVhbHNFbGVtZW50KHNlY29uZEVsZW1lbnQsICdkaXYnLCB7fSwgc3RyaXBUaWdodGBbV29ybGQhXWApO1xufSk7XG5cblFVbml0LnRlc3QoJ2NvbXBvbmVudHMgYXJlIGRlc3Ryb3llZCcsIGZ1bmN0aW9uKGFzc2VydCkge1xuICBsZXQgZGVzdHJveWVkID0gMDtcbiAgbGV0IERlc3Ryb3lNZUNvbXBvbmVudCA9IEVtYmVyaXNoQ3VybHlDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBkZXN0cm95KCkge1xuICAgICAgdGhpcy5fc3VwZXIoKTtcbiAgICAgIGRlc3Ryb3llZCsrO1xuICAgIH1cbiAgfSk7XG5cbiAgZW52LnJlZ2lzdGVyRW1iZXJpc2hDdXJseUNvbXBvbmVudCgnZGVzdHJveS1tZScsIERlc3Ryb3lNZUNvbXBvbmVudCBhcyBhbnksICdkZXN0cm95IG1lIScpO1xuXG4gIGxldCBleHRlcm5hbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBhcHBlbmRWaWV3Rm9yKFxuICAgIHN0cmlwVGlnaHRgXG4gICAgICB7eyNpZiBzaG93RXh0ZXJuYWx9fVxuICAgICAgICB7eyMtaW4tZWxlbWVudCBleHRlcm5hbEVsZW1lbnR9fVt7e2Rlc3Ryb3ktbWV9fV17ey8taW4tZWxlbWVudH19XG4gICAgICB7ey9pZn19XG4gICAgYCxcbiAgICB7XG4gICAgICBleHRlcm5hbEVsZW1lbnQsXG4gICAgICBzaG93RXh0ZXJuYWw6IGZhbHNlLFxuICAgIH1cbiAgKTtcblxuICBlcXVhbHNFbGVtZW50KGV4dGVybmFsRWxlbWVudCwgJ2RpdicsIHt9LCBzdHJpcFRpZ2h0YGApO1xuICBhc3NlcnQuZXF1YWwoZGVzdHJveWVkLCAwLCAnY29tcG9uZW50IHdhcyBkZXN0cm95ZWQnKTtcblxuICBzZXQodmlldywgJ3Nob3dFeHRlcm5hbCcsIHRydWUpO1xuICByZXJlbmRlcigpO1xuXG4gIGFzc2VydEVsZW1lbnRJc0VtYmVyaXNoRWxlbWVudChleHRlcm5hbEVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQsICdkaXYnLCB7IH0sICdkZXN0cm95IG1lIScpO1xuICBhc3NlcnQuZXF1YWwoZGVzdHJveWVkLCAwLCAnY29tcG9uZW50IHdhcyBkZXN0cm95ZWQnKTtcblxuICBzZXQodmlldywgJ3Nob3dFeHRlcm5hbCcsIGZhbHNlKTtcbiAgcmVyZW5kZXIoKTtcblxuICBlcXVhbHNFbGVtZW50KGV4dGVybmFsRWxlbWVudCwgJ2RpdicsIHt9LCBzdHJpcFRpZ2h0YGApO1xuICBhc3NlcnQuZXF1YWwoZGVzdHJveWVkLCAxLCAnY29tcG9uZW50IHdhcyBkZXN0cm95ZWQnKTtcbn0pO1xuIl19