"use strict";
var syntax_1 = require("@glimmer/syntax");
QUnit.module("[glimmer-syntax] Parser - Location Info");
function locEqual(node, startLine, startColumn, endLine, endColumn, message) {
    if (message === void 0) { message = JSON.stringify(node); }
    var expected = {
        source: null,
        start: { line: startLine, column: startColumn },
        end: { line: endLine, column: endColumn }
    };
    deepEqual(node.loc, expected, message);
}
test("programs", function () {
    var ast = syntax_1.preprocess("\n  {{#if foo}}\n    {{bar}}\n       {{/if}}\n    ");
    locEqual(ast, 1, 0, 5, 4, 'outer program');
    // startColumn should be 13 not 2.
    // This should be fixed upstream in Handlebars.
    locEqual(ast.body[1].program, 2, 2, 4, 7, 'nested program');
});
test("blocks", function () {
    var ast = syntax_1.preprocess("\n  {{#if foo}}\n    {{#if bar}}\n        test\n        {{else}}\n      test\n  {{/if    }}\n       {{/if\n      }}\n    ");
    var _a = ast.body, block = _a[1];
    var nestedBlock = block.program.body[0];
    var nestedBlockText = nestedBlock.program.body[0];
    var nestedInverse = nestedBlock.inverse;
    locEqual(block, 2, 2, 9, 8, 'outer block');
    locEqual(nestedBlock, 3, 4, 7, 13, 'nested block');
    locEqual(nestedBlockText, 4, 0, 5, 0);
    locEqual(nestedInverse, 5, 8, 7, 2);
});
test("mustache", function () {
    var ast = syntax_1.preprocess("\n    {{foo}}\n    {{#if foo}}\n      bar: {{bar\n        }}\n    {{/if}}\n  ");
    var _a = ast.body, foo = _a[1], innerBlock = _a[3];
    var _b = innerBlock.program.body, barText = _b[0], bar = _b[1];
    locEqual(foo, 2, 4, 2, 11, 'outer mustache');
    locEqual(barText, 4, 0, 4, 11);
    locEqual(bar, 4, 11, 5, 10, 'inner mustache');
});
test("element modifier", function () {
    var ast = syntax_1.preprocess("\n    <div {{bind-attr\n      foo\n      bar=wat}}></div>\n  ");
    locEqual(ast.body[1].modifiers[0], 2, 9, 4, 15, 'element modifier');
});
test("html elements", function () {
    var ast = syntax_1.preprocess("\n    <section>\n      <br>\n      <div>\n        <hr />\n      </div>\n    </section>\n  ");
    var _a = ast.body, section = _a[1];
    var _b = section.children, br = _b[1], div = _b[3];
    var _c = div.children, hr = _c[1];
    locEqual(section, 2, 4, 7, 14, 'section element');
    locEqual(br, 3, 6, 3, 10, 'br element');
    locEqual(div, 4, 6, 6, 12, 'div element');
    locEqual(hr, 5, 8, 5, 14, 'hr element');
});
test("html elements with nested blocks", function () {
    var ast = syntax_1.preprocess("\n    <div>\n      {{#if isSingleError}}\n        Single error here!\n      {{else if errors}}\n        Multiple errors here!\n      {{else}}\n        No errors found!\n      {{/if}} <p>Hi there!</p>\n    </div>\n  ");
    var _a = ast.body, div = _a[1];
    var _b = div.children, ifBlock = _b[1], p = _b[3];
    var inverseBlock = ifBlock.inverse;
    var nestedIfBlock = inverseBlock.body[0];
    var nestedIfInverseBlock = nestedIfBlock.inverse;
    locEqual(div, 2, 4, 10, 10, 'div element');
    locEqual(ifBlock, 3, 6, 9, 13, 'outer if block');
    locEqual(inverseBlock, 5, 6, 9, 6, 'inverse block');
    locEqual(nestedIfBlock, 5, 6, 9, 6, 'nested if block');
    locEqual(nestedIfInverseBlock, 7, 6, 9, 6, 'nested inverse block');
    locEqual(p, 9, 14, 9, 30, 'p');
});
test("block + newline + element ", function () {
    var ast = syntax_1.preprocess("\n    {{#if stuff}}\n    {{/if}}\n    <p>Hi!</p>\n  ");
    var _a = ast.body, ifBlock = _a[1], p = _a[3];
    locEqual(ifBlock, 2, 4, 3, 11, 'if block');
    locEqual(p, 4, 4, 4, 14, 'p element');
});
test("mustache + newline + element ", function () {
    var ast = syntax_1.preprocess("\n    {{foo}}\n    <p>Hi!</p>\n  ");
    var _a = ast.body, fooMustache = _a[1], p = _a[3];
    locEqual(fooMustache, 2, 4, 2, 11, 'if block');
    locEqual(p, 3, 4, 3, 14, 'p element');
});
test("blocks with nested html elements", function () {
    var ast = syntax_1.preprocess("\n    {{#foo-bar}}<div>Foo</div>{{/foo-bar}} <p>Hi!</p>\n  ");
    var block = ast.body[1].program;
    var div = block.body[0];
    var p = ast.body[3];
    locEqual(p, 2, 43, 2, 53, 'p element');
    locEqual(div, 2, 16, 2, 30, 'div element');
});
test("html elements after mustache", function () {
    var ast = syntax_1.preprocess("\n    {{foo-bar}} <p>Hi!</p>\n  ");
    var _a = ast.body, mustache = _a[1], p = _a[3];
    locEqual(mustache, 2, 4, 2, 15, '{{foo-bar}}');
    locEqual(p, 2, 16, 2, 26, 'div element');
});
test("text", function () {
    var ast = syntax_1.preprocess("\n    foo!\n    <div>blah</div>\n  ");
    var _a = ast.body, fooText = _a[0], div = _a[1];
    var blahText = div.children[0];
    locEqual(fooText, 1, 0, 3, 4);
    locEqual(blahText, 3, 9, 3, 13);
});
test("comment", function () {
    var ast = syntax_1.preprocess("\n    <div><!-- blah blah blah blah -->\n      <!-- derp herky --><div></div>\n    </div>\n  ");
    var _a = ast.body, div = _a[1];
    var _b = div.children, comment1 = _b[0], comment2 = _b[2], trailingDiv = _b[3];
    locEqual(comment1, 2, 9, 2, 37);
    locEqual(comment2, 3, 6, 3, 25);
    locEqual(trailingDiv, 3, 25, 3, 36);
});
test("handlebars comment", function () {
    var ast = syntax_1.preprocess("\n    <div>{{!-- blah blah blah blah --}}\n      {{!-- derp herky --}}<div></div>\n    </div>\n    <span {{! derpy }}></span>\n  ");
    var _a = ast.body, div = _a[1], span = _a[3];
    var _b = div.children, comment1 = _b[0], comment2 = _b[2], trailingDiv = _b[3];
    var comment3 = span.comments[0];
    locEqual(comment1, 2, 9, 2, 39);
    locEqual(comment2, 3, 6, 3, 27);
    locEqual(trailingDiv, 3, 27, 3, 38);
    locEqual(span, 5, 4, 5, 30);
    locEqual(comment3, 5, 10, 5, 22);
});
test("element attribute", function () {
    var ast = syntax_1.preprocess("\n    <div data-foo=\"blah\"\n      data-derp=\"lolol\"\ndata-barf=\"herpy\"\n  data-qux=lolnoquotes\n    data-hurky=\"some {{thing}} here\">\n      Hi, fivetanley!\n    </div>\n  ");
    var _a = ast.body, div = _a[1];
    var _b = div.attributes, dataFoo = _b[0], dataDerp = _b[1], dataBarf = _b[2], dataQux = _b[3], dataHurky = _b[4];
    locEqual(dataFoo, 2, 9, 2, 24);
    locEqual(dataDerp, 3, 6, 3, 23);
    locEqual(dataBarf, 4, 0, 4, 17);
    locEqual(dataQux, 5, 2, 5, 22);
    locEqual(dataFoo.value, 2, 18, 2, 24);
    locEqual(dataDerp.value, 3, 16, 3, 23);
    locEqual(dataBarf.value, 4, 10, 4, 17);
    locEqual(dataQux.value, 5, 11, 5, 22);
    locEqual(dataHurky.value, 6, 15, 6, 36);
});
test("char references", function () {
    var ast = syntax_1.preprocess("\n    &gt;<div>&lt;<p>\n      Hi, danmcclain &excl;</p>\n    </div>\n  ");
    var _a = ast.body, div = _a[1];
    var _b = div.children, text1 = _b[0], p = _b[1];
    var text2 = p.children[0];
    locEqual(div, 2, 8, 4, 10);
    locEqual(text1, 2, 13, 2, 17);
    locEqual(p, 2, 17, 3, 31);
    locEqual(text2, 2, 20, 3, 27);
});
test("whitespace control - trailing", function () {
    var ast = syntax_1.preprocess("\n  {{#if foo~}}\n    <div></div>\n  {{else~}}\n    {{bar}}\n  {{/if}}");
    var _a = ast.body, ifBlock = _a[1];
    var div = ifBlock.program.body[0];
    locEqual(ifBlock, 2, 2, 6, 9, 'if block');
    locEqual(div, 3, 4, 3, 15, 'div inside truthy if block');
});
test("whitespace control - 'else if' trailing", function () {
    var ast = syntax_1.preprocess("\n  {{#if foo}}\n    {{bar}}\n  {{else if baz~}}\n    <div></div>\n  {{/if}}");
    var _a = ast.body, ifBlock = _a[1];
    var nestedIfBlock = ifBlock.inverse.body[0];
    var div = nestedIfBlock.program.body[0];
    locEqual(ifBlock, 2, 2, 6, 9, 'if block');
    locEqual(div, 5, 4, 5, 15, 'div inside truthy else if block');
});
test("whitespace control - leading", function () {
    var ast = syntax_1.preprocess("\n  {{~#if foo}}\n    <div></div>\n  {{~else}}\n    {{bar}}\n  {{~/if}}");
    var ifBlock = ast.body[0];
    var _a = ifBlock.program.body, div = _a[1];
    locEqual(ifBlock, 2, 2, 6, 10, 'if block');
    locEqual(div, 3, 4, 3, 15, 'div inside truthy if block');
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9jLW5vZGUtdGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkBnbGltbWVyL3N5bnRheC90ZXN0cy9sb2Mtbm9kZS10ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSwwQ0FBc0Q7QUFFdEQsS0FBSyxDQUFDLE1BQU0sQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO0FBRXhELGtCQUFrQixJQUFJLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQThCO0lBQTlCLHdCQUFBLEVBQUEsVUFBVSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztJQUVoRyxJQUFJLFFBQVEsR0FBRztRQUNiLE1BQU0sRUFBRSxJQUFJO1FBQ1osS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFO1FBQy9DLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRTtLQUMxQyxDQUFDO0lBRUYsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFFRCxJQUFJLENBQUMsVUFBVSxFQUFFO0lBQ2YsSUFBSSxHQUFHLEdBQUcsbUJBQUssQ0FBQyxvREFJYixDQUFDLENBQUM7SUFFTCxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxlQUFlLENBQUMsQ0FBQztJQUUzQyxrQ0FBa0M7SUFDbEMsK0NBQStDO0lBQy9DLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUM5RCxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyxRQUFRLEVBQUU7SUFDYixJ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Q0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDM0MsUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztBQUMzRCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByZXByb2Nlc3MgYXMgcGFyc2UgfSBmcm9tIFwiQGdsaW1tZXIvc3ludGF4XCI7XG5cblFVbml0Lm1vZHVsZShcIltnbGltbWVyLXN5bnRheF0gUGFyc2VyIC0gTG9jYXRpb24gSW5mb1wiKTtcblxuZnVuY3Rpb24gbG9jRXF1YWwobm9kZSwgc3RhcnRMaW5lLCBzdGFydENvbHVtbiwgZW5kTGluZSwgZW5kQ29sdW1uLCBtZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkobm9kZSkpIHtcblxuICBsZXQgZXhwZWN0ZWQgPSB7XG4gICAgc291cmNlOiBudWxsLFxuICAgIHN0YXJ0OiB7IGxpbmU6IHN0YXJ0TGluZSwgY29sdW1uOiBzdGFydENvbHVtbiB9LFxuICAgIGVuZDogeyBsaW5lOiBlbmRMaW5lLCBjb2x1bW46IGVuZENvbHVtbiB9XG4gIH07XG5cbiAgZGVlcEVxdWFsKG5vZGUubG9jLCBleHBlY3RlZCwgbWVzc2FnZSk7XG59XG5cbnRlc3QoXCJwcm9ncmFtc1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGBcbiAge3sjaWYgZm9vfX1cbiAgICB7e2Jhcn19XG4gICAgICAge3svaWZ9fVxuICAgIGApO1xuXG4gIGxvY0VxdWFsKGFzdCwgMSwgMCwgNSwgNCwgJ291dGVyIHByb2dyYW0nKTtcblxuICAvLyBzdGFydENvbHVtbiBzaG91bGQgYmUgMTMgbm90IDIuXG4gIC8vIFRoaXMgc2hvdWxkIGJlIGZpeGVkIHVwc3RyZWFtIGluIEhhbmRsZWJhcnMuXG4gIGxvY0VxdWFsKGFzdC5ib2R5WzFdLnByb2dyYW0sIDIsIDIsIDQsIDcsICduZXN0ZWQgcHJvZ3JhbScpO1xufSk7XG5cbnRlc3QoXCJibG9ja3NcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gIHt7I2lmIGZvb319XG4gICAge3sjaWYgYmFyfX1cbiAgICAgICAgdGVzdFxuICAgICAgICB7e2Vsc2V9fVxuICAgICAgdGVzdFxuICB7ey9pZiAgICB9fVxuICAgICAgIHt7L2lmXG4gICAgICB9fVxuICAgIGApO1xuXG4gIGxldCBbLGJsb2NrXSA9IGFzdC5ib2R5O1xuICBsZXQgW25lc3RlZEJsb2NrXSA9IGJsb2NrLnByb2dyYW0uYm9keTtcbiAgbGV0IFtuZXN0ZWRCbG9ja1RleHRdID0gbmVzdGVkQmxvY2sucHJvZ3JhbS5ib2R5O1xuICBsZXQgbmVzdGVkSW52ZXJzZSA9IG5lc3RlZEJsb2NrLmludmVyc2U7XG5cbiAgbG9jRXF1YWwoYmxvY2ssIDIsIDIsIDksIDgsICdvdXRlciBibG9jaycpO1xuICBsb2NFcXVhbChuZXN0ZWRCbG9jaywgMywgNCwgNywgMTMsICduZXN0ZWQgYmxvY2snKTtcbiAgbG9jRXF1YWwobmVzdGVkQmxvY2tUZXh0LCA0LCAwLCA1LCAwKTtcbiAgbG9jRXF1YWwobmVzdGVkSW52ZXJzZSwgNSwgOCwgNywgMik7XG59KTtcblxudGVzdChcIm11c3RhY2hlXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICAgIHt7Zm9vfX1cbiAgICB7eyNpZiBmb299fVxuICAgICAgYmFyOiB7e2JhclxuICAgICAgICB9fVxuICAgIHt7L2lmfX1cbiAgYCk7XG5cbiAgbGV0IFssZm9vLCxpbm5lckJsb2NrXSA9IGFzdC5ib2R5O1xuICBsZXQgW2JhclRleHQsIGJhcl0gPSBpbm5lckJsb2NrLnByb2dyYW0uYm9keTtcblxuICBsb2NFcXVhbChmb28sIDIsIDQsIDIsIDExLCAnb3V0ZXIgbXVzdGFjaGUnKTtcbiAgbG9jRXF1YWwoYmFyVGV4dCwgNCwgMCwgNCwgMTEpO1xuICBsb2NFcXVhbChiYXIsIDQsIDExLCA1LCAxMCwgJ2lubmVyIG11c3RhY2hlJyk7XG59KTtcblxudGVzdChcImVsZW1lbnQgbW9kaWZpZXJcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gICAgPGRpdiB7e2JpbmQtYXR0clxuICAgICAgZm9vXG4gICAgICBiYXI9d2F0fX0+PC9kaXY+XG4gIGApO1xuXG4gIGxvY0VxdWFsKGFzdC5ib2R5WzFdLm1vZGlmaWVyc1swXSwgMiwgOSwgNCwgMTUsICdlbGVtZW50IG1vZGlmaWVyJyk7XG59KTtcblxudGVzdChcImh0bWwgZWxlbWVudHNcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gICAgPHNlY3Rpb24+XG4gICAgICA8YnI+XG4gICAgICA8ZGl2PlxuICAgICAgICA8aHIgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvc2VjdGlvbj5cbiAgYCk7XG5cbiAgbGV0IFssc2VjdGlvbl0gPSBhc3QuYm9keTtcbiAgbGV0IFssYnIsLGRpdl0gPSBzZWN0aW9uLmNoaWxkcmVuO1xuICBsZXQgWyxocl0gPSBkaXYuY2hpbGRyZW47XG5cbiAgbG9jRXF1YWwoc2VjdGlvbiwgMiwgNCwgNywgMTQsICdzZWN0aW9uIGVsZW1lbnQnKTtcbiAgbG9jRXF1YWwoYnIsIDMsIDYsIDMsIDEwLCAnYnIgZWxlbWVudCcpO1xuICBsb2NFcXVhbChkaXYsIDQsIDYsIDYsIDEyLCAnZGl2IGVsZW1lbnQnKTtcbiAgbG9jRXF1YWwoaHIsIDUsIDgsIDUsIDE0LCAnaHIgZWxlbWVudCcpO1xufSk7XG5cbnRlc3QoXCJodG1sIGVsZW1lbnRzIHdpdGggbmVzdGVkIGJsb2Nrc1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGBcbiAgICA8ZGl2PlxuICAgICAge3sjaWYgaXNTaW5nbGVFcnJvcn19XG4gICAgICAgIFNpbmdsZSBlcnJvciBoZXJlIVxuICAgICAge3tlbHNlIGlmIGVycm9yc319XG4gICAgICAgIE11bHRpcGxlIGVycm9ycyBoZXJlIVxuICAgICAge3tlbHNlfX1cbiAgICAgICAgTm8gZXJyb3JzIGZvdW5kIVxuICAgICAge3svaWZ9fSA8cD5IaSB0aGVyZSE8L3A+XG4gICAgPC9kaXY+XG4gIGApO1xuXG4gIGxldCBbLGRpdl0gPSBhc3QuYm9keTtcbiAgbGV0IFssaWZCbG9jaywscF0gPSBkaXYuY2hpbGRyZW47XG4gIGxldCBpbnZlcnNlQmxvY2sgPSBpZkJsb2NrLmludmVyc2U7XG4gIGxldCBbbmVzdGVkSWZCbG9ja10gPSBpbnZlcnNlQmxvY2suYm9keTtcbiAgbGV0IG5lc3RlZElmSW52ZXJzZUJsb2NrID0gbmVzdGVkSWZCbG9jay5pbnZlcnNlO1xuXG4gIGxvY0VxdWFsKGRpdiwgMiwgNCwgMTAsIDEwLCAnZGl2IGVsZW1lbnQnKTtcbiAgbG9jRXF1YWwoaWZCbG9jaywgMywgNiwgOSwgMTMsICdvdXRlciBpZiBibG9jaycpO1xuICBsb2NFcXVhbChpbnZlcnNlQmxvY2ssIDUsIDYsIDksIDYsICdpbnZlcnNlIGJsb2NrJyk7XG4gIGxvY0VxdWFsKG5lc3RlZElmQmxvY2ssIDUsIDYsIDksIDYsICduZXN0ZWQgaWYgYmxvY2snKTtcbiAgbG9jRXF1YWwobmVzdGVkSWZJbnZlcnNlQmxvY2ssIDcsIDYsIDksIDYsICduZXN0ZWQgaW52ZXJzZSBibG9jaycpO1xuICBsb2NFcXVhbChwLCA5LCAxNCwgOSwgMzAsICdwJyk7XG59KTtcblxudGVzdChcImJsb2NrICsgbmV3bGluZSArIGVsZW1lbnQgXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICAgIHt7I2lmIHN0dWZmfX1cbiAgICB7ey9pZn19XG4gICAgPHA+SGkhPC9wPlxuICBgKTtcblxuICBsZXQgWyxpZkJsb2NrLCxwXSA9IGFzdC5ib2R5O1xuXG4gIGxvY0VxdWFsKGlmQmxvY2ssIDIsIDQsIDMsIDExLCAnaWYgYmxvY2snKTtcbiAgbG9jRXF1YWwocCwgNCwgNCwgNCwgMTQsICdwIGVsZW1lbnQnKTtcbn0pO1xuXG50ZXN0KFwibXVzdGFjaGUgKyBuZXdsaW5lICsgZWxlbWVudCBcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gICAge3tmb299fVxuICAgIDxwPkhpITwvcD5cbiAgYCk7XG5cbiAgbGV0IFssZm9vTXVzdGFjaGUsLHBdID0gYXN0LmJvZHk7XG5cbiAgbG9jRXF1YWwoZm9vTXVzdGFjaGUsIDIsIDQsIDIsIDExLCAnaWYgYmxvY2snKTtcbiAgbG9jRXF1YWwocCwgMywgNCwgMywgMTQsICdwIGVsZW1lbnQnKTtcbn0pO1xuXG50ZXN0KFwiYmxvY2tzIHdpdGggbmVzdGVkIGh0bWwgZWxlbWVudHNcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gICAge3sjZm9vLWJhcn19PGRpdj5Gb288L2Rpdj57ey9mb28tYmFyfX0gPHA+SGkhPC9wPlxuICBgKTtcblxuICBsZXQgYmxvY2sgPSBhc3QuYm9keVsxXS5wcm9ncmFtO1xuICBsZXQgW2Rpdl0gPSBibG9jay5ib2R5O1xuICBsZXQgcCA9IGFzdC5ib2R5WzNdO1xuXG4gIGxvY0VxdWFsKHAsIDIsIDQzLCAyLCA1MywgJ3AgZWxlbWVudCcpO1xuICBsb2NFcXVhbChkaXYsIDIsIDE2LCAyLCAzMCwgJ2RpdiBlbGVtZW50Jyk7XG59KTtcblxudGVzdChcImh0bWwgZWxlbWVudHMgYWZ0ZXIgbXVzdGFjaGVcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gICAge3tmb28tYmFyfX0gPHA+SGkhPC9wPlxuICBgKTtcblxuICBsZXQgWyxtdXN0YWNoZSwscF0gPSBhc3QuYm9keTtcblxuICBsb2NFcXVhbChtdXN0YWNoZSwgMiwgNCwgMiwgMTUsICd7e2Zvby1iYXJ9fScpO1xuICBsb2NFcXVhbChwLCAyLCAxNiwgMiwgMjYsICdkaXYgZWxlbWVudCcpO1xufSk7XG5cbnRlc3QoXCJ0ZXh0XCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYFxuICAgIGZvbyFcbiAgICA8ZGl2PmJsYWg8L2Rpdj5cbiAgYCk7XG5cbiAgbGV0IFtmb29UZXh0LGRpdl0gPSBhc3QuYm9keTtcbiAgbGV0IFtibGFoVGV4dF0gPSBkaXYuY2hpbGRyZW47XG5cbiAgbG9jRXF1YWwoZm9vVGV4dCwgMSwgMCwgMywgNCk7XG4gIGxvY0VxdWFsKGJsYWhUZXh0LCAzLCA5LCAzLCAxMyk7XG59KTtcblxudGVzdChcImNvbW1lbnRcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gICAgPGRpdj48IS0tIGJsYWggYmxhaCBibGFoIGJsYWggLS0+XG4gICAgICA8IS0tIGRlcnAgaGVya3kgLS0+PGRpdj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYCk7XG5cbiAgbGV0IFssZGl2XSA9IGFzdC5ib2R5O1xuICBsZXQgW2NvbW1lbnQxLCxjb21tZW50Mix0cmFpbGluZ0Rpdl0gPSBkaXYuY2hpbGRyZW47XG5cbiAgbG9jRXF1YWwoY29tbWVudDEsIDIsIDksIDIsIDM3KTtcbiAgbG9jRXF1YWwoY29tbWVudDIsIDMsIDYsIDMsIDI1KTtcbiAgbG9jRXF1YWwodHJhaWxpbmdEaXYsIDMsIDI1LCAzLCAzNik7XG59KTtcblxudGVzdChcImhhbmRsZWJhcnMgY29tbWVudFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGBcbiAgICA8ZGl2Pnt7IS0tIGJsYWggYmxhaCBibGFoIGJsYWggLS19fVxuICAgICAge3shLS0gZGVycCBoZXJreSAtLX19PGRpdj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8c3BhbiB7eyEgZGVycHkgfX0+PC9zcGFuPlxuICBgKTtcblxuICBsZXQgWyxkaXYsLHNwYW5dID0gYXN0LmJvZHk7XG4gIGxldCBbY29tbWVudDEsLGNvbW1lbnQyLHRyYWlsaW5nRGl2XSA9IGRpdi5jaGlsZHJlbjtcbiAgbGV0IFtjb21tZW50M10gPSBzcGFuLmNvbW1lbnRzO1xuXG4gIGxvY0VxdWFsKGNvbW1lbnQxLCAyLCA5LCAyLCAzOSk7XG4gIGxvY0VxdWFsKGNvbW1lbnQyLCAzLCA2LCAzLCAyNyk7XG4gIGxvY0VxdWFsKHRyYWlsaW5nRGl2LCAzLCAyNywgMywgMzgpO1xuICBsb2NFcXVhbChzcGFuLCA1LCA0LCA1LCAzMCk7XG4gIGxvY0VxdWFsKGNvbW1lbnQzLCA1LCAxMCwgNSwgMjIpO1xufSk7XG5cbnRlc3QoXCJlbGVtZW50IGF0dHJpYnV0ZVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGBcbiAgICA8ZGl2IGRhdGEtZm9vPVwiYmxhaFwiXG4gICAgICBkYXRhLWRlcnA9XCJsb2xvbFwiXG5kYXRhLWJhcmY9XCJoZXJweVwiXG4gIGRhdGEtcXV4PWxvbG5vcXVvdGVzXG4gICAgZGF0YS1odXJreT1cInNvbWUge3t0aGluZ319IGhlcmVcIj5cbiAgICAgIEhpLCBmaXZldGFubGV5IVxuICAgIDwvZGl2PlxuICBgKTtcblxuICBsZXQgWyxkaXZdID0gYXN0LmJvZHk7XG4gIGxldCBbZGF0YUZvbyxkYXRhRGVycCxkYXRhQmFyZiwgZGF0YVF1eCwgZGF0YUh1cmt5XSA9IGRpdi5hdHRyaWJ1dGVzO1xuXG4gIGxvY0VxdWFsKGRhdGFGb28sIDIsIDksIDIsIDI0KTtcbiAgbG9jRXF1YWwoZGF0YURlcnAsIDMsIDYsIDMsIDIzKTtcbiAgbG9jRXF1YWwoZGF0YUJhcmYsIDQsIDAsIDQsIDE3KTtcbiAgbG9jRXF1YWwoZGF0YVF1eCwgNSwgMiwgNSwgMjIpO1xuXG4gIGxvY0VxdWFsKGRhdGFGb28udmFsdWUsIDIsIDE4LCAyLCAyNCk7XG4gIGxvY0VxdWFsKGRhdGFEZXJwLnZhbHVlLCAzLCAxNiwgMywgMjMpO1xuICBsb2NFcXVhbChkYXRhQmFyZi52YWx1ZSwgNCwgMTAsIDQsIDE3KTtcbiAgbG9jRXF1YWwoZGF0YVF1eC52YWx1ZSwgNSwgMTEsIDUsIDIyKTtcbiAgbG9jRXF1YWwoZGF0YUh1cmt5LnZhbHVlLCA2LCAxNSwgNiwgMzYpO1xufSk7XG5cbnRlc3QoXCJjaGFyIHJlZmVyZW5jZXNcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gICAgJmd0OzxkaXY+Jmx0OzxwPlxuICAgICAgSGksIGRhbm1jY2xhaW4gJmV4Y2w7PC9wPlxuICAgIDwvZGl2PlxuICBgKTtcblxuICBsZXQgWyxkaXZdID0gYXN0LmJvZHk7XG4gIGxldCBbdGV4dDEscF0gPSBkaXYuY2hpbGRyZW47XG4gIGxldCBbdGV4dDJdID0gcC5jaGlsZHJlbjtcblxuICBsb2NFcXVhbChkaXYsIDIsIDgsIDQsIDEwKTtcbiAgbG9jRXF1YWwodGV4dDEsIDIsIDEzLCAyLCAxNyk7XG4gIGxvY0VxdWFsKHAsIDIsIDE3LCAzLCAzMSk7XG4gIGxvY0VxdWFsKHRleHQyLCAyLCAyMCwgMywgMjcpO1xufSk7XG5cbnRlc3QoXCJ3aGl0ZXNwYWNlIGNvbnRyb2wgLSB0cmFpbGluZ1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGBcbiAge3sjaWYgZm9vfn19XG4gICAgPGRpdj48L2Rpdj5cbiAge3tlbHNlfn19XG4gICAge3tiYXJ9fVxuICB7ey9pZn19YCk7XG5cbiAgbGV0IFssaWZCbG9ja10gPSBhc3QuYm9keTtcbiAgbGV0IFtkaXZdID0gaWZCbG9jay5wcm9ncmFtLmJvZHk7XG5cbiAgbG9jRXF1YWwoaWZCbG9jaywgMiwgMiwgNiwgOSwgJ2lmIGJsb2NrJyk7XG4gIGxvY0VxdWFsKGRpdiwgMywgNCwgMywgMTUsICdkaXYgaW5zaWRlIHRydXRoeSBpZiBibG9jaycpO1xufSk7XG5cbnRlc3QoXCJ3aGl0ZXNwYWNlIGNvbnRyb2wgLSAnZWxzZSBpZicgdHJhaWxpbmdcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gIHt7I2lmIGZvb319XG4gICAge3tiYXJ9fVxuICB7e2Vsc2UgaWYgYmF6fn19XG4gICAgPGRpdj48L2Rpdj5cbiAge3svaWZ9fWApO1xuXG4gIGxldCBbLGlmQmxvY2tdID0gYXN0LmJvZHk7XG4gIGxldCBbbmVzdGVkSWZCbG9ja10gPSBpZkJsb2NrLmludmVyc2UuYm9keTtcbiAgbGV0IFtkaXZdID0gbmVzdGVkSWZCbG9jay5wcm9ncmFtLmJvZHk7XG5cbiAgbG9jRXF1YWwoaWZCbG9jaywgMiwgMiwgNiwgOSwgJ2lmIGJsb2NrJyk7XG4gIGxvY0VxdWFsKGRpdiwgNSwgNCwgNSwgMTUsICdkaXYgaW5zaWRlIHRydXRoeSBlbHNlIGlmIGJsb2NrJyk7XG59KTtcblxudGVzdChcIndoaXRlc3BhY2UgY29udHJvbCAtIGxlYWRpbmdcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgXG4gIHt7fiNpZiBmb299fVxuICAgIDxkaXY+PC9kaXY+XG4gIHt7fmVsc2V9fVxuICAgIHt7YmFyfX1cbiAge3t+L2lmfX1gKTtcblxuICBsZXQgW2lmQmxvY2tdID0gYXN0LmJvZHk7XG4gIGxldCBbLGRpdl0gPSBpZkJsb2NrLnByb2dyYW0uYm9keTtcblxuICBsb2NFcXVhbChpZkJsb2NrLCAyLCAyLCA2LCAxMCwgJ2lmIGJsb2NrJyk7XG4gIGxvY0VxdWFsKGRpdiwgMywgNCwgMywgMTUsICdkaXYgaW5zaWRlIHRydXRoeSBpZiBibG9jaycpO1xufSk7XG4iXX0=