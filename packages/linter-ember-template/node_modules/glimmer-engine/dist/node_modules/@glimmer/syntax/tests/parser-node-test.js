"use strict";
var base_1 = require("handlebars/compiler/base");
var syntax_1 = require("@glimmer/syntax");
var support_1 = require("./support");
QUnit.module("[glimmer-syntax] Parser - AST");
test("a simple piece of content", function () {
    var t = 'some content';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text('some content')
    ]));
});
test("allow simple AST to be passed", function () {
    var ast = syntax_1.preprocess(base_1.parse("simple"));
    support_1.astEqual(ast, syntax_1.builders.program([
        syntax_1.builders.text("simple")
    ]));
});
test("allow an AST with mustaches to be passed", function () {
    var ast = syntax_1.preprocess(base_1.parse("<h1>some</h1> ast {{foo}}"));
    support_1.astEqual(ast, syntax_1.builders.program([
        syntax_1.builders.element("h1", [], [], [
            syntax_1.builders.text("some")
        ]),
        syntax_1.builders.text(" ast "),
        syntax_1.builders.mustache(syntax_1.builders.path('foo'))
    ]));
});
test("self-closed element", function () {
    var t = '<g />';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element("g")
    ]));
});
test("elements can have empty attributes", function () {
    var t = '<img id="">';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element("img", [
            syntax_1.builders.attr("id", syntax_1.builders.text(""))
        ])
    ]));
});
test("disallowed quote in element space is rejected", function (assert) {
    var t = '<img foo="bar"" >';
    assert.throws(function () {
        syntax_1.preprocess(t);
    }, /Syntax error at line 1 col 14: " is not a valid character within attribute names/);
});
test("disallowed equals sign in element space is rejected", function (assert) {
    var t = '<img =foo >';
    assert.throws(function () {
        syntax_1.preprocess(t);
    }, /Syntax error at line 1 col 5: attribute name cannot start with equals sign/);
});
test("svg content", function () {
    var t = "<svg></svg>";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element("svg")
    ]));
});
test("html content with html content inline", function () {
    var t = '<div><p></p></div>';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element("div", [], [], [
            syntax_1.builders.element("p")
        ])
    ]));
});
test("html content with svg content inline", function () {
    var t = '<div><svg></svg></div>';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element("div", [], [], [
            syntax_1.builders.element("svg")
        ])
    ]));
});
var integrationPoints = ['foreignObject', 'desc', 'title'];
function buildIntegrationPointTest(integrationPoint) {
    return function integrationPointTest() {
        var t = '<svg><' + integrationPoint + '><div></div></' + integrationPoint + '></svg>';
        support_1.astEqual(t, syntax_1.builders.program([
            syntax_1.builders.element("svg", [], [], [
                syntax_1.builders.element(integrationPoint, [], [], [
                    syntax_1.builders.element("div")
                ])
            ])
        ]));
    };
}
for (var i = 0, length = integrationPoints.length; i < length; i++) {
    test("svg content with html content inline for " + integrationPoints[i], buildIntegrationPointTest(integrationPoints[i]));
}
test("a piece of content with HTML", function () {
    var t = 'some <div>content</div> done';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text("some "),
        syntax_1.builders.element("div", [], [], [
            syntax_1.builders.text("content")
        ]),
        syntax_1.builders.text(" done")
    ]));
});
test("a piece of Handlebars with HTML", function () {
    var t = 'some <div>{{content}}</div> done';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text("some "),
        syntax_1.builders.element("div", [], [], [
            syntax_1.builders.mustache(syntax_1.builders.path('content'))
        ]),
        syntax_1.builders.text(" done")
    ]));
});
test("Handlebars embedded in an attribute (quoted)", function () {
    var t = 'some <div class="{{foo}}">content</div> done';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text("some "),
        syntax_1.builders.element("div", [syntax_1.builders.attr("class", syntax_1.builders.concat([syntax_1.builders.mustache('foo')]))], [], [
            syntax_1.builders.text("content")
        ]),
        syntax_1.builders.text(" done")
    ]));
});
test("Handlebars embedded in an attribute (unquoted)", function () {
    var t = 'some <div class={{foo}}>content</div> done';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text("some "),
        syntax_1.builders.element("div", [syntax_1.builders.attr("class", syntax_1.builders.mustache(syntax_1.builders.path('foo')))], [], [
            syntax_1.builders.text("content")
        ]),
        syntax_1.builders.text(" done")
    ]));
});
test("Handlebars embedded in an attribute of a self-closing tag (unqouted)", function () {
    var t = '<input value={{foo}}/>';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element("input", [syntax_1.builders.attr("value", syntax_1.builders.mustache(syntax_1.builders.path('foo')))], [], []),
    ]));
});
test("Handlebars embedded in an attribute (sexprs)", function () {
    var t = 'some <div class="{{foo (foo "abc")}}">content</div> done';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text("some "),
        syntax_1.builders.element("div", [
            syntax_1.builders.attr("class", syntax_1.builders.concat([syntax_1.builders.mustache(syntax_1.builders.path('foo'), [syntax_1.builders.sexpr(syntax_1.builders.path('foo'), [syntax_1.builders.string('abc')])])]))
        ], [], [
            syntax_1.builders.text("content")
        ]),
        syntax_1.builders.text(" done")
    ]));
});
test("Handlebars embedded in an attribute with other content surrounding it", function () {
    var t = 'some <a href="http://{{link}}/">content</a> done';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text("some "),
        syntax_1.builders.element("a", [
            syntax_1.builders.attr("href", syntax_1.builders.concat([
                syntax_1.builders.text("http://"),
                syntax_1.builders.mustache('link'),
                syntax_1.builders.text("/")
            ]))
        ], [], [
            syntax_1.builders.text("content")
        ]),
        syntax_1.builders.text(" done")
    ]));
});
test("A more complete embedding example", function () {
    var t = "{{embed}} {{some 'content'}} " +
        "<div class='{{foo}} {{bind-class isEnabled truthy='enabled'}}'>{{ content }}</div>" +
        " {{more 'embed'}}";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.mustache(syntax_1.builders.path('embed')),
        syntax_1.builders.text(' '),
        syntax_1.builders.mustache(syntax_1.builders.path('some'), [syntax_1.builders.string('content')]),
        syntax_1.builders.text(' '),
        syntax_1.builders.element("div", [
            syntax_1.builders.attr("class", syntax_1.builders.concat([
                syntax_1.builders.mustache('foo'),
                syntax_1.builders.text(' '),
                syntax_1.builders.mustache('bind-class', [syntax_1.builders.path('isEnabled')], syntax_1.builders.hash([syntax_1.builders.pair('truthy', syntax_1.builders.string('enabled'))]))
            ]))
        ], [], [
            syntax_1.builders.mustache(syntax_1.builders.path('content'))
        ]),
        syntax_1.builders.text(' '),
        syntax_1.builders.mustache(syntax_1.builders.path('more'), [syntax_1.builders.string('embed')])
    ]));
});
test("Simple embedded block helpers", function () {
    var t = "{{#if foo}}<div>{{content}}</div>{{/if}}";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.block(syntax_1.builders.path('if'), [syntax_1.builders.path('foo')], syntax_1.builders.hash(), syntax_1.builders.program([
            syntax_1.builders.element('div', [], [], [
                syntax_1.builders.mustache(syntax_1.builders.path('content'))
            ])
        ]))
    ]));
});
test("Involved block helper", function () {
    var t = '<p>hi</p> content {{#testing shouldRender}}<p>Appears!</p>{{/testing}} more <em>content</em> here';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element('p', [], [], [
            syntax_1.builders.text('hi')
        ]),
        syntax_1.builders.text(' content '),
        syntax_1.builders.block(syntax_1.builders.path('testing'), [syntax_1.builders.path('shouldRender')], syntax_1.builders.hash(), syntax_1.builders.program([
            syntax_1.builders.element('p', [], [], [
                syntax_1.builders.text('Appears!')
            ])
        ])),
        syntax_1.builders.text(' more '),
        syntax_1.builders.element('em', [], [], [
            syntax_1.builders.text('content')
        ]),
        syntax_1.builders.text(' here')
    ]));
});
test("Element modifiers", function () {
    var t = "<p {{action 'boom'}} class='bar'>Some content</p>";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element('p', [syntax_1.builders.attr('class', syntax_1.builders.text('bar'))], [
            syntax_1.builders.elementModifier(syntax_1.builders.path('action'), [syntax_1.builders.string('boom')])
        ], [
            syntax_1.builders.text('Some content')
        ])
    ]));
});
test("Tokenizer: MustacheStatement encountered in tagName state", function () {
    var t = "<input{{bar}}>";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element('input', [], [syntax_1.builders.elementModifier(syntax_1.builders.path('bar'))])
    ]));
});
test("Tokenizer: MustacheStatement encountered in beforeAttributeName state", function () {
    var t = "<input {{bar}}>";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element('input', [], [syntax_1.builders.elementModifier(syntax_1.builders.path('bar'))])
    ]));
});
test("Tokenizer: MustacheStatement encountered in attributeName state", function () {
    var t = "<input foo{{bar}}>";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element('input', [syntax_1.builders.attr('foo', syntax_1.builders.text(''))], [syntax_1.builders.elementModifier(syntax_1.builders.path('bar'))])
    ]));
});
test("Tokenizer: MustacheStatement encountered in afterAttributeName state", function () {
    var t = "<input foo {{bar}}>";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element('input', [syntax_1.builders.attr('foo', syntax_1.builders.text(''))], [syntax_1.builders.elementModifier(syntax_1.builders.path('bar'))])
    ]));
});
test("Tokenizer: MustacheStatement encountered in afterAttributeValue state", function () {
    var t = "<input foo=1 {{bar}}>";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element('input', [syntax_1.builders.attr('foo', syntax_1.builders.text('1'))], [syntax_1.builders.elementModifier(syntax_1.builders.path('bar'))])
    ]));
});
test("Tokenizer: MustacheStatement encountered in afterAttributeValueQuoted state", function () {
    var t = "<input foo='1'{{bar}}>";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.element('input', [syntax_1.builders.attr('foo', syntax_1.builders.text('1'))], [syntax_1.builders.elementModifier(syntax_1.builders.path('bar'))])
    ]));
});
test("Stripping - mustaches", function () {
    var t = "foo {{~content}} bar";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text('foo'),
        syntax_1.builders.mustache(syntax_1.builders.path('content')),
        syntax_1.builders.text(' bar')
    ]));
    t = "foo {{content~}} bar";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text('foo '),
        syntax_1.builders.mustache(syntax_1.builders.path('content')),
        syntax_1.builders.text('bar')
    ]));
});
test("Stripping - blocks", function () {
    var t = "foo {{~#wat}}{{/wat}} bar";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text('foo'),
        syntax_1.builders.block(syntax_1.builders.path('wat'), [], syntax_1.builders.hash(), syntax_1.builders.program()),
        syntax_1.builders.text(' bar')
    ]));
    t = "foo {{#wat}}{{/wat~}} bar";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text('foo '),
        syntax_1.builders.block(syntax_1.builders.path('wat'), [], syntax_1.builders.hash(), syntax_1.builders.program()),
        syntax_1.builders.text('bar')
    ]));
});
test("Stripping - programs", function () {
    var t = "{{#wat~}} foo {{else}}{{/wat}}";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.block(syntax_1.builders.path('wat'), [], syntax_1.builders.hash(), syntax_1.builders.program([
            syntax_1.builders.text('foo ')
        ]), syntax_1.builders.program())
    ]));
    t = "{{#wat}} foo {{~else}}{{/wat}}";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.block(syntax_1.builders.path('wat'), [], syntax_1.builders.hash(), syntax_1.builders.program([
            syntax_1.builders.text(' foo')
        ]), syntax_1.builders.program())
    ]));
    t = "{{#wat}}{{else~}} foo {{/wat}}";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.block(syntax_1.builders.path('wat'), [], syntax_1.builders.hash(), syntax_1.builders.program(), syntax_1.builders.program([
            syntax_1.builders.text('foo ')
        ]))
    ]));
    t = "{{#wat}}{{else}} foo {{~/wat}}";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.block(syntax_1.builders.path('wat'), [], syntax_1.builders.hash(), syntax_1.builders.program(), syntax_1.builders.program([
            syntax_1.builders.text(' foo')
        ]))
    ]));
});
test("Stripping - removes unnecessary text nodes", function () {
    var t = "{{#each~}}\n  <li> foo </li>\n{{~/each}}";
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.block(syntax_1.builders.path('each'), [], syntax_1.builders.hash(), syntax_1.builders.program([
            syntax_1.builders.element('li', [], [], [syntax_1.builders.text(' foo ')])
        ]))
    ]));
});
// TODO: Make these throw an error.
//test("Awkward mustache in unquoted attribute value", function() {
//  let t = "<div class=a{{foo}}></div>";
//  astEqual(t, b.program([
//    b.element('div', [ b.attr('class', concat([b.string("a"), b.sexpr([b.path('foo')])])) ])
//  ]));
//
//  t = "<div class=a{{foo}}b></div>";
//  astEqual(t, b.program([
//    b.element('div', [ b.attr('class', concat([b.string("a"), b.sexpr([b.path('foo')]), b.string("b")])) ])
//  ]));
//
//  t = "<div class={{foo}}b></div>";
//  astEqual(t, b.program([
//    b.element('div', [ b.attr('class', concat([b.sexpr([b.path('foo')]), b.string("b")])) ])
//  ]));
//});
test("an HTML comment", function () {
    var t = 'before <!-- some comment --> after';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text("before "),
        syntax_1.builders.comment(" some comment "),
        syntax_1.builders.text(" after")
    ]));
});
test("a Handlebars comment inside an HTML comment", function () {
    var t = 'before <!-- some {{! nested thing }} comment --> after';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text("before "),
        syntax_1.builders.comment(" some {{! nested thing }} comment "),
        syntax_1.builders.text(" after")
    ]));
});
test("a Handlebars comment", function () {
    var t = 'before {{! some comment }} after';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text("before "),
        syntax_1.builders.mustacheComment(" some comment "),
        syntax_1.builders.text(" after")
    ]));
});
test("a Handlebars comment in proper element space", function () {
    var t = 'before <div {{! some comment }} data-foo="bar" {{! other comment }}></div> after';
    support_1.astEqual(t, syntax_1.builders.program([
        syntax_1.builders.text("before "),
        syntax_1.builders.element('div', [
            syntax_1.builders.attr('data-foo', syntax_1.builders.text('bar'))
        ], [], [], [
            syntax_1.builders.mustacheComment(" some comment "),
            syntax_1.builders.mustacheComment(" other comment "),
        ]),
        syntax_1.builders.text(" after")
    ]));
});
test("a Handlebars comment in invalid element space", function (assert) {
    assert.throws(function () {
        syntax_1.preprocess('\nbefore <div \n  a{{! some comment }} data-foo="bar"></div> after');
    }, /Using a Handlebars comment when in the `attributeName` state is not supported: " some comment " on line 3:3/);
    assert.throws(function () {
        syntax_1.preprocess('\nbefore <div \n  a={{! some comment }} data-foo="bar"></div> after');
    }, /Using a Handlebars comment when in the `beforeAttributeValue` state is not supported: " some comment " on line 3:4/);
    assert.throws(function () {
        syntax_1.preprocess('\nbefore <div \n  a="{{! some comment }}" data-foo="bar"></div> after');
    }, /Using a Handlebars comment when in the `attributeValueDoubleQuoted` state is not supported: " some comment " on line 3:5/);
});
test("allow {{null}} to be passed as helper name", function () {
    var ast = syntax_1.preprocess("{{null}}");
    support_1.astEqual(ast, syntax_1.builders.program([
        syntax_1.builders.mustache(syntax_1.builders.null())
    ]));
});
test("allow {{null}} to be passed as a param", function () {
    var ast = syntax_1.preprocess("{{foo null}}");
    support_1.astEqual(ast, syntax_1.builders.program([
        syntax_1.builders.mustache(syntax_1.builders.path('foo'), [syntax_1.builders.null()])
    ]));
});
test("allow {{undefined}} to be passed as helper name", function () {
    var ast = syntax_1.preprocess("{{undefined}}");
    support_1.astEqual(ast, syntax_1.builders.program([
        syntax_1.builders.mustache(syntax_1.builders.undefined())
    ]));
});
test("allow {{undefined}} to be passed as a param", function () {
    var ast = syntax_1.preprocess("{{foo undefined}}");
    support_1.astEqual(ast, syntax_1.builders.program([
        syntax_1.builders.mustache(syntax_1.builders.path('foo'), [syntax_1.builders.undefined()])
    ]));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2VyLW5vZGUtdGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkBnbGltbWVyL3N5bnRheC90ZXN0cy9wYXJzZXItbm9kZS10ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxpREFBb0U7QUFDcEUsMENBQXFFO0FBRXJFLHFDQUFxQztBQUVyQyxLQUFLLENBQUMsTUFBTSxDQUFDLCtCQUErQixDQUFDLENBQUM7QUFFOUMsSUFBSSxDQUFDLDJCQUEyQixFQUFFO0lBQ2hDLElBQUksQ0FBQyxHQUFHLGNBQWMsQ0FBQztJQUN2QixrQkFBUSxDQUFDLENBQUMsRUFBRSxpQkFBQyxDQUFDLE9BQU8sQ0FBQztRQUNwQixpQkFBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7S0FDdkIsQ0FBQyxDQUFDLENBQUM7QUFDTixDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQywrQkFBK0IsRUFBRTtJQUNwQyxJQUFJLEdBQUcsR0FBRyxtQkFBSyxDQUFDLFlBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBRTNDLGtCQUFRLENBQUMsR0FBRyxFQUFFLGlCQUFDLENBQUMsT0FBTyxDQUFDO1FBQ3RCLGlCQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztLQUNqQixDQUFDLENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLDBDQUEwQyxFQUFFO0lBQy9DLElBQUksR0FBRyxHQUFHLG1CQUFLLENBQUMsWUFBZSxDQUFDLDJCQUEyQixDQUFDLENBQUMsQ0FBQztJQUU5RCxrQkFBUSxDQUFDLEdBQUcsRUFBRSxpQkFBQyxDQUFDLE9BQU8sQ0FBQztRQUN0QixpQkFBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtZQUN0QixpQkFBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7U0FDZixDQUFDO1FBQ0YsaUJBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO1FB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ZSBhcyBoYW5kbGViYXJzUGFyc2UgfSBmcm9tIFwiaGFuZGxlYmFycy9jb21waWxlci9iYXNlXCI7XG5pbXBvcnQgeyBwcmVwcm9jZXNzIGFzIHBhcnNlLCBidWlsZGVycyBhcyBiIH0gZnJvbSBcIkBnbGltbWVyL3N5bnRheFwiO1xuXG5pbXBvcnQgeyBhc3RFcXVhbCB9IGZyb20gXCIuL3N1cHBvcnRcIjtcblxuUVVuaXQubW9kdWxlKFwiW2dsaW1tZXItc3ludGF4XSBQYXJzZXIgLSBBU1RcIik7XG5cbnRlc3QoXCJhIHNpbXBsZSBwaWVjZSBvZiBjb250ZW50XCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICdzb21lIGNvbnRlbnQnO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIudGV4dCgnc29tZSBjb250ZW50JylcbiAgXSkpO1xufSk7XG5cbnRlc3QoXCJhbGxvdyBzaW1wbGUgQVNUIHRvIGJlIHBhc3NlZFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGhhbmRsZWJhcnNQYXJzZShcInNpbXBsZVwiKSk7XG5cbiAgYXN0RXF1YWwoYXN0LCBiLnByb2dyYW0oW1xuICAgIGIudGV4dChcInNpbXBsZVwiKVxuICBdKSk7XG59KTtcblxudGVzdChcImFsbG93IGFuIEFTVCB3aXRoIG11c3RhY2hlcyB0byBiZSBwYXNzZWRcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShoYW5kbGViYXJzUGFyc2UoXCI8aDE+c29tZTwvaDE+IGFzdCB7e2Zvb319XCIpKTtcblxuICBhc3RFcXVhbChhc3QsIGIucHJvZ3JhbShbXG4gICAgYi5lbGVtZW50KFwiaDFcIiwgW10sIFtdLCBbXG4gICAgICBiLnRleHQoXCJzb21lXCIpXG4gICAgXSksXG4gICAgYi50ZXh0KFwiIGFzdCBcIiksXG4gICAgYi5tdXN0YWNoZShiLnBhdGgoJ2ZvbycpKVxuICBdKSk7XG59KTtcblxudGVzdChcInNlbGYtY2xvc2VkIGVsZW1lbnRcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJzxnIC8+JztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbiAgICBiLmVsZW1lbnQoXCJnXCIpXG4gIF0pKTtcbn0pO1xuXG50ZXN0KFwiZWxlbWVudHMgY2FuIGhhdmUgZW1wdHkgYXR0cmlidXRlc1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnPGltZyBpZD1cIlwiPic7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi5lbGVtZW50KFwiaW1nXCIsIFtcbiAgICAgIGIuYXR0cihcImlkXCIsIGIudGV4dChcIlwiKSlcbiAgICBdKVxuICBdKSk7XG59KTtcblxudGVzdChcImRpc2FsbG93ZWQgcXVvdGUgaW4gZWxlbWVudCBzcGFjZSBpcyByZWplY3RlZFwiLCBmdW5jdGlvbihhc3NlcnQpIHtcbiAgbGV0IHQgPSAnPGltZyBmb289XCJiYXJcIlwiID4nO1xuICBhc3NlcnQudGhyb3dzKCgpID0+IHtcbiAgICBwYXJzZSh0KTtcbiAgfSwgL1N5bnRheCBlcnJvciBhdCBsaW5lIDEgY29sIDE0OiBcIiBpcyBub3QgYSB2YWxpZCBjaGFyYWN0ZXIgd2l0aGluIGF0dHJpYnV0ZSBuYW1lcy8pO1xufSk7XG5cbnRlc3QoXCJkaXNhbGxvd2VkIGVxdWFscyBzaWduIGluIGVsZW1lbnQgc3BhY2UgaXMgcmVqZWN0ZWRcIiwgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGxldCB0ID0gJzxpbWcgPWZvbyA+JztcbiAgYXNzZXJ0LnRocm93cygoKSA9PiB7XG4gICAgcGFyc2UodCk7XG4gIH0sIC9TeW50YXggZXJyb3IgYXQgbGluZSAxIGNvbCA1OiBhdHRyaWJ1dGUgbmFtZSBjYW5ub3Qgc3RhcnQgd2l0aCBlcXVhbHMgc2lnbi8pO1xufSk7XG5cbnRlc3QoXCJzdmcgY29udGVudFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSBcIjxzdmc+PC9zdmc+XCI7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi5lbGVtZW50KFwic3ZnXCIpXG4gIF0pKTtcbn0pO1xuXG50ZXN0KFwiaHRtbCBjb250ZW50IHdpdGggaHRtbCBjb250ZW50IGlubGluZVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnPGRpdj48cD48L3A+PC9kaXY+JztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbiAgICBiLmVsZW1lbnQoXCJkaXZcIiwgW10sIFtdLCBbXG4gICAgICBiLmVsZW1lbnQoXCJwXCIpXG4gICAgXSlcbiAgXSkpO1xufSk7XG5cbnRlc3QoXCJodG1sIGNvbnRlbnQgd2l0aCBzdmcgY29udGVudCBpbmxpbmVcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJzxkaXY+PHN2Zz48L3N2Zz48L2Rpdj4nO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIuZWxlbWVudChcImRpdlwiLCBbXSwgW10sIFtcbiAgICAgIGIuZWxlbWVudChcInN2Z1wiKVxuICAgIF0pXG4gIF0pKTtcbn0pO1xuXG5sZXQgaW50ZWdyYXRpb25Qb2ludHMgPSBbJ2ZvcmVpZ25PYmplY3QnLCAnZGVzYycsICd0aXRsZSddO1xuZnVuY3Rpb24gYnVpbGRJbnRlZ3JhdGlvblBvaW50VGVzdChpbnRlZ3JhdGlvblBvaW50KXtcbiAgcmV0dXJuIGZ1bmN0aW9uIGludGVncmF0aW9uUG9pbnRUZXN0KCl7XG4gICAgbGV0IHQgPSAnPHN2Zz48JytpbnRlZ3JhdGlvblBvaW50Kyc+PGRpdj48L2Rpdj48LycraW50ZWdyYXRpb25Qb2ludCsnPjwvc3ZnPic7XG4gICAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbiAgICAgIGIuZWxlbWVudChcInN2Z1wiLCBbXSwgW10sIFtcbiAgICAgICAgYi5lbGVtZW50KGludGVncmF0aW9uUG9pbnQsIFtdLCBbXSwgW1xuICAgICAgICAgIGIuZWxlbWVudChcImRpdlwiKVxuICAgICAgICBdKVxuICAgICAgXSlcbiAgICBdKSk7XG4gIH07XG59XG5mb3IgKGxldCBpPTAsIGxlbmd0aCA9IGludGVncmF0aW9uUG9pbnRzLmxlbmd0aDsgaTxsZW5ndGg7IGkrKykge1xuICB0ZXN0KFxuICAgIFwic3ZnIGNvbnRlbnQgd2l0aCBodG1sIGNvbnRlbnQgaW5saW5lIGZvciBcIitpbnRlZ3JhdGlvblBvaW50c1tpXSxcbiAgICBidWlsZEludGVncmF0aW9uUG9pbnRUZXN0KGludGVncmF0aW9uUG9pbnRzW2ldKVxuICApO1xufVxuXG50ZXN0KFwiYSBwaWVjZSBvZiBjb250ZW50IHdpdGggSFRNTFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnc29tZSA8ZGl2PmNvbnRlbnQ8L2Rpdj4gZG9uZSc7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi50ZXh0KFwic29tZSBcIiksXG4gICAgYi5lbGVtZW50KFwiZGl2XCIsIFtdLCBbXSwgW1xuICAgICAgYi50ZXh0KFwiY29udGVudFwiKVxuICAgIF0pLFxuICAgIGIudGV4dChcIiBkb25lXCIpXG4gIF0pKTtcbn0pO1xuXG50ZXN0KFwiYSBwaWVjZSBvZiBIYW5kbGViYXJzIHdpdGggSFRNTFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnc29tZSA8ZGl2Pnt7Y29udGVudH19PC9kaXY+IGRvbmUnO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIudGV4dChcInNvbWUgXCIpLFxuICAgIGIuZWxlbWVudChcImRpdlwiLCBbXSwgW10sIFtcbiAgICAgIGIubXVzdGFjaGUoYi5wYXRoKCdjb250ZW50JykpXG4gICAgXSksXG4gICAgYi50ZXh0KFwiIGRvbmVcIilcbiAgXSkpO1xufSk7XG5cbnRlc3QoXCJIYW5kbGViYXJzIGVtYmVkZGVkIGluIGFuIGF0dHJpYnV0ZSAocXVvdGVkKVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnc29tZSA8ZGl2IGNsYXNzPVwie3tmb299fVwiPmNvbnRlbnQ8L2Rpdj4gZG9uZSc7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi50ZXh0KFwic29tZSBcIiksXG4gICAgYi5lbGVtZW50KFwiZGl2XCIsIFsgYi5hdHRyKFwiY2xhc3NcIiwgYi5jb25jYXQoWyBiLm11c3RhY2hlKCdmb28nKSBdKSkgXSwgW10sIFtcbiAgICAgIGIudGV4dChcImNvbnRlbnRcIilcbiAgICBdKSxcbiAgICBiLnRleHQoXCIgZG9uZVwiKVxuICBdKSk7XG59KTtcblxudGVzdChcIkhhbmRsZWJhcnMgZW1iZWRkZWQgaW4gYW4gYXR0cmlidXRlICh1bnF1b3RlZClcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ3NvbWUgPGRpdiBjbGFzcz17e2Zvb319PmNvbnRlbnQ8L2Rpdj4gZG9uZSc7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi50ZXh0KFwic29tZSBcIiksXG4gICAgYi5lbGVtZW50KFwiZGl2XCIsIFsgYi5hdHRyKFwiY2xhc3NcIiwgYi5tdXN0YWNoZShiLnBhdGgoJ2ZvbycpKSkgXSwgW10sIFtcbiAgICAgIGIudGV4dChcImNvbnRlbnRcIilcbiAgICBdKSxcbiAgICBiLnRleHQoXCIgZG9uZVwiKVxuICBdKSk7XG59KTtcblxudGVzdChcIkhhbmRsZWJhcnMgZW1iZWRkZWQgaW4gYW4gYXR0cmlidXRlIG9mIGEgc2VsZi1jbG9zaW5nIHRhZyAodW5xb3V0ZWQpXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9ICc8aW5wdXQgdmFsdWU9e3tmb299fS8+JztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbiAgICBiLmVsZW1lbnQoXCJpbnB1dFwiLCBbIGIuYXR0cihcInZhbHVlXCIsIGIubXVzdGFjaGUoYi5wYXRoKCdmb28nKSkpIF0sIFtdLCBbXSksXG4gIF0pKTtcbn0pO1xuXG50ZXN0KFwiSGFuZGxlYmFycyBlbWJlZGRlZCBpbiBhbiBhdHRyaWJ1dGUgKHNleHBycylcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ3NvbWUgPGRpdiBjbGFzcz1cInt7Zm9vIChmb28gXCJhYmNcIil9fVwiPmNvbnRlbnQ8L2Rpdj4gZG9uZSc7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi50ZXh0KFwic29tZSBcIiksXG4gICAgYi5lbGVtZW50KFwiZGl2XCIsIFtcbiAgICAgIGIuYXR0cihcImNsYXNzXCIsIGIuY29uY2F0KFsgYi5tdXN0YWNoZShiLnBhdGgoJ2ZvbycpLCBbIGIuc2V4cHIoYi5wYXRoKCdmb28nKSwgWyBiLnN0cmluZygnYWJjJykgXSkgXSkgXSkpXG4gICAgXSwgW10sIFtcbiAgICAgIGIudGV4dChcImNvbnRlbnRcIilcbiAgICBdKSxcbiAgICBiLnRleHQoXCIgZG9uZVwiKVxuICBdKSk7XG59KTtcblxudGVzdChcIkhhbmRsZWJhcnMgZW1iZWRkZWQgaW4gYW4gYXR0cmlidXRlIHdpdGggb3RoZXIgY29udGVudCBzdXJyb3VuZGluZyBpdFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnc29tZSA8YSBocmVmPVwiaHR0cDovL3t7bGlua319L1wiPmNvbnRlbnQ8L2E+IGRvbmUnO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIudGV4dChcInNvbWUgXCIpLFxuICAgIGIuZWxlbWVudChcImFcIiwgW1xuICAgICAgYi5hdHRyKFwiaHJlZlwiLCBiLmNvbmNhdChbXG4gICAgICAgIGIudGV4dChcImh0dHA6Ly9cIiksXG4gICAgICAgIGIubXVzdGFjaGUoJ2xpbmsnKSxcbiAgICAgICAgYi50ZXh0KFwiL1wiKVxuICAgICAgXSkpXG4gICAgXSwgW10sIFtcbiAgICAgIGIudGV4dChcImNvbnRlbnRcIilcbiAgICBdKSxcbiAgICBiLnRleHQoXCIgZG9uZVwiKVxuICBdKSk7XG59KTtcblxudGVzdChcIkEgbW9yZSBjb21wbGV0ZSBlbWJlZGRpbmcgZXhhbXBsZVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSBcInt7ZW1iZWR9fSB7e3NvbWUgJ2NvbnRlbnQnfX0gXCIgK1xuICAgICAgICAgIFwiPGRpdiBjbGFzcz0ne3tmb299fSB7e2JpbmQtY2xhc3MgaXNFbmFibGVkIHRydXRoeT0nZW5hYmxlZCd9fSc+e3sgY29udGVudCB9fTwvZGl2PlwiICtcbiAgICAgICAgICBcIiB7e21vcmUgJ2VtYmVkJ319XCI7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi5tdXN0YWNoZShiLnBhdGgoJ2VtYmVkJykpLFxuICAgIGIudGV4dCgnICcpLFxuICAgIGIubXVzdGFjaGUoYi5wYXRoKCdzb21lJyksIFtiLnN0cmluZygnY29udGVudCcpXSksXG4gICAgYi50ZXh0KCcgJyksXG4gICAgYi5lbGVtZW50KFwiZGl2XCIsIFtcbiAgICAgIGIuYXR0cihcImNsYXNzXCIsIGIuY29uY2F0KFtcbiAgICAgICAgYi5tdXN0YWNoZSgnZm9vJyksXG4gICAgICAgIGIudGV4dCgnICcpLFxuICAgICAgICBiLm11c3RhY2hlKCdiaW5kLWNsYXNzJywgW2IucGF0aCgnaXNFbmFibGVkJyldLCBiLmhhc2goW2IucGFpcigndHJ1dGh5JywgYi5zdHJpbmcoJ2VuYWJsZWQnKSldKSlcbiAgICAgIF0pKVxuICAgIF0sIFtdLCBbXG4gICAgICBiLm11c3RhY2hlKGIucGF0aCgnY29udGVudCcpKVxuICAgIF0pLFxuICAgIGIudGV4dCgnICcpLFxuICAgIGIubXVzdGFjaGUoYi5wYXRoKCdtb3JlJyksIFtiLnN0cmluZygnZW1iZWQnKV0pXG4gIF0pKTtcbn0pO1xuXG50ZXN0KFwiU2ltcGxlIGVtYmVkZGVkIGJsb2NrIGhlbHBlcnNcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gXCJ7eyNpZiBmb299fTxkaXY+e3tjb250ZW50fX08L2Rpdj57ey9pZn19XCI7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi5ibG9jayhiLnBhdGgoJ2lmJyksIFtiLnBhdGgoJ2ZvbycpXSwgYi5oYXNoKCksIGIucHJvZ3JhbShbXG4gICAgICBiLmVsZW1lbnQoJ2RpdicsIFtdLCBbXSwgW1xuICAgICAgICBiLm11c3RhY2hlKGIucGF0aCgnY29udGVudCcpKVxuICAgICAgXSlcbiAgICBdKSlcbiAgXSkpO1xufSk7XG5cbnRlc3QoXCJJbnZvbHZlZCBibG9jayBoZWxwZXJcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJzxwPmhpPC9wPiBjb250ZW50IHt7I3Rlc3Rpbmcgc2hvdWxkUmVuZGVyfX08cD5BcHBlYXJzITwvcD57ey90ZXN0aW5nfX0gbW9yZSA8ZW0+Y29udGVudDwvZW0+IGhlcmUnO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIuZWxlbWVudCgncCcsIFtdLCBbXSwgW1xuICAgICAgYi50ZXh0KCdoaScpXG4gICAgXSksXG4gICAgYi50ZXh0KCcgY29udGVudCAnKSxcbiAgICBiLmJsb2NrKGIucGF0aCgndGVzdGluZycpLCBbYi5wYXRoKCdzaG91bGRSZW5kZXInKV0sIGIuaGFzaCgpLCBiLnByb2dyYW0oW1xuICAgICAgYi5lbGVtZW50KCdwJywgW10sIFtdLCBbXG4gICAgICAgIGIudGV4dCgnQXBwZWFycyEnKVxuICAgICAgXSlcbiAgICBdKSksXG4gICAgYi50ZXh0KCcgbW9yZSAnKSxcbiAgICBiLmVsZW1lbnQoJ2VtJywgW10sIFtdLCBbXG4gICAgICBiLnRleHQoJ2NvbnRlbnQnKVxuICAgIF0pLFxuICAgIGIudGV4dCgnIGhlcmUnKVxuICBdKSk7XG59KTtcblxudGVzdChcIkVsZW1lbnQgbW9kaWZpZXJzXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9IFwiPHAge3thY3Rpb24gJ2Jvb20nfX0gY2xhc3M9J2Jhcic+U29tZSBjb250ZW50PC9wPlwiO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIuZWxlbWVudCgncCcsIFsgYi5hdHRyKCdjbGFzcycsIGIudGV4dCgnYmFyJykpIF0sIFtcbiAgICAgIGIuZWxlbWVudE1vZGlmaWVyKGIucGF0aCgnYWN0aW9uJyksIFtiLnN0cmluZygnYm9vbScpXSlcbiAgICBdLCBbXG4gICAgICBiLnRleHQoJ1NvbWUgY29udGVudCcpXG4gICAgXSlcbiAgXSkpO1xufSk7XG5cbnRlc3QoXCJUb2tlbml6ZXI6IE11c3RhY2hlU3RhdGVtZW50IGVuY291bnRlcmVkIGluIHRhZ05hbWUgc3RhdGVcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gXCI8aW5wdXR7e2Jhcn19PlwiO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIuZWxlbWVudCgnaW5wdXQnLCBbXSwgWyBiLmVsZW1lbnRNb2RpZmllcihiLnBhdGgoJ2JhcicpKSBdKVxuICBdKSk7XG59KTtcblxudGVzdChcIlRva2VuaXplcjogTXVzdGFjaGVTdGF0ZW1lbnQgZW5jb3VudGVyZWQgaW4gYmVmb3JlQXR0cmlidXRlTmFtZSBzdGF0ZVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSBcIjxpbnB1dCB7e2Jhcn19PlwiO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIuZWxlbWVudCgnaW5wdXQnLCBbXSwgWyBiLmVsZW1lbnRNb2RpZmllcihiLnBhdGgoJ2JhcicpKSBdKVxuICBdKSk7XG59KTtcblxudGVzdChcIlRva2VuaXplcjogTXVzdGFjaGVTdGF0ZW1lbnQgZW5jb3VudGVyZWQgaW4gYXR0cmlidXRlTmFtZSBzdGF0ZVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSBcIjxpbnB1dCBmb297e2Jhcn19PlwiO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIuZWxlbWVudCgnaW5wdXQnLCBbIGIuYXR0cignZm9vJywgYi50ZXh0KCcnKSkgXSwgWyBiLmVsZW1lbnRNb2RpZmllcihiLnBhdGgoJ2JhcicpKSBdKVxuICBdKSk7XG59KTtcblxudGVzdChcIlRva2VuaXplcjogTXVzdGFjaGVTdGF0ZW1lbnQgZW5jb3VudGVyZWQgaW4gYWZ0ZXJBdHRyaWJ1dGVOYW1lIHN0YXRlXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9IFwiPGlucHV0IGZvbyB7e2Jhcn19PlwiO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIuZWxlbWVudCgnaW5wdXQnLCBbIGIuYXR0cignZm9vJywgYi50ZXh0KCcnKSkgXSwgWyBiLmVsZW1lbnRNb2RpZmllcihiLnBhdGgoJ2JhcicpKSBdKVxuICBdKSk7XG59KTtcblxudGVzdChcIlRva2VuaXplcjogTXVzdGFjaGVTdGF0ZW1lbnQgZW5jb3VudGVyZWQgaW4gYWZ0ZXJBdHRyaWJ1dGVWYWx1ZSBzdGF0ZVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSBcIjxpbnB1dCBmb289MSB7e2Jhcn19PlwiO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIuZWxlbWVudCgnaW5wdXQnLCBbIGIuYXR0cignZm9vJywgYi50ZXh0KCcxJykpIF0sIFsgYi5lbGVtZW50TW9kaWZpZXIoYi5wYXRoKCdiYXInKSkgXSlcbiAgXSkpO1xufSk7XG5cbnRlc3QoXCJUb2tlbml6ZXI6IE11c3RhY2hlU3RhdGVtZW50IGVuY291bnRlcmVkIGluIGFmdGVyQXR0cmlidXRlVmFsdWVRdW90ZWQgc3RhdGVcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gXCI8aW5wdXQgZm9vPScxJ3t7YmFyfX0+XCI7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi5lbGVtZW50KCdpbnB1dCcsIFsgYi5hdHRyKCdmb28nLCBiLnRleHQoJzEnKSkgXSwgWyBiLmVsZW1lbnRNb2RpZmllcihiLnBhdGgoJ2JhcicpKSBdKVxuICBdKSk7XG59KTtcblxudGVzdChcIlN0cmlwcGluZyAtIG11c3RhY2hlc1wiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSBcImZvbyB7e35jb250ZW50fX0gYmFyXCI7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi50ZXh0KCdmb28nKSxcbiAgICBiLm11c3RhY2hlKGIucGF0aCgnY29udGVudCcpKSxcbiAgICBiLnRleHQoJyBiYXInKVxuICBdKSk7XG5cbiAgdCA9IFwiZm9vIHt7Y29udGVudH59fSBiYXJcIjtcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbiAgICBiLnRleHQoJ2ZvbyAnKSxcbiAgICBiLm11c3RhY2hlKGIucGF0aCgnY29udGVudCcpKSxcbiAgICBiLnRleHQoJ2JhcicpXG4gIF0pKTtcbn0pO1xuXG50ZXN0KFwiU3RyaXBwaW5nIC0gYmxvY2tzXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9IFwiZm9vIHt7fiN3YXR9fXt7L3dhdH19IGJhclwiO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIudGV4dCgnZm9vJyksXG4gICAgYi5ibG9jayhiLnBhdGgoJ3dhdCcpLCBbXSwgYi5oYXNoKCksIGIucHJvZ3JhbSgpKSxcbiAgICBiLnRleHQoJyBiYXInKVxuICBdKSk7XG5cbiAgdCA9IFwiZm9vIHt7I3dhdH19e3svd2F0fn19IGJhclwiO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIudGV4dCgnZm9vICcpLFxuICAgIGIuYmxvY2soYi5wYXRoKCd3YXQnKSwgW10sIGIuaGFzaCgpLCBiLnByb2dyYW0oKSksXG4gICAgYi50ZXh0KCdiYXInKVxuICBdKSk7XG59KTtcblxudGVzdChcIlN0cmlwcGluZyAtIHByb2dyYW1zXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgdCA9IFwie3sjd2F0fn19IGZvbyB7e2Vsc2V9fXt7L3dhdH19XCI7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi5ibG9jayhiLnBhdGgoJ3dhdCcpLCBbXSwgYi5oYXNoKCksIGIucHJvZ3JhbShbXG4gICAgICBiLnRleHQoJ2ZvbyAnKVxuICAgIF0pLCBiLnByb2dyYW0oKSlcbiAgXSkpO1xuXG4gIHQgPSBcInt7I3dhdH19IGZvbyB7e35lbHNlfX17ey93YXR9fVwiO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIuYmxvY2soYi5wYXRoKCd3YXQnKSwgW10sIGIuaGFzaCgpLCBiLnByb2dyYW0oW1xuICAgICAgYi50ZXh0KCcgZm9vJylcbiAgICBdKSwgYi5wcm9ncmFtKCkpXG4gIF0pKTtcblxuICB0ID0gXCJ7eyN3YXR9fXt7ZWxzZX59fSBmb28ge3svd2F0fX1cIjtcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbiAgICBiLmJsb2NrKGIucGF0aCgnd2F0JyksIFtdLCBiLmhhc2goKSwgYi5wcm9ncmFtKCksIGIucHJvZ3JhbShbXG4gICAgICBiLnRleHQoJ2ZvbyAnKVxuICAgIF0pKVxuICBdKSk7XG5cbiAgdCA9IFwie3sjd2F0fX17e2Vsc2V9fSBmb28ge3t+L3dhdH19XCI7XG4gIGFzdEVxdWFsKHQsIGIucHJvZ3JhbShbXG4gICAgYi5ibG9jayhiLnBhdGgoJ3dhdCcpLCBbXSwgYi5oYXNoKCksIGIucHJvZ3JhbSgpLCBiLnByb2dyYW0oW1xuICAgICAgYi50ZXh0KCcgZm9vJylcbiAgICBdKSlcbiAgXSkpO1xufSk7XG5cbnRlc3QoXCJTdHJpcHBpbmcgLSByZW1vdmVzIHVubmVjZXNzYXJ5IHRleHQgbm9kZXNcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gXCJ7eyNlYWNofn19XFxuICA8bGk+IGZvbyA8L2xpPlxcbnt7fi9lYWNofX1cIjtcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbiAgICBiLmJsb2NrKGIucGF0aCgnZWFjaCcpLCBbXSwgYi5oYXNoKCksIGIucHJvZ3JhbShbXG4gICAgICBiLmVsZW1lbnQoJ2xpJywgW10sIFtdLCBbYi50ZXh0KCcgZm9vICcpXSlcbiAgICBdKSlcbiAgXSkpO1xufSk7XG5cbi8vIFRPRE86IE1ha2UgdGhlc2UgdGhyb3cgYW4gZXJyb3IuXG4vL3Rlc3QoXCJBd2t3YXJkIG11c3RhY2hlIGluIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZVwiLCBmdW5jdGlvbigpIHtcbi8vICBsZXQgdCA9IFwiPGRpdiBjbGFzcz1he3tmb299fT48L2Rpdj5cIjtcbi8vICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuLy8gICAgYi5lbGVtZW50KCdkaXYnLCBbIGIuYXR0cignY2xhc3MnLCBjb25jYXQoW2Iuc3RyaW5nKFwiYVwiKSwgYi5zZXhwcihbYi5wYXRoKCdmb28nKV0pXSkpIF0pXG4vLyAgXSkpO1xuLy9cbi8vICB0ID0gXCI8ZGl2IGNsYXNzPWF7e2Zvb319Yj48L2Rpdj5cIjtcbi8vICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuLy8gICAgYi5lbGVtZW50KCdkaXYnLCBbIGIuYXR0cignY2xhc3MnLCBjb25jYXQoW2Iuc3RyaW5nKFwiYVwiKSwgYi5zZXhwcihbYi5wYXRoKCdmb28nKV0pLCBiLnN0cmluZyhcImJcIildKSkgXSlcbi8vICBdKSk7XG4vL1xuLy8gIHQgPSBcIjxkaXYgY2xhc3M9e3tmb299fWI+PC9kaXY+XCI7XG4vLyAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbi8vICAgIGIuZWxlbWVudCgnZGl2JywgWyBiLmF0dHIoJ2NsYXNzJywgY29uY2F0KFtiLnNleHByKFtiLnBhdGgoJ2ZvbycpXSksIGIuc3RyaW5nKFwiYlwiKV0pKSBdKVxuLy8gIF0pKTtcbi8vfSk7XG5cbnRlc3QoXCJhbiBIVE1MIGNvbW1lbnRcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ2JlZm9yZSA8IS0tIHNvbWUgY29tbWVudCAtLT4gYWZ0ZXInO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIudGV4dChcImJlZm9yZSBcIiksXG4gICAgYi5jb21tZW50KFwiIHNvbWUgY29tbWVudCBcIiksXG4gICAgYi50ZXh0KFwiIGFmdGVyXCIpXG4gIF0pKTtcbn0pO1xuXG50ZXN0KFwiYSBIYW5kbGViYXJzIGNvbW1lbnQgaW5zaWRlIGFuIEhUTUwgY29tbWVudFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IHQgPSAnYmVmb3JlIDwhLS0gc29tZSB7eyEgbmVzdGVkIHRoaW5nIH19IGNvbW1lbnQgLS0+IGFmdGVyJztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbiAgICBiLnRleHQoXCJiZWZvcmUgXCIpLFxuICAgIGIuY29tbWVudChcIiBzb21lIHt7ISBuZXN0ZWQgdGhpbmcgfX0gY29tbWVudCBcIiksXG4gICAgYi50ZXh0KFwiIGFmdGVyXCIpXG4gIF0pKTtcbn0pO1xuXG50ZXN0KFwiYSBIYW5kbGViYXJzIGNvbW1lbnRcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ2JlZm9yZSB7eyEgc29tZSBjb21tZW50IH19IGFmdGVyJztcbiAgYXN0RXF1YWwodCwgYi5wcm9ncmFtKFtcbiAgICBiLnRleHQoXCJiZWZvcmUgXCIpLFxuICAgIGIubXVzdGFjaGVDb21tZW50KFwiIHNvbWUgY29tbWVudCBcIiksXG4gICAgYi50ZXh0KFwiIGFmdGVyXCIpXG4gIF0pKTtcbn0pO1xuXG50ZXN0KFwiYSBIYW5kbGViYXJzIGNvbW1lbnQgaW4gcHJvcGVyIGVsZW1lbnQgc3BhY2VcIiwgZnVuY3Rpb24oKSB7XG4gIGxldCB0ID0gJ2JlZm9yZSA8ZGl2IHt7ISBzb21lIGNvbW1lbnQgfX0gZGF0YS1mb289XCJiYXJcIiB7eyEgb3RoZXIgY29tbWVudCB9fT48L2Rpdj4gYWZ0ZXInO1xuICBhc3RFcXVhbCh0LCBiLnByb2dyYW0oW1xuICAgIGIudGV4dChcImJlZm9yZSBcIiksXG4gICAgYi5lbGVtZW50KCdkaXYnLCBbXG4gICAgICBiLmF0dHIoJ2RhdGEtZm9vJywgYi50ZXh0KCdiYXInKSlcbiAgICBdLCBbXSwgW10sIFtcbiAgICAgIGIubXVzdGFjaGVDb21tZW50KFwiIHNvbWUgY29tbWVudCBcIiksXG4gICAgICBiLm11c3RhY2hlQ29tbWVudChcIiBvdGhlciBjb21tZW50IFwiKSxcbiAgICBdKSxcbiAgICBiLnRleHQoXCIgYWZ0ZXJcIilcbiAgXSkpO1xufSk7XG5cbnRlc3QoXCJhIEhhbmRsZWJhcnMgY29tbWVudCBpbiBpbnZhbGlkIGVsZW1lbnQgc3BhY2VcIiwgZnVuY3Rpb24oYXNzZXJ0KSB7XG4gIGFzc2VydC50aHJvd3MoKCkgPT4ge1xuICAgIHBhcnNlKCdcXG5iZWZvcmUgPGRpdiBcXG4gIGF7eyEgc29tZSBjb21tZW50IH19IGRhdGEtZm9vPVwiYmFyXCI+PC9kaXY+IGFmdGVyJyk7XG4gIH0sIC9Vc2luZyBhIEhhbmRsZWJhcnMgY29tbWVudCB3aGVuIGluIHRoZSBgYXR0cmlidXRlTmFtZWAgc3RhdGUgaXMgbm90IHN1cHBvcnRlZDogXCIgc29tZSBjb21tZW50IFwiIG9uIGxpbmUgMzozLyk7XG5cbiAgYXNzZXJ0LnRocm93cygoKSA9PiB7XG4gICAgcGFyc2UoJ1xcbmJlZm9yZSA8ZGl2IFxcbiAgYT17eyEgc29tZSBjb21tZW50IH19IGRhdGEtZm9vPVwiYmFyXCI+PC9kaXY+IGFmdGVyJyk7XG4gIH0sIC9Vc2luZyBhIEhhbmRsZWJhcnMgY29tbWVudCB3aGVuIGluIHRoZSBgYmVmb3JlQXR0cmlidXRlVmFsdWVgIHN0YXRlIGlzIG5vdCBzdXBwb3J0ZWQ6IFwiIHNvbWUgY29tbWVudCBcIiBvbiBsaW5lIDM6NC8pO1xuXG4gIGFzc2VydC50aHJvd3MoKCkgPT4ge1xuICAgIHBhcnNlKCdcXG5iZWZvcmUgPGRpdiBcXG4gIGE9XCJ7eyEgc29tZSBjb21tZW50IH19XCIgZGF0YS1mb289XCJiYXJcIj48L2Rpdj4gYWZ0ZXInKTtcbiAgfSwgL1VzaW5nIGEgSGFuZGxlYmFycyBjb21tZW50IHdoZW4gaW4gdGhlIGBhdHRyaWJ1dGVWYWx1ZURvdWJsZVF1b3RlZGAgc3RhdGUgaXMgbm90IHN1cHBvcnRlZDogXCIgc29tZSBjb21tZW50IFwiIG9uIGxpbmUgMzo1Lyk7XG59KTtcblxudGVzdChcImFsbG93IHt7bnVsbH19IHRvIGJlIHBhc3NlZCBhcyBoZWxwZXIgbmFtZVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKFwie3tudWxsfX1cIik7XG5cbiAgYXN0RXF1YWwoYXN0LCBiLnByb2dyYW0oW1xuICAgIGIubXVzdGFjaGUoYi5udWxsKCkpXG4gIF0pKTtcbn0pO1xuXG50ZXN0KFwiYWxsb3cge3tudWxsfX0gdG8gYmUgcGFzc2VkIGFzIGEgcGFyYW1cIiwgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShcInt7Zm9vIG51bGx9fVwiKTtcblxuICBhc3RFcXVhbChhc3QsIGIucHJvZ3JhbShbXG4gICAgYi5tdXN0YWNoZShiLnBhdGgoJ2ZvbycpLCBbYi5udWxsKCldKVxuICBdKSk7XG59KTtcblxudGVzdChcImFsbG93IHt7dW5kZWZpbmVkfX0gdG8gYmUgcGFzc2VkIGFzIGhlbHBlciBuYW1lXCIsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoXCJ7e3VuZGVmaW5lZH19XCIpO1xuXG4gIGFzdEVxdWFsKGFzdCwgYi5wcm9ncmFtKFtcbiAgICBiLm11c3RhY2hlKGIudW5kZWZpbmVkKCkpXG4gIF0pKTtcbn0pO1xuXG50ZXN0KFwiYWxsb3cge3t1bmRlZmluZWR9fSB0byBiZSBwYXNzZWQgYXMgYSBwYXJhbVwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKFwie3tmb28gdW5kZWZpbmVkfX1cIik7XG5cbiAgYXN0RXF1YWwoYXN0LCBiLnByb2dyYW0oW1xuICAgIGIubXVzdGFjaGUoYi5wYXRoKCdmb28nKSwgW2IudW5kZWZpbmVkKCldKVxuICBdKSk7XG59KTtcbiJdfQ==