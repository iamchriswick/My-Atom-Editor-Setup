"use strict";
var syntax_1 = require("@glimmer/syntax");
function traversalEqual(node, expectedTraversal) {
    var actualTraversal = [];
    syntax_1.traverse(node, {
        All: {
            enter: function (node) { actualTraversal.push(['enter', node]); },
            exit: function (node) { actualTraversal.push(['exit', node]); },
            keys: {
                All: {
                    enter: function (node, key) { actualTraversal.push(["enter:" + key, node]); },
                    exit: function (node, key) { actualTraversal.push(["exit:" + key, node]); },
                }
            }
        }
    });
    deepEqual(actualTraversal.map(function (a) { return a[0] + " " + a[1].type; }), expectedTraversal.map(function (a) { return a[0] + " " + a[1].type; }));
    var nodesEqual = true;
    for (var i = 0; i < actualTraversal.length; i++) {
        if (actualTraversal[i][1] !== expectedTraversal[i][1]) {
            nodesEqual = false;
            break;
        }
    }
    ok(nodesEqual, "Actual nodes match expected nodes");
}
QUnit.module('[glimmer-syntax] Traversal - visiting keys');
test('Blocks', function () {
    var ast = syntax_1.preprocess("{{#block param1 param2 key1=value key2=value}}<b></b><b></b>{{/block}}");
    traversalEqual(ast, [
        ['enter', ast],
        ['enter:body', ast],
        ['enter', ast.body[0]],
        ['enter:path', ast.body[0]],
        ['enter', ast.body[0].path],
        ['exit', ast.body[0].path],
        ['exit:path', ast.body[0]],
        ['enter:params', ast.body[0]],
        ['enter', ast.body[0].params[0]],
        ['exit', ast.body[0].params[0]],
        ['enter', ast.body[0].params[1]],
        ['exit', ast.body[0].params[1]],
        ['exit:params', ast.body[0]],
        ['enter:hash', ast.body[0]],
        ['enter', ast.body[0].hash],
        ['enter:pairs', ast.body[0].hash],
        ['enter', ast.body[0].hash.pairs[0]],
        ['enter:value', ast.body[0].hash.pairs[0]],
        ['enter', ast.body[0].hash.pairs[0].value],
        ['exit', ast.body[0].hash.pairs[0].value],
        ['exit:value', ast.body[0].hash.pairs[0]],
        ['exit', ast.body[0].hash.pairs[0]],
        ['enter', ast.body[0].hash.pairs[1]],
        ['enter:value', ast.body[0].hash.pairs[1]],
        ['enter', ast.body[0].hash.pairs[1].value],
        ['exit', ast.body[0].hash.pairs[1].value],
        ['exit:value', ast.body[0].hash.pairs[1]],
        ['exit', ast.body[0].hash.pairs[1]],
        ['exit:pairs', ast.body[0].hash],
        ['exit', ast.body[0].hash],
        ['exit:hash', ast.body[0]],
        ['enter:program', ast.body[0]],
        ['enter', ast.body[0].program],
        ['enter:body', ast.body[0].program],
        ['enter', ast.body[0].program.body[0]],
        ['enter:attributes', ast.body[0].program.body[0]],
        ['exit:attributes', ast.body[0].program.body[0]],
        ['enter:modifiers', ast.body[0].program.body[0]],
        ['exit:modifiers', ast.body[0].program.body[0]],
        ['enter:children', ast.body[0].program.body[0]],
        ['exit:children', ast.body[0].program.body[0]],
        ['enter:comments', ast.body[0].program.body[0]],
        ['exit:comments', ast.body[0].program.body[0]],
        ['exit', ast.body[0].program.body[0]],
        ['enter', ast.body[0].program.body[1]],
        ['enter:attributes', ast.body[0].program.body[1]],
        ['exit:attributes', ast.body[0].program.body[1]],
        ['enter:modifiers', ast.body[0].program.body[1]],
        ['exit:modifiers', ast.body[0].program.body[1]],
        ['enter:children', ast.body[0].program.body[1]],
        ['exit:children', ast.body[0].program.body[1]],
        ['enter:comments', ast.body[0].program.body[1]],
        ['exit:comments', ast.body[0].program.body[1]],
        ['exit', ast.body[0].program.body[1]],
        ['exit:body', ast.body[0].program],
        ['exit', ast.body[0].program],
        ['exit:program', ast.body[0]],
        ['exit', ast.body[0]],
        ['exit:body', ast],
        ['exit', ast]
    ]);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzaXRpbmcta2V5cy1ub2RlLXRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJAZ2xpbW1lci9zeW50YXgvdGVzdHMvdHJhdmVyc2FsL3Zpc2l0aW5nLWtleXMtbm9kZS10ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSwwQ0FBZ0U7QUFFaEUsd0JBQXdCLElBQUksRUFBRSxpQkFBaUI7SUFDN0MsSUFBSSxlQUFlLEdBQUcsRUFBRSxDQUFDO0lBRXpCLGlCQUFRLENBQUMsSUFBSSxFQUFFO1FBQ2IsR0FBRyxFQUFFO1lBQ0gsS0FBSyxZQUFDLElBQUksSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RELElBQUksWUFBQyxJQUFJLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyRCxJQUFJLEVBQUU7Z0JBQ0osR0FBRyxFQUFFO29CQUNILEtBQUssWUFBQyxJQUFJLEVBQUUsR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFTLEdBQUssRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDbEUsSUFBSSxZQUFDLElBQUksRUFBRSxHQUFHLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLFVBQVEsR0FBSyxFQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNsRTthQUNGO1NBQ0Y7S0FDRixDQUFDLENBQUM7SUFFSCxTQUFTLENBQ1AsZUFBZSxDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBTSxFQUF0QixDQUFzQixDQUFDLEVBQ2hELGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMs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QUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ3JELENBQUMsTUFBTSxFQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDckQsQ0FBQyxZQUFZLEVBQVEsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9DLENBQUMsTUFBTSxFQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQyxDQUFDLE9BQU8sRUFBYSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0MsQ0FBQyxhQUFhLEVBQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9DLENBQUMsT0FBTyxFQUFhLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDckQsQ0FBQyxNQUFNLEVBQWMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUNyRCxDQUFDLFlBQVksRUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0MsQ0FBQyxNQUFNLEVBQWMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9DLENBQUMsWUFBWSxFQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ3RDLENBQUMsTUFBTSxFQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ3RDLENBQUMsV0FBVyxFQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakMsQ0FBQyxlQUFlLEVBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQyxDQUFDLE9BQU8sRUFBYSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUN6QyxDQUFDLFlBQVksRUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUN6QyxDQUFDLE9BQU8sRUFBYSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQyxpQkFBaUIsRUFBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQyxpQkFBaUIsRUFBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQyxnQkFBZ0IsRUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQyxnQkFBZ0IsRUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQyxlQUFlLEVBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pELENBQUMsZ0JBQWdCLEVBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pELENBQUMsZUFBZSxFQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqRCxDQUFDLE1BQU0sRUFBYyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQyxPQUFPLEVBQWEsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pELENBQUMsa0JBQWtCLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pELENBQUMsaUJBQWlCLEVBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pELENBQUMsaUJBQWlCLEVBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pELENBQUMsZ0JBQWdCLEVBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pELENBQUMsZ0JBQWdCLEVBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pELENBQUMsZUFBZSxFQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqRCxDQUFDLGdCQUFnQixFQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqRCxDQUFDLGVBQWUsRUFBSyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQyxNQUFNLEVBQWMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pELENBQUMsV0FBVyxFQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ3pDLENBQUMsTUFBTSxFQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ3pDLENBQUMsY0FBYyxFQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakMsQ0FBQyxNQUFNLEVBQWMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQyxDQUFDLFdBQVcsRUFBUyxHQUFHLENBQUM7UUFDekIsQ0FBQyxNQUFNLEVBQWMsR0FBRyxDQUFDO0tBQzFCLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJlcHJvY2VzcyBhcyBwYXJzZSwgdHJhdmVyc2UgfSBmcm9tIFwiQGdsaW1tZXIvc3ludGF4XCI7XG5cbmZ1bmN0aW9uIHRyYXZlcnNhbEVxdWFsKG5vZGUsIGV4cGVjdGVkVHJhdmVyc2FsKSB7XG4gIGxldCBhY3R1YWxUcmF2ZXJzYWwgPSBbXTtcblxuICB0cmF2ZXJzZShub2RlLCB7XG4gICAgQWxsOiB7XG4gICAgICBlbnRlcihub2RlKSB7IGFjdHVhbFRyYXZlcnNhbC5wdXNoKFsnZW50ZXInLCBub2RlXSk7IH0sXG4gICAgICBleGl0KG5vZGUpIHsgYWN0dWFsVHJhdmVyc2FsLnB1c2goWydleGl0JywgIG5vZGVdKTsgfSxcbiAgICAgIGtleXM6IHtcbiAgICAgICAgQWxsOiB7XG4gICAgICAgICAgZW50ZXIobm9kZSwga2V5KSB7IGFjdHVhbFRyYXZlcnNhbC5wdXNoKFtgZW50ZXI6JHtrZXl9YCwgbm9kZV0pOyB9LFxuICAgICAgICAgIGV4aXQobm9kZSwga2V5KSB7IGFjdHVhbFRyYXZlcnNhbC5wdXNoKFtgZXhpdDoke2tleX1gLCAgbm9kZV0pOyB9LFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBkZWVwRXF1YWwoXG4gICAgYWN0dWFsVHJhdmVyc2FsLm1hcChhID0+IGAke2FbMF19ICR7YVsxXS50eXBlfWApLFxuICAgIGV4cGVjdGVkVHJhdmVyc2FsLm1hcChhID0+IGAke2FbMF19ICR7YVsxXS50eXBlfWApXG4gICk7XG5cbiAgbGV0IG5vZGVzRXF1YWwgPSB0cnVlO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0dWFsVHJhdmVyc2FsLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFjdHVhbFRyYXZlcnNhbFtpXVsxXSAhPT0gZXhwZWN0ZWRUcmF2ZXJzYWxbaV1bMV0pIHtcbiAgICAgIG5vZGVzRXF1YWwgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIG9rKG5vZGVzRXF1YWwsIFwiQWN0dWFsIG5vZGVzIG1hdGNoIGV4cGVjdGVkIG5vZGVzXCIpO1xufVxuXG5RVW5pdC5tb2R1bGUoJ1tnbGltbWVyLXN5bnRheF0gVHJhdmVyc2FsIC0gdmlzaXRpbmcga2V5cycpO1xuXG50ZXN0KCdCbG9ja3MnLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGB7eyNibG9jayBwYXJhbTEgcGFyYW0yIGtleTE9dmFsdWUga2V5Mj12YWx1ZX19PGI+PC9iPjxiPjwvYj57ey9ibG9ja319YCk7XG5cbiAgdHJhdmVyc2FsRXF1YWwoYXN0LCBbXG4gICAgWydlbnRlcicsICAgICAgICAgICAgYXN0XSxcbiAgICBbJ2VudGVyOmJvZHknLCAgICAgICBhc3RdLFxuICAgIFsnZW50ZXInLCAgICAgICAgICAgIGFzdC5ib2R5WzBdXSxcbiAgICBbJ2VudGVyOnBhdGgnLCAgICAgICBhc3QuYm9keVswXV0sXG4gICAgWydlbnRlcicsICAgICAgICAgICAgYXN0LmJvZHlbMF0ucGF0aF0sXG4gICAgWydleGl0JywgICAgICAgICAgICAgYXN0LmJvZHlbMF0ucGF0aF0sXG4gICAgWydleGl0OnBhdGgnLCAgICAgICAgYXN0LmJvZHlbMF1dLFxuICAgIFsnZW50ZXI6cGFyYW1zJywgICAgIGFzdC5ib2R5WzBdXSxcbiAgICBbJ2VudGVyJywgICAgICAgICAgICBhc3QuYm9keVswXS5wYXJhbXNbMF1dLFxuICAgIFsnZXhpdCcsICAgICAgICAgICAgIGFzdC5ib2R5WzBdLnBhcmFtc1swXV0sXG4gICAgWydlbnRlcicsICAgICAgICAgICAgYXN0LmJvZHlbMF0ucGFyYW1zWzFdXSxcbiAgICBbJ2V4aXQnLCAgICAgICAgICAgICBhc3QuYm9keVswXS5wYXJhbXNbMV1dLFxuICAgIFsnZXhpdDpwYXJhbXMnLCAgICAgIGFzdC5ib2R5WzBdXSxcbiAgICBbJ2VudGVyOmhhc2gnLCAgICAgICBhc3QuYm9keVswXV0sXG4gICAgWydlbnRlcicsICAgICAgICAgICAgYXN0LmJvZHlbMF0uaGFzaF0sXG4gICAgWydlbnRlcjpwYWlycycsICAgICAgYXN0LmJvZHlbMF0uaGFzaF0sXG4gICAgWydlbnRlcicsICAgICAgICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1swXV0sXG4gICAgWydlbnRlcjp2YWx1ZScsICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1swXV0sXG4gICAgWydlbnRlcicsICAgICAgICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1swXS52YWx1ZV0sXG4gICAgWydleGl0JywgICAgICAgICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1swXS52YWx1ZV0sXG4gICAgWydleGl0OnZhbHVlJywgICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1swXV0sXG4gICAgWydleGl0JywgICAgICAgICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1swXV0sXG4gICAgWydlbnRlcicsICAgICAgICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1sxXV0sXG4gICAgWydlbnRlcjp2YWx1ZScsICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1sxXV0sXG4gICAgWydlbnRlcicsICAgICAgICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1sxXS52YWx1ZV0sXG4gICAgWydleGl0JywgICAgICAgICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1sxXS52YWx1ZV0sXG4gICAgWydleGl0OnZhbHVlJywgICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1sxXV0sXG4gICAgWydleGl0JywgICAgICAgICAgICAgYXN0LmJvZHlbMF0uaGFzaC5wYWlyc1sxXV0sXG4gICAgWydleGl0OnBhaXJzJywgICAgICAgYXN0LmJvZHlbMF0uaGFzaF0sXG4gICAgWydleGl0JywgICAgICAgICAgICAgYXN0LmJvZHlbMF0uaGFzaF0sXG4gICAgWydleGl0Omhhc2gnLCAgICAgICAgYXN0LmJvZHlbMF1dLFxuICAgIFsnZW50ZXI6cHJvZ3JhbScsICAgIGFzdC5ib2R5WzBdXSxcbiAgICBbJ2VudGVyJywgICAgICAgICAgICBhc3QuYm9keVswXS5wcm9ncmFtXSxcbiAgICBbJ2VudGVyOmJvZHknLCAgICAgICBhc3QuYm9keVswXS5wcm9ncmFtXSxcbiAgICBbJ2VudGVyJywgICAgICAgICAgICBhc3QuYm9keVswXS5wcm9ncmFtLmJvZHlbMF1dLFxuICAgIFsnZW50ZXI6YXR0cmlidXRlcycsIGFzdC5ib2R5WzBdLnByb2dyYW0uYm9keVswXV0sXG4gICAgWydleGl0OmF0dHJpYnV0ZXMnLCAgYXN0LmJvZHlbMF0ucHJvZ3JhbS5ib2R5WzBdXSxcbiAgICBbJ2VudGVyOm1vZGlmaWVycycsICBhc3QuYm9keVswXS5wcm9ncmFtLmJvZHlbMF1dLFxuICAgIFsnZXhpdDptb2RpZmllcnMnLCAgIGFzdC5ib2R5WzBdLnByb2dyYW0uYm9keVswXV0sXG4gICAgWydlbnRlcjpjaGlsZHJlbicsICAgYXN0LmJvZHlbMF0ucHJvZ3JhbS5ib2R5WzBdXSxcbiAgICBbJ2V4aXQ6Y2hpbGRyZW4nLCAgICBhc3QuYm9keVswXS5wcm9ncmFtLmJvZHlbMF1dLFxuICAgIFsnZW50ZXI6Y29tbWVudHMnLCAgIGFzdC5ib2R5WzBdLnByb2dyYW0uYm9keVswXV0sXG4gICAgWydleGl0OmNvbW1lbnRzJywgICAgYXN0LmJvZHlbMF0ucHJvZ3JhbS5ib2R5WzBdXSxcbiAgICBbJ2V4aXQnLCAgICAgICAgICAgICBhc3QuYm9keVswXS5wcm9ncmFtLmJvZHlbMF1dLFxuICAgIFsnZW50ZXInLCAgICAgICAgICAgIGFzdC5ib2R5WzBdLnByb2dyYW0uYm9keVsxXV0sXG4gICAgWydlbnRlcjphdHRyaWJ1dGVzJywgYXN0LmJvZHlbMF0ucHJvZ3JhbS5ib2R5WzFdXSxcbiAgICBbJ2V4aXQ6YXR0cmlidXRlcycsICBhc3QuYm9keVswXS5wcm9ncmFtLmJvZHlbMV1dLFxuICAgIFsnZW50ZXI6bW9kaWZpZXJzJywgIGFzdC5ib2R5WzBdLnByb2dyYW0uYm9keVsxXV0sXG4gICAgWydleGl0Om1vZGlmaWVycycsICAgYXN0LmJvZHlbMF0ucHJvZ3JhbS5ib2R5WzFdXSxcbiAgICBbJ2VudGVyOmNoaWxkcmVuJywgICBhc3QuYm9keVswXS5wcm9ncmFtLmJvZHlbMV1dLFxuICAgIFsnZXhpdDpjaGlsZHJlbicsICAgIGFzdC5ib2R5WzBdLnByb2dyYW0uYm9keVsxXV0sXG4gICAgWydlbnRlcjpjb21tZW50cycsICAgYXN0LmJvZHlbMF0ucHJvZ3JhbS5ib2R5WzFdXSxcbiAgICBbJ2V4aXQ6Y29tbWVudHMnLCAgICBhc3QuYm9keVswXS5wcm9ncmFtLmJvZHlbMV1dLFxuICAgIFsnZXhpdCcsICAgICAgICAgICAgIGFzdC5ib2R5WzBdLnByb2dyYW0uYm9keVsxXV0sXG4gICAgWydleGl0OmJvZHknLCAgICAgICAgYXN0LmJvZHlbMF0ucHJvZ3JhbV0sXG4gICAgWydleGl0JywgICAgICAgICAgICAgYXN0LmJvZHlbMF0ucHJvZ3JhbV0sXG4gICAgWydleGl0OnByb2dyYW0nLCAgICAgYXN0LmJvZHlbMF1dLFxuICAgIFsnZXhpdCcsICAgICAgICAgICAgIGFzdC5ib2R5WzBdXSxcbiAgICBbJ2V4aXQ6Ym9keScsICAgICAgICBhc3RdLFxuICAgIFsnZXhpdCcsICAgICAgICAgICAgIGFzdF1cbiAgXSk7XG59KTtcbiJdfQ==