enifed('@glimmer/runtime/lib/dom/attribute-managers', ['exports', '@glimmer/runtime/lib/dom/sanitized-values', '@glimmer/runtime/lib/dom/props', '@glimmer/runtime/lib/dom/helper', '@glimmer/runtime/lib/compiled/opcodes/content'], function (exports, _glimmerRuntimeLibDomSanitizedValues, _glimmerRuntimeLibDomProps, _glimmerRuntimeLibDomHelper, _glimmerRuntimeLibCompiledOpcodesContent) {
    'use strict';

    exports.defaultManagers = defaultManagers;
    exports.defaultPropertyManagers = defaultPropertyManagers;
    exports.defaultAttributeManagers = defaultAttributeManagers;
    exports.readDOMAttr = readDOMAttr;

    function _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }

    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }

    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

    function defaultManagers(element, attr, _isTrusting, _namespace) {
        var tagName = element.tagName;
        var isSVG = element.namespaceURI === _glimmerRuntimeLibDomHelper.SVG_NAMESPACE;
        if (isSVG) {
            return defaultAttributeManagers(tagName, attr);
        }

        var _normalizeProperty = _glimmerRuntimeLibDomProps.normalizeProperty(element, attr);

        var type = _normalizeProperty.type;
        var normalized = _normalizeProperty.normalized;

        if (type === 'attr') {
            return defaultAttributeManagers(tagName, normalized);
        } else {
            return defaultPropertyManagers(tagName, normalized);
        }
    }

    function defaultPropertyManagers(tagName, attr) {
        if (_glimmerRuntimeLibDomSanitizedValues.requiresSanitization(tagName, attr)) {
            return new SafePropertyManager(attr);
        }
        if (isUserInputValue(tagName, attr)) {
            return INPUT_VALUE_PROPERTY_MANAGER;
        }
        if (isOptionSelected(tagName, attr)) {
            return OPTION_SELECTED_MANAGER;
        }
        return new PropertyManager(attr);
    }

    function defaultAttributeManagers(tagName, attr) {
        if (_glimmerRuntimeLibDomSanitizedValues.requiresSanitization(tagName, attr)) {
            return new SafeAttributeManager(attr);
        }
        return new AttributeManager(attr);
    }

    function readDOMAttr(element, attr) {
        var isSVG = element.namespaceURI === _glimmerRuntimeLibDomHelper.SVG_NAMESPACE;

        var _normalizeProperty2 = _glimmerRuntimeLibDomProps.normalizeProperty(element, attr);

        var type = _normalizeProperty2.type;
        var normalized = _normalizeProperty2.normalized;

        if (isSVG) {
            return element.getAttribute(normalized);
        }
        if (type === 'attr') {
            return element.getAttribute(normalized);
        }
        {
            return element[normalized];
        }
    }

    ;

    var AttributeManager = (function () {
        function AttributeManager(attr) {
            _classCallCheck(this, AttributeManager);

            this.attr = attr;
        }

        AttributeManager.prototype.setAttribute = function setAttribute(env, element, value, namespace) {
            var dom = env.getAppendOperations();
            var normalizedValue = normalizeAttributeValue(value);
            if (!isAttrRemovalValue(normalizedValue)) {
                dom.setAttribute(element, this.attr, normalizedValue, namespace);
            }
        };

        AttributeManager.prototype.updateAttribute = function updateAttribute(env, element, value, namespace) {
            if (value === null || value === undefined || value === false) {
                if (namespace) {
                    env.getDOM().removeAttributeNS(element, namespace, this.attr);
                } else {
                    env.getDOM().removeAttribute(element, this.attr);
                }
            } else {
                this.setAttribute(env, element, value);
            }
        };

        return AttributeManager;
    })();

    exports.AttributeManager = AttributeManager;

    ;

    var PropertyManager = (function (_AttributeManager) {
        _inherits(PropertyManager, _AttributeManager);

        function PropertyManager() {
            _classCallCheck(this, PropertyManager);

            _AttributeManager.apply(this, arguments);
        }

        PropertyManager.prototype.setAttribute = function setAttribute(_env, element, value, _namespace) {
            if (!isAttrRemovalValue(value)) {
                element[this.attr] = value;
            }
        };

        PropertyManager.prototype.removeAttribute = function removeAttribute(env, element, namespace) {
            // TODO this sucks but to preserve properties first and to meet current
            // semantics we must do this.
            var attr = this.attr;

            if (namespace) {
                env.getDOM().removeAttributeNS(element, namespace, attr);
            } else {
                env.getDOM().removeAttribute(element, attr);
            }
        };

        PropertyManager.prototype.updateAttribute = function updateAttribute(env, element, value, namespace) {
            // ensure the property is always updated
            element[this.attr] = value;
            if (isAttrRemovalValue(value)) {
                this.removeAttribute(env, element, namespace);
            }
        };

        return PropertyManager;
    })(AttributeManager);

    exports.PropertyManager = PropertyManager;

    ;
    function normalizeAttributeValue(value) {
        if (value === false || value === undefined || value === null) {
            return null;
        }
        if (value === true) {
            return '';
        }
        // onclick function etc in SSR
        if (typeof value === 'function') {
            return null;
        }
        return String(value);
    }
    function isAttrRemovalValue(value) {
        return value === null || value === undefined;
    }

    var SafePropertyManager = (function (_PropertyManager) {
        _inherits(SafePropertyManager, _PropertyManager);

        function SafePropertyManager() {
            _classCallCheck(this, SafePropertyManager);

            _PropertyManager.apply(this, arguments);
        }

        SafePropertyManager.prototype.setAttribute = function setAttribute(env, element, value) {
            _PropertyManager.prototype.setAttribute.call(this, env, element, _glimmerRuntimeLibDomSanitizedValues.sanitizeAttributeValue(env, element, this.attr, value));
        };

        SafePropertyManager.prototype.updateAttribute = function updateAttribute(env, element, value) {
            _PropertyManager.prototype.updateAttribute.call(this, env, element, _glimmerRuntimeLibDomSanitizedValues.sanitizeAttributeValue(env, element, this.attr, value));
        };

        return SafePropertyManager;
    })(PropertyManager);

    function isUserInputValue(tagName, attribute) {
        return (tagName === 'INPUT' || tagName === 'TEXTAREA') && attribute === 'value';
    }

    var InputValuePropertyManager = (function (_AttributeManager2) {
        _inherits(InputValuePropertyManager, _AttributeManager2);

        function InputValuePropertyManager() {
            _classCallCheck(this, InputValuePropertyManager);

            _AttributeManager2.apply(this, arguments);
        }

        InputValuePropertyManager.prototype.setAttribute = function setAttribute(_env, element, value) {
            var input = element;
            input.value = _glimmerRuntimeLibCompiledOpcodesContent.normalizeTextValue(value);
        };

        InputValuePropertyManager.prototype.updateAttribute = function updateAttribute(_env, element, value) {
            var input = element;
            var currentValue = input.value;
            var normalizedValue = _glimmerRuntimeLibCompiledOpcodesContent.normalizeTextValue(value);
            if (currentValue !== normalizedValue) {
                input.value = normalizedValue;
            }
        };

        return InputValuePropertyManager;
    })(AttributeManager);

    var INPUT_VALUE_PROPERTY_MANAGER = new InputValuePropertyManager('value');
    exports.INPUT_VALUE_PROPERTY_MANAGER = INPUT_VALUE_PROPERTY_MANAGER;
    function isOptionSelected(tagName, attribute) {
        return tagName === 'OPTION' && attribute === 'selected';
    }

    var OptionSelectedManager = (function (_PropertyManager2) {
        _inherits(OptionSelectedManager, _PropertyManager2);

        function OptionSelectedManager() {
            _classCallCheck(this, OptionSelectedManager);

            _PropertyManager2.apply(this, arguments);
        }

        OptionSelectedManager.prototype.setAttribute = function setAttribute(_env, element, value) {
            if (value !== null && value !== undefined && value !== false) {
                var option = element;
                option.selected = true;
            }
        };

        OptionSelectedManager.prototype.updateAttribute = function updateAttribute(_env, element, value) {
            var option = element;
            if (value) {
                option.selected = true;
            } else {
                option.selected = false;
            }
        };

        return OptionSelectedManager;
    })(PropertyManager);

    var OPTION_SELECTED_MANAGER = new OptionSelectedManager('selected');
    exports.OPTION_SELECTED_MANAGER = OPTION_SELECTED_MANAGER;

    var SafeAttributeManager = (function (_AttributeManager3) {
        _inherits(SafeAttributeManager, _AttributeManager3);

        function SafeAttributeManager() {
            _classCallCheck(this, SafeAttributeManager);

            _AttributeManager3.apply(this, arguments);
        }

        SafeAttributeManager.prototype.setAttribute = function setAttribute(env, element, value) {
            _AttributeManager3.prototype.setAttribute.call(this, env, element, _glimmerRuntimeLibDomSanitizedValues.sanitizeAttributeValue(env, element, this.attr, value));
        };

        SafeAttributeManager.prototype.updateAttribute = function updateAttribute(env, element, value, _namespace) {
            _AttributeManager3.prototype.updateAttribute.call(this, env, element, _glimmerRuntimeLibDomSanitizedValues.sanitizeAttributeValue(env, element, this.attr, value));
        };

        return SafeAttributeManager;
    })(AttributeManager);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkBnbGltbWVyL3J1bnRpbWUvbGliL2RvbS9hdHRyaWJ1dGUtbWFuYWdlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFZTSxhQUFBLGVBQUEsQ0FBMEIsT0FBdUIsRUFBRSxJQUFZLEVBQUUsV0FBb0IsRUFBRSxVQUEwQixFQUFBO0FBQ3JILFlBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDOUIsWUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLFlBQVksaUNBTnpCLGFBQWEsQUFNOEIsQ0FBQztBQUVuRCxZQUFJLEtBQUssRUFBRTtBQUNULG1CQUFPLHdCQUF3QixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNoRDs7aUNBRTBCLDJCQWJwQixpQkFBaUIsQ0FhcUIsT0FBTyxFQUFFLElBQUksQ0FBQzs7WUFBckQsSUFBSSxzQkFBSixJQUFJO1lBQUUsVUFBVSxzQkFBVixVQUFVOztBQUV0QixZQUFJLElBQUksS0FBSyxNQUFNLEVBQUU7QUFDbkIsbUJBQU8sd0JBQXdCLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1NBQ3RELE1BQU07QUFDTCxtQkFBTyx1QkFBdUIsQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUM7U0FDckQ7S0FDRjs7QUFFSyxhQUFBLHVCQUFBLENBQWtDLE9BQWUsRUFBRSxJQUFZLEVBQUE7QUFDbkUsWUFBSSxxQ0F6Qkosb0JBQW9CLENBeUJLLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRTtBQUN2QyxtQkFBTyxJQUFJLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3RDO0FBRUQsWUFBSSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUU7QUFDbkMsbUJBQU8sNEJBQTRCLENBQUM7U0FDckM7QUFFRCxZQUFJLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsRUFBRTtBQUNuQyxtQkFBTyx1QkFBdUIsQ0FBQztTQUNoQztBQUVE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Q0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO2FBQ3pCO1NBQ0Y7O2VBaEJILHFCQUE0QjtPQUFRLGVBQWU7O0FBbUI1QyxRQUFNLHVCQUF1QixHQUFxQixJQUFJLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxDQUFDOzs7UUFFL0Ysb0JBQTJCO2tCQUEzQixvQkFBMkI7O2lCQUEzQixvQkFBMkI7a0NBQTNCLG9CQUEyQjs7Ozs7QUFBM0IsNEJBQTJCLFdBQ3pCLFlBQVksR0FBQSxzQkFBQyxHQUFnQixFQUFFLE9BQWdCLEVBQUUsS0FBYSxFQUFBO0FBQzVELHlDQUFNLFlBQVksS0FBQSxPQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUscUNBbk1uQyxzQkFBc0IsQ0FtTW9DLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1NBQzFGOztBQUhILDRCQUEyQixXQUt6QixlQUFlLEdBQUEseUJBQUMsR0FBZ0IsRUFBRSxPQUFnQixFQUFFLEtBQWEsRUFBRSxVQUF5QixFQUFBO0FBQzFGLHlDQUFNLGVBQWUsS0FBQSxPQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUscUNBdk10QyxzQkFBc0IsQ0F1TXVDLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1NBQzdGOztlQVBILG9CQUEyQjtPQUFRLGdCQUFnQiIsImZpbGUiOiJhdHRyaWJ1dGUtbWFuYWdlcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGSVhNRSwgT3BhcXVlLCBPcHRpb24sIE1heWJlIH0gZnJvbSAnQGdsaW1tZXIvdXRpbCc7XG5pbXBvcnQgeyBET01OYW1lc3BhY2UgfSBmcm9tICcuL2hlbHBlcic7XG5pbXBvcnQgKiBhcyBTaW1wbGUgZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7XG4gIHNhbml0aXplQXR0cmlidXRlVmFsdWUsXG4gIHJlcXVpcmVzU2FuaXRpemF0aW9uXG59IGZyb20gJy4vc2FuaXRpemVkLXZhbHVlcyc7XG5pbXBvcnQgeyBub3JtYWxpemVQcm9wZXJ0eSB9IGZyb20gJy4vcHJvcHMnO1xuaW1wb3J0IHsgU1ZHX05BTUVTUEFDRSB9IGZyb20gJy4vaGVscGVyJztcbmltcG9ydCB7IG5vcm1hbGl6ZVRleHRWYWx1ZSB9IGZyb20gJy4uL2NvbXBpbGVkL29wY29kZXMvY29udGVudCc7XG5pbXBvcnQgeyBFbnZpcm9ubWVudCB9IGZyb20gJy4uL2Vudmlyb25tZW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRNYW5hZ2VycyhlbGVtZW50OiBTaW1wbGUuRWxlbWVudCwgYXR0cjogc3RyaW5nLCBfaXNUcnVzdGluZzogYm9vbGVhbiwgX25hbWVzcGFjZTogT3B0aW9uPHN0cmluZz4pOiBBdHRyaWJ1dGVNYW5hZ2VyIHtcbiAgbGV0IHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWU7XG4gIGxldCBpc1NWRyA9IGVsZW1lbnQubmFtZXNwYWNlVVJJID09PSBTVkdfTkFNRVNQQUNFO1xuXG4gIGlmIChpc1NWRykge1xuICAgIHJldHVybiBkZWZhdWx0QXR0cmlidXRlTWFuYWdlcnModGFnTmFtZSwgYXR0cik7XG4gIH1cblxuICBsZXQgeyB0eXBlLCBub3JtYWxpemVkIH0gPSBub3JtYWxpemVQcm9wZXJ0eShlbGVtZW50LCBhdHRyKTtcblxuICBpZiAodHlwZSA9PT0gJ2F0dHInKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRBdHRyaWJ1dGVNYW5hZ2Vycyh0YWdOYW1lLCBub3JtYWxpemVkKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGVmYXVsdFByb3BlcnR5TWFuYWdlcnModGFnTmFtZSwgbm9ybWFsaXplZCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRQcm9wZXJ0eU1hbmFnZXJzKHRhZ05hbWU6IHN0cmluZywgYXR0cjogc3RyaW5nKTogQXR0cmlidXRlTWFuYWdlciB7XG4gIGlmIChyZXF1aXJlc1Nhbml0aXphdGlvbih0YWdOYW1lLCBhdHRyKSkge1xuICAgIHJldHVybiBuZXcgU2FmZVByb3BlcnR5TWFuYWdlcihhdHRyKTtcbiAgfVxuXG4gIGlmIChpc1VzZXJJbnB1dFZhbHVlKHRhZ05hbWUsIGF0dHIpKSB7XG4gICAgcmV0dXJuIElOUFVUX1ZBTFVFX1BST1BFUlRZX01BTkFHRVI7XG4gIH1cblxuICBpZiAoaXNPcHRpb25TZWxlY3RlZCh0YWdOYW1lLCBhdHRyKSkge1xuICAgIHJldHVybiBPUFRJT05fU0VMRUNURURfTUFOQUdFUjtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvcGVydHlNYW5hZ2VyKGF0dHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEF0dHJpYnV0ZU1hbmFnZXJzKHRhZ05hbWU6IHN0cmluZywgYXR0cjogc3RyaW5nKTogQXR0cmlidXRlTWFuYWdlciB7XG4gIGlmIChyZXF1aXJlc1Nhbml0aXphdGlvbih0YWdOYW1lLCBhdHRyKSkge1xuICAgIHJldHVybiBuZXcgU2FmZUF0dHJpYnV0ZU1hbmFnZXIoYXR0cik7XG4gIH1cblxuICByZXR1cm4gbmV3IEF0dHJpYnV0ZU1hbmFnZXIoYXR0cik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkRE9NQXR0cihlbGVtZW50OiBFbGVtZW50LCBhdHRyOiBzdHJpbmcpIHtcbiAgbGV0IGlzU1ZHID0gZWxlbWVudC5uYW1lc3BhY2VVUkkgPT09IFNWR19OQU1FU1BBQ0U7XG4gIGxldCB7IHR5cGUsIG5vcm1hbGl6ZWQgfSA9IG5vcm1hbGl6ZVByb3BlcnR5KGVsZW1lbnQsIGF0dHIpO1xuXG4gIGlmIChpc1NWRykge1xuICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShub3JtYWxpemVkKTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnYXR0cicpIHtcbiAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUobm9ybWFsaXplZCk7XG4gIH0ge1xuICAgIHJldHVybiBlbGVtZW50W25vcm1hbGl6ZWRdO1xuICB9XG59O1xuXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBhdHRyOiBzdHJpbmcpIHt9XG5cbiAgc2V0QXR0cmlidXRlKGVudjogRW52aXJvbm1lbnQsIGVsZW1lbnQ6IFNpbXBsZS5FbGVtZW50LCB2YWx1ZTogT3BhcXVlLCBuYW1lc3BhY2U/OiBET01OYW1lc3BhY2UpIHtcbiAgICBsZXQgZG9tID0gZW52LmdldEFwcGVuZE9wZXJhdGlvbnMoKTtcbiAgICBsZXQgbm9ybWFsaXplZFZhbHVlID0gbm9ybWFsaXplQXR0cmlidXRlVmFsdWUodmFsdWUpO1xuXG4gICAgaWYgKCFpc0F0dHJSZW1vdmFsVmFsdWUobm9ybWFsaXplZFZhbHVlKSkge1xuICAgICAgZG9tLnNldEF0dHJpYnV0ZShlbGVtZW50LCB0aGlzLmF0dHIsIG5vcm1hbGl6ZWRWYWx1ZSwgbmFtZXNwYWNlKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVBdHRyaWJ1dGUoZW52OiBFbnZpcm9ubWVudCwgZWxlbWVudDogRWxlbWVudCwgdmFsdWU6IE9wYXF1ZSwgbmFtZXNwYWNlPzogRE9NTmFtZXNwYWNlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgIGVudi5nZXRET00oKS5yZW1vdmVBdHRyaWJ1dGVOUyhlbGVtZW50LCBuYW1lc3BhY2UsIHRoaXMuYXR0cik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnYuZ2V0RE9NKCkucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsIHRoaXMuYXR0cik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGVudiwgZWxlbWVudCwgdmFsdWUpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNsYXNzIFByb3BlcnR5TWFuYWdlciBleHRlbmRzIEF0dHJpYnV0ZU1hbmFnZXIge1xuICBzZXRBdHRyaWJ1dGUoX2VudjogRW52aXJvbm1lbnQsIGVsZW1lbnQ6IFNpbXBsZS5FbGVtZW50LCB2YWx1ZTogT3BhcXVlLCBfbmFtZXNwYWNlPzogRE9NTmFtZXNwYWNlKSB7XG4gICAgaWYgKCFpc0F0dHJSZW1vdmFsVmFsdWUodmFsdWUpKSB7XG4gICAgICBlbGVtZW50W3RoaXMuYXR0cl0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVtb3ZlQXR0cmlidXRlKGVudjogRW52aXJvbm1lbnQsIGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWVzcGFjZT86IERPTU5hbWVzcGFjZSkge1xuICAgIC8vIFRPRE8gdGhpcyBzdWNrcyBidXQgdG8gcHJlc2VydmUgcHJvcGVydGllcyBmaXJzdCBhbmQgdG8gbWVldCBjdXJyZW50XG4gICAgLy8gc2VtYW50aWNzIHdlIG11c3QgZG8gdGhpcy5cbiAgICBsZXQgeyBhdHRyIH0gPSB0aGlzO1xuICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgIGVudi5nZXRET00oKS5yZW1vdmVBdHRyaWJ1dGVOUyhlbGVtZW50LCBuYW1lc3BhY2UsIGF0dHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnYuZ2V0RE9NKCkucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsIGF0dHIpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUF0dHJpYnV0ZShlbnY6IEVudmlyb25tZW50LCBlbGVtZW50OiBFbGVtZW50LCB2YWx1ZTogT3BhcXVlLCBuYW1lc3BhY2U/OiBET01OYW1lc3BhY2UpIHtcbiAgICAvLyBlbnN1cmUgdGhlIHByb3BlcnR5IGlzIGFsd2F5cyB1cGRhdGVkXG4gICAgZWxlbWVudFt0aGlzLmF0dHJdID0gdmFsdWU7XG5cbiAgICBpZiAoaXNBdHRyUmVtb3ZhbFZhbHVlKHZhbHVlKSkge1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoZW52LCBlbGVtZW50LCBuYW1lc3BhY2UpO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gbm9ybWFsaXplQXR0cmlidXRlVmFsdWUodmFsdWU6IE9wYXF1ZSk6IE9wdGlvbjxzdHJpbmc+IHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIC8vIG9uY2xpY2sgZnVuY3Rpb24gZXRjIGluIFNTUlxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gaXNBdHRyUmVtb3ZhbFZhbHVlPFQ+KHZhbHVlOiBNYXliZTxUPik6IHZhbHVlIGlzIChudWxsIHwgdW5kZWZpbmVkKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xufVxuXG5jbGFzcyBTYWZlUHJvcGVydHlNYW5hZ2VyIGV4dGVuZHMgUHJvcGVydHlNYW5hZ2VyIHtcbiAgc2V0QXR0cmlidXRlKGVudjogRW52aXJvbm1lbnQsIGVsZW1lbnQ6IFNpbXBsZS5FbGVtZW50LCB2YWx1ZTogT3BhcXVlKSB7XG4gICAgc3VwZXIuc2V0QXR0cmlidXRlKGVudiwgZWxlbWVudCwgc2FuaXRpemVBdHRyaWJ1dGVWYWx1ZShlbnYsIGVsZW1lbnQsIHRoaXMuYXR0ciwgdmFsdWUpKTtcbiAgfVxuXG4gIHVwZGF0ZUF0dHJpYnV0ZShlbnY6IEVudmlyb25tZW50LCBlbGVtZW50OiBFbGVtZW50LCB2YWx1ZTogT3BhcXVlKSB7XG4gICAgc3VwZXIudXBkYXRlQXR0cmlidXRlKGVudiwgZWxlbWVudCwgc2FuaXRpemVBdHRyaWJ1dGVWYWx1ZShlbnYsIGVsZW1lbnQsIHRoaXMuYXR0ciwgdmFsdWUpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1VzZXJJbnB1dFZhbHVlKHRhZ05hbWU6IHN0cmluZywgYXR0cmlidXRlOiBzdHJpbmcpIHtcbiAgcmV0dXJuICh0YWdOYW1lID09PSAnSU5QVVQnIHx8IHRhZ05hbWUgPT09ICdURVhUQVJFQScpICYmIGF0dHJpYnV0ZSA9PT0gJ3ZhbHVlJztcbn1cblxuY2xhc3MgSW5wdXRWYWx1ZVByb3BlcnR5TWFuYWdlciBleHRlbmRzIEF0dHJpYnV0ZU1hbmFnZXIge1xuICBzZXRBdHRyaWJ1dGUoX2VudjogRW52aXJvbm1lbnQsIGVsZW1lbnQ6IFNpbXBsZS5FbGVtZW50LCB2YWx1ZTogT3BhcXVlKSB7XG4gICAgbGV0IGlucHV0ID0gZWxlbWVudCBhcyBGSVhNRTxIVE1MSW5wdXRFbGVtZW50LCBcIlRoaXMgYnJlYWtzIFNTUlwiPjtcbiAgICBpbnB1dC52YWx1ZSA9IG5vcm1hbGl6ZVRleHRWYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICB1cGRhdGVBdHRyaWJ1dGUoX2VudjogRW52aXJvbm1lbnQsIGVsZW1lbnQ6IEVsZW1lbnQsIHZhbHVlOiBPcGFxdWUpIHtcbiAgICBsZXQgaW5wdXQgPSA8SFRNTElucHV0RWxlbWVudD5lbGVtZW50O1xuICAgIGxldCBjdXJyZW50VmFsdWUgPSBpbnB1dC52YWx1ZTtcbiAgICBsZXQgbm9ybWFsaXplZFZhbHVlID0gbm9ybWFsaXplVGV4dFZhbHVlKHZhbHVlKTtcbiAgICBpZiAoY3VycmVudFZhbHVlICE9PSBub3JtYWxpemVkVmFsdWUpIHtcbiAgICAgIGlucHV0LnZhbHVlID0gbm9ybWFsaXplZFZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgSU5QVVRfVkFMVUVfUFJPUEVSVFlfTUFOQUdFUjogQXR0cmlidXRlTWFuYWdlciA9IG5ldyBJbnB1dFZhbHVlUHJvcGVydHlNYW5hZ2VyKCd2YWx1ZScpO1xuXG5mdW5jdGlvbiBpc09wdGlvblNlbGVjdGVkKHRhZ05hbWU6IHN0cmluZywgYXR0cmlidXRlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHRhZ05hbWUgPT09ICdPUFRJT04nICYmIGF0dHJpYnV0ZSA9PT0gJ3NlbGVjdGVkJztcbn1cblxuY2xhc3MgT3B0aW9uU2VsZWN0ZWRNYW5hZ2VyIGV4dGVuZHMgUHJvcGVydHlNYW5hZ2VyIHtcbiAgc2V0QXR0cmlidXRlKF9lbnY6IEVudmlyb25tZW50LCBlbGVtZW50OiBTaW1wbGUuRWxlbWVudCwgdmFsdWU6IE9wYXF1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBmYWxzZSkge1xuICAgICAgbGV0IG9wdGlvbiA9IDxIVE1MT3B0aW9uRWxlbWVudD5lbGVtZW50O1xuICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVBdHRyaWJ1dGUoX2VudjogRW52aXJvbm1lbnQsIGVsZW1lbnQ6IEVsZW1lbnQsIHZhbHVlOiBPcGFxdWUpIHtcbiAgICBsZXQgb3B0aW9uID0gPEhUTUxPcHRpb25FbGVtZW50PmVsZW1lbnQ7XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgT1BUSU9OX1NFTEVDVEVEX01BTkFHRVI6IEF0dHJpYnV0ZU1hbmFnZXIgPSBuZXcgT3B0aW9uU2VsZWN0ZWRNYW5hZ2VyKCdzZWxlY3RlZCcpO1xuXG5jbGFzcyBTYWZlQXR0cmlidXRlTWFuYWdlciBleHRlbmRzIEF0dHJpYnV0ZU1hbmFnZXIge1xuICBzZXRBdHRyaWJ1dGUoZW52OiBFbnZpcm9ubWVudCwgZWxlbWVudDogRWxlbWVudCwgdmFsdWU6IE9wYXF1ZSkge1xuICAgIHN1cGVyLnNldEF0dHJpYnV0ZShlbnYsIGVsZW1lbnQsIHNhbml0aXplQXR0cmlidXRlVmFsdWUoZW52LCBlbGVtZW50LCB0aGlzLmF0dHIsIHZhbHVlKSk7XG4gIH1cblxuICB1cGRhdGVBdHRyaWJ1dGUoZW52OiBFbnZpcm9ubWVudCwgZWxlbWVudDogRWxlbWVudCwgdmFsdWU6IE9wYXF1ZSwgX25hbWVzcGFjZT86IERPTU5hbWVzcGFjZSkge1xuICAgIHN1cGVyLnVwZGF0ZUF0dHJpYnV0ZShlbnYsIGVsZW1lbnQsIHNhbml0aXplQXR0cmlidXRlVmFsdWUoZW52LCBlbGVtZW50LCB0aGlzLmF0dHIsIHZhbHVlKSk7XG4gIH1cbn1cbiJdfQ==