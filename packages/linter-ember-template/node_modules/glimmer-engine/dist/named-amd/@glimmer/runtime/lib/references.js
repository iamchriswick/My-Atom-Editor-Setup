enifed('@glimmer/runtime/lib/references', ['exports', '@glimmer/reference'], function (exports, _glimmerReference) {
    'use strict';

    function _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }

    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

    function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }

    var PrimitiveReference = (function (_ConstReference) {
        _inherits(PrimitiveReference, _ConstReference);

        function PrimitiveReference(value) {
            _classCallCheck(this, PrimitiveReference);

            _ConstReference.call(this, value);
        }

        PrimitiveReference.create = function create(value) {
            if (value === undefined) {
                return UNDEFINED_REFERENCE;
            } else if (value === null) {
                return NULL_REFERENCE;
            } else if (value === true) {
                return TRUE_REFERENCE;
            } else if (value === false) {
                return FALSE_REFERENCE;
            } else if (typeof value === 'number') {
                return new ValueReference(value);
            } else {
                return new StringReference(value);
            }
        };

        PrimitiveReference.prototype.get = function get(_key) {
            return UNDEFINED_REFERENCE;
        };

        return PrimitiveReference;
    })(_glimmerReference.ConstReference);

    exports.PrimitiveReference = PrimitiveReference;

    var StringReference = (function (_PrimitiveReference) {
        _inherits(StringReference, _PrimitiveReference);

        function StringReference() {
            _classCallCheck(this, StringReference);

            _PrimitiveReference.apply(this, arguments);
            this.lengthReference = null;
        }

        StringReference.prototype.get = function get(key) {
            if (key === 'length') {
                var lengthReference = this.lengthReference;

                if (lengthReference === null) {
                    lengthReference = this.lengthReference = new ValueReference(this.inner.length);
                }
                return lengthReference;
            } else {
                return _PrimitiveReference.prototype.get.call(this, key);
            }
        };

        return StringReference;
    })(PrimitiveReference);

    var ValueReference = (function (_PrimitiveReference2) {
        _inherits(ValueReference, _PrimitiveReference2);

        function ValueReference(value) {
            _classCallCheck(this, ValueReference);

            _PrimitiveReference2.call(this, value);
        }

        return ValueReference;
    })(PrimitiveReference);

    var UNDEFINED_REFERENCE = new ValueReference(undefined);
    exports.UNDEFINED_REFERENCE = UNDEFINED_REFERENCE;
    var NULL_REFERENCE = new ValueReference(null);
    exports.NULL_REFERENCE = NULL_REFERENCE;
    var TRUE_REFERENCE = new ValueReference(true);
    var FALSE_REFERENCE = new ValueReference(false);

    var ConditionalReference = (function () {
        function ConditionalReference(inner) {
            _classCallCheck(this, ConditionalReference);

            this.inner = inner;
            this.tag = inner.tag;
        }

        ConditionalReference.prototype.value = function value() {
            return this.toBool(this.inner.value());
        };

        ConditionalReference.prototype.toBool = function toBool(value) {
            return !!value;
        };

        return ConditionalReference;
    })();

    exports.ConditionalReference = ConditionalReference;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkBnbGltbWVyL3J1bnRpbWUvbGliL3JlZmVyZW5jZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O1FBS00sa0JBQStDO2tCQUEvQyxrQkFBK0M7O0FBaUJuRCxpQkFqQkksa0JBQStDLENBaUI3QixLQUFRLEVBQUE7a0NBakIxQixrQkFBK0M7O0FBa0JqRCx1Q0FBTSxLQUFLLENBQUMsQ0FBQztTQUNkOztBQW5CRywwQkFBK0MsQ0FDNUMsTUFBTSxHQUFBLGdCQUFzQixLQUFRLEVBQUE7QUFDekMsZ0JBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtBQUN2Qix1QkFBTyxtQkFBNEMsQ0FBQzthQUNyRCxNQUFNLElBQUksS0FBSyxLQUFLLElBQUksRUFBRTtBQUN6Qix1QkFBTyxjQUF1QyxDQUFDO2FBQ2hELE1BQU0sSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFO0FBQ3pCLHVCQUFPLGNBQXVDLENBQUM7YUFDaEQsTUFBTSxJQUFJLEtBQUssS0FBSyxLQUFLLEVBQUU7QUFDMUIsdUJBQU8sZUFBd0MsQ0FBQzthQUNqRCxNQUFNLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO0FBQ3BDLHVCQUFPLElBQUksY0FBYyxDQUFDLEtBQWUsQ0FBMEIsQ0FBQzthQUNyRSxNQUFNO0FBQ0wsdUJBQU8sSUFBSSxlQUFlLENBQUMsS0FBZSxDQUFpQyxDQUFDO2FBQzdFO1NBQ0Y7O0FBZkcsMEJBQStDLFdBcUJuRCxHQUFHLEdBQUEsYUFBQyxJQUFZLEVBQUE7QUFDZCxtQkFBTyxtQkFBbUIsQ0FBQztTQUM1Qjs7ZUF2Qkcsa0JBQStDO3lCQUwvQixjQUFjOzs7O1FBK0JwQyxlQUFzQjtrQkFBdEIsZUFBc0I7O0FBQXRCLGlCQUFBLGVBQXNCLEdBQXRCO2tDQUFBLGVBQXNCOztBQ0FkLDRDQUFTLFNBQVMsQ0FBQyxDQUFDO0FEQ2xCLGdCQUFBLENBQUEsZUFBZSxHQUF1QyxJQUFJLENBQUM7U0FlcEU7O0FBaEJELHVCQUFzQixXQUdwQixHQUFHLEdBQUEsYUFBQyxHQUFXLEVBQUE7QUFDYixnQkFBSSxHQUFHLEtBQUssUUFBUSxFQUFFO29CQUNkLGVBQWUsR0FBSyxJQUFJLENBQXhCLGVBQWU7O0FBRXJCLG9CQUFJLGVBQWUsS0FBSyxJQUFJLEVBQUU7QUFDNUIsbUNBQWUsR0FBRyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQ2hGO0FBRUQsdUJBQU8sZUFBZSxDQUFDO2FBQ3hCLE1BQU07QUFDTCx1QkFBTyw4QkFBTSxHQUFHLEtBQUEsT0FBQyxHQUFHLENBQUMsQ0FBQzthQUN2QjtTQUNGOztlQWZILGVBQXNCO09BQVEsa0JBQTBCOztRQW9CeEQsY0FBc0M7a0JBQXRDLGNBQXNDOztBQUNwQyxpQkFERixjQUFzQyxDQUN4QixLQUFRLEVBQUE7a0NBRHRCLGNBQXNDOztBQUVsQyw0Q0FBTSxLQUFLLENBQUMsQ0FBQztTQUNkOztlQUhILGNBQXNDO09BQVEsa0JBQXFCOztBQU01RCxRQUFNLG1CQUFtQixHQUFrQyxJQUFJLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFDekYsUUFBTSxjQUFjLEdBQTZCLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUNqRixRQUFNLGNBQWMsR0FBZ0MsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDN0UsUUFBTSxlQUFlLEdBQWdDLElBQUksY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDOztRQUV6RSxvQkFBQTtBQUdKLGlCQUhJLG9CQUFBLENBR2dCLEtBQXdCLEVBQUE7a0NBSHhDLG9CQUFBOztBQUdnQixnQkFBQSxDQUFBLEtBQUssR0FBTCxLQUFLLENBQW1CO0FBQzFDLGdCQUFJLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUM7U0FDdEI7O0FBTEcsNEJBQUEsV0FPSixLQUFLLEdBQUEsaUJBQUE7QUFDSCxtQkFBTyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztTQUN4Qzs7QUFURyw0QkFBQSxXQVdNLE1BQU0sR0FBQSxnQkFBQyxLQUFhLEVBQUE7QUFDNUIsbUJBQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQztTQUNoQjs7ZUFiRyxvQkFBQSIsImZpbGUiOiJyZWZlcmVuY2VzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmV2aXNpb25UYWcsIENvbnN0UmVmZXJlbmNlLCBQYXRoUmVmZXJlbmNlLCBSZWZlcmVuY2UgfSBmcm9tICdAZ2xpbW1lci9yZWZlcmVuY2UnO1xuaW1wb3J0IHsgT3B0aW9uLCBPcGFxdWUgfSBmcm9tICdAZ2xpbW1lci91dGlsJztcblxuZXhwb3J0IHR5cGUgUHJpbWl0aXZlID0gdW5kZWZpbmVkIHwgbnVsbCB8IGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmc7XG5cbmV4cG9ydCBjbGFzcyBQcmltaXRpdmVSZWZlcmVuY2U8VCBleHRlbmRzIFByaW1pdGl2ZT4gZXh0ZW5kcyBDb25zdFJlZmVyZW5jZTxUPiBpbXBsZW1lbnRzIFBhdGhSZWZlcmVuY2U8VD4ge1xuICBzdGF0aWMgY3JlYXRlPFQgZXh0ZW5kcyBQcmltaXRpdmU+KHZhbHVlOiBUKTogUHJpbWl0aXZlUmVmZXJlbmNlPFQ+IHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIFVOREVGSU5FRF9SRUZFUkVOQ0UgYXMgUHJpbWl0aXZlUmVmZXJlbmNlPFQ+O1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBOVUxMX1JFRkVSRU5DRSBhcyBQcmltaXRpdmVSZWZlcmVuY2U8VD47XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIFRSVUVfUkVGRVJFTkNFIGFzIFByaW1pdGl2ZVJlZmVyZW5jZTxUPjtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIEZBTFNFX1JFRkVSRU5DRSBhcyBQcmltaXRpdmVSZWZlcmVuY2U8VD47XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gbmV3IFZhbHVlUmVmZXJlbmNlKHZhbHVlIGFzIG51bWJlcikgYXMgUHJpbWl0aXZlUmVmZXJlbmNlPFQ+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFN0cmluZ1JlZmVyZW5jZSh2YWx1ZSBhcyBzdHJpbmcpIGFzIGFueSBhcyBQcmltaXRpdmVSZWZlcmVuY2U8VD47XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHZhbHVlOiBUKSB7XG4gICAgc3VwZXIodmFsdWUpO1xuICB9XG5cbiAgZ2V0KF9rZXk6IHN0cmluZyk6IFByaW1pdGl2ZVJlZmVyZW5jZTxQcmltaXRpdmU+IHtcbiAgICByZXR1cm4gVU5ERUZJTkVEX1JFRkVSRU5DRTtcbiAgfVxufVxuXG5jbGFzcyBTdHJpbmdSZWZlcmVuY2UgZXh0ZW5kcyBQcmltaXRpdmVSZWZlcmVuY2U8c3RyaW5nPiB7XG4gIHByaXZhdGUgbGVuZ3RoUmVmZXJlbmNlOiBPcHRpb248UHJpbWl0aXZlUmVmZXJlbmNlPG51bWJlcj4+ID0gbnVsbDtcblxuICBnZXQoa2V5OiBzdHJpbmcpOiBQcmltaXRpdmVSZWZlcmVuY2U8UHJpbWl0aXZlPiB7XG4gICAgaWYgKGtleSA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgIGxldCB7IGxlbmd0aFJlZmVyZW5jZSB9ID0gdGhpcztcblxuICAgICAgaWYgKGxlbmd0aFJlZmVyZW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBsZW5ndGhSZWZlcmVuY2UgPSB0aGlzLmxlbmd0aFJlZmVyZW5jZSA9IG5ldyBWYWx1ZVJlZmVyZW5jZSh0aGlzLmlubmVyLmxlbmd0aCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsZW5ndGhSZWZlcmVuY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdXBlci5nZXQoa2V5KTtcbiAgICB9XG4gIH1cbn1cblxudHlwZSBWYWx1ZSA9IHVuZGVmaW5lZCB8IG51bGwgfCBudW1iZXIgfCBib29sZWFuO1xuXG5jbGFzcyBWYWx1ZVJlZmVyZW5jZTxUIGV4dGVuZHMgVmFsdWU+IGV4dGVuZHMgUHJpbWl0aXZlUmVmZXJlbmNlPFQ+IHtcbiAgY29uc3RydWN0b3IodmFsdWU6IFQpIHtcbiAgICBzdXBlcih2YWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFVOREVGSU5FRF9SRUZFUkVOQ0U6IFByaW1pdGl2ZVJlZmVyZW5jZTx1bmRlZmluZWQ+ID0gbmV3IFZhbHVlUmVmZXJlbmNlKHVuZGVmaW5lZCk7XG5leHBvcnQgY29uc3QgTlVMTF9SRUZFUkVOQ0U6IFByaW1pdGl2ZVJlZmVyZW5jZTxudWxsPiA9IG5ldyBWYWx1ZVJlZmVyZW5jZShudWxsKTtcbmNvbnN0IFRSVUVfUkVGRVJFTkNFOiBQcmltaXRpdmVSZWZlcmVuY2U8Ym9vbGVhbj4gPSBuZXcgVmFsdWVSZWZlcmVuY2UodHJ1ZSk7XG5jb25zdCBGQUxTRV9SRUZFUkVOQ0U6IFByaW1pdGl2ZVJlZmVyZW5jZTxib29sZWFuPiA9IG5ldyBWYWx1ZVJlZmVyZW5jZShmYWxzZSk7XG5cbmV4cG9ydCBjbGFzcyBDb25kaXRpb25hbFJlZmVyZW5jZSBpbXBsZW1lbnRzIFJlZmVyZW5jZTxib29sZWFuPiB7XG4gIHB1YmxpYyB0YWc6IFJldmlzaW9uVGFnO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW5uZXI6IFJlZmVyZW5jZTxPcGFxdWU+KSB7XG4gICAgdGhpcy50YWcgPSBpbm5lci50YWc7XG4gIH1cblxuICB2YWx1ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy50b0Jvb2wodGhpcy5pbm5lci52YWx1ZSgpKTtcbiAgfVxuXG4gIHByb3RlY3RlZCB0b0Jvb2wodmFsdWU6IE9wYXF1ZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXZhbHVlO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb25zdFJlZmVyZW5jZSB9IGZyb20gJ0BnbGltbWVyL3JlZmVyZW5jZSc7XG5leHBvcnQgY2xhc3MgUHJpbWl0aXZlUmVmZXJlbmNlIGV4dGVuZHMgQ29uc3RSZWZlcmVuY2Uge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKHZhbHVlKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFVOREVGSU5FRF9SRUZFUkVOQ0U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBOVUxMX1JFRkVSRU5DRTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIFRSVUVfUkVGRVJFTkNFO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIEZBTFNFX1JFRkVSRU5DRTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlUmVmZXJlbmNlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyaW5nUmVmZXJlbmNlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQoX2tleSkge1xuICAgICAgICByZXR1cm4gVU5ERUZJTkVEX1JFRkVSRU5DRTtcbiAgICB9XG59XG5jbGFzcyBTdHJpbmdSZWZlcmVuY2UgZXh0ZW5kcyBQcmltaXRpdmVSZWZlcmVuY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmxlbmd0aFJlZmVyZW5jZSA9IG51bGw7XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgIGxldCB7IGxlbmd0aFJlZmVyZW5jZSB9ID0gdGhpcztcbiAgICAgICAgICAgIGlmIChsZW5ndGhSZWZlcmVuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZW5ndGhSZWZlcmVuY2UgPSB0aGlzLmxlbmd0aFJlZmVyZW5jZSA9IG5ldyBWYWx1ZVJlZmVyZW5jZSh0aGlzLmlubmVyLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGVuZ3RoUmVmZXJlbmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgVmFsdWVSZWZlcmVuY2UgZXh0ZW5kcyBQcmltaXRpdmVSZWZlcmVuY2Uge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHN1cGVyKHZhbHVlKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgVU5ERUZJTkVEX1JFRkVSRU5DRSA9IG5ldyBWYWx1ZVJlZmVyZW5jZSh1bmRlZmluZWQpO1xuZXhwb3J0IGNvbnN0IE5VTExfUkVGRVJFTkNFID0gbmV3IFZhbHVlUmVmZXJlbmNlKG51bGwpO1xuY29uc3QgVFJVRV9SRUZFUkVOQ0UgPSBuZXcgVmFsdWVSZWZlcmVuY2UodHJ1ZSk7XG5jb25zdCBGQUxTRV9SRUZFUkVOQ0UgPSBuZXcgVmFsdWVSZWZlcmVuY2UoZmFsc2UpO1xuZXhwb3J0IGNsYXNzIENvbmRpdGlvbmFsUmVmZXJlbmNlIHtcbiAgICBjb25zdHJ1Y3Rvcihpbm5lcikge1xuICAgICAgICB0aGlzLmlubmVyID0gaW5uZXI7XG4gICAgICAgIHRoaXMudGFnID0gaW5uZXIudGFnO1xuICAgIH1cbiAgICB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9Cb29sKHRoaXMuaW5uZXIudmFsdWUoKSk7XG4gICAgfVxuICAgIHRvQm9vbCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gISF2YWx1ZTtcbiAgICB9XG59XG4iXX0=