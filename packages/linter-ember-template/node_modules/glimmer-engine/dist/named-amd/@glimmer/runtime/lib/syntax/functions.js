enifed('@glimmer/runtime/lib/syntax/functions', ['exports', '@glimmer/runtime/lib/compiled/expressions/value', '@glimmer/runtime/lib/compiled/expressions/has-block', '@glimmer/util', '@glimmer/runtime/lib/compiled/expressions/lookups', '@glimmer/runtime/lib/compiled/expressions/helper', '@glimmer/runtime/lib/compiled/expressions/concat', '@glimmer/runtime/lib/compiled/expressions/args', '@glimmer/runtime/lib/compiled/expressions/function'], function (exports, _glimmerRuntimeLibCompiledExpressionsValue, _glimmerRuntimeLibCompiledExpressionsHasBlock, _glimmerUtil, _glimmerRuntimeLibCompiledExpressionsLookups, _glimmerRuntimeLibCompiledExpressionsHelper, _glimmerRuntimeLibCompiledExpressionsConcat, _glimmerRuntimeLibCompiledExpressionsArgs, _glimmerRuntimeLibCompiledExpressionsFunction) {
    'use strict';

    exports.setDebuggerCallback = setDebuggerCallback;
    exports.resetDebuggerCallback = resetDebuggerCallback;
    exports.expr = expr;
    exports.compileArgs = compileArgs;
    exports.compileBlockArgs = compileBlockArgs;
    exports.compileBaselineArgs = compileBaselineArgs;
    exports.populateBuiltins = populateBuiltins;

    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

    function debugCallback(context, get) {
        console.info('Use `context`, and `get(<path>)` to debug this template.');
        /* tslint:disable */
        debugger;
        /* tslint:enable */
        return { context: context, get: get };
    }
    function getter(vm, builder) {
        return function (path) {
            var parts = path.split('.');
            if (parts[0] === 'this') {
                parts[0] = null;
            }
            return compileRef(parts, builder).evaluate(vm);
        };
    }
    var callback = debugCallback;
    // For testing purposes

    function setDebuggerCallback(cb) {
        callback = cb;
    }

    function resetDebuggerCallback() {
        callback = debugCallback;
    }

    var Compilers = (function () {
        function Compilers() {
            _classCallCheck(this, Compilers);

            this.names = _glimmerUtil.dict();
            this.funcs = [];
        }

        Compilers.prototype.add = function add(name, func) {
            this.funcs.push(func);
            this.names[name] = this.funcs.length - 1;
        };

        Compilers.prototype.compile = function compile(sexp, builder) {
            var name = sexp[0];
            var index = this.names[name];
            var func = this.funcs[index];
            _glimmerUtil.assert(!!func, 'expected an implementation for ' + sexp[0]);
            return func(sexp, builder);
        };

        return Compilers;
    })();

    exports.Compilers = Compilers;
    var STATEMENTS = new Compilers();
    exports.STATEMENTS = STATEMENTS;
    STATEMENTS.add('text', function (sexp, builder) {
        builder.text(sexp[1]);
    });
    STATEMENTS.add('comment', function (sexp, builder) {
        builder.comment(sexp[1]);
    });
    STATEMENTS.add('close-element', function (_sexp, builder) {
        _glimmerUtil.LOGGER.trace('close-element statement');
        builder.closeElement();
    });
    STATEMENTS.add('flush-element', function (_sexp, builder) {
        builder.flushElement();
    });
    STATEMENTS.add('modifier', function (sexp, builder) {
        var path = sexp[1];
        var params = sexp[2];
        var hash = sexp[3];

        var args = compileArgs(params, hash, builder);
        if (builder.env.hasModifier(path, builder.symbolTable)) {
            builder.modifier(path[0], args);
        } else {
            throw new Error('Compile Error ' + path.join('.') + ' is not a modifier: Helpers may not be used in the element form.');
        }
    });
    STATEMENTS.add('static-attr', function (sexp, builder) {
        var name = sexp[1];
        var value = sexp[2];
        var namespace = sexp[3];

        builder.staticAttr(name, namespace, value);
    });
    STATEMENTS.add('any-dynamic-attr', function (sexp, builder) {
        var name = sexp[1];
        var value = sexp[2];
        var namespace = sexp[3];
        var trusting = sexp[4];

        builder.putValue(value);
        if (namespace) {
            builder.dynamicAttrNS(name, namespace, trusting);
        } else {
            builder.dynamicAttr(name, trusting);
        }
    });
    STATEMENTS.add('open-element', function (sexp, builder) {
        _glimmerUtil.LOGGER.trace('open-element statement');
        builder.openPrimitiveElement(sexp[1]);
    });
    STATEMENTS.add('optimized-append', function (sexp, builder) {
        var value = sexp[1];
        var trustingMorph = sexp[2];

        var _builder$env$macros = builder.env.macros();

        var inlines = _builder$env$macros.inlines;

        var returned = inlines.compile(sexp, builder) || value;
        if (returned === true) return;
        builder.putValue(returned[1]);
        if (trustingMorph) {
            builder.trustingAppend();
        } else {
            builder.cautiousAppend();
        }
    });
    STATEMENTS.add('unoptimized-append', function (sexp, builder) {
        var value = sexp[1];
        var trustingMorph = sexp[2];

        var _builder$env$macros2 = builder.env.macros();

        var inlines = _builder$env$macros2.inlines;

        var returned = inlines.compile(sexp, builder) || value;
        if (returned === true) return;
        if (trustingMorph) {
            builder.guardedTrustingAppend(returned[1]);
        } else {
            builder.guardedCautiousAppend(returned[1]);
        }
    });
    STATEMENTS.add('nested-block', function (sexp, builder) {
        var _builder$env$macros3 = builder.env.macros();

        var blocks = _builder$env$macros3.blocks;

        blocks.compile(sexp, builder);
    });
    STATEMENTS.add('scanned-block', function (sexp, builder) {
        var path = sexp[1];
        var params = sexp[2];
        var hash = sexp[3];
        var template = sexp[4];
        var inverse = sexp[5];

        var templateBlock = template && template.scan();
        var inverseBlock = inverse && inverse.scan();

        var _builder$env$macros4 = builder.env.macros();

        var blocks = _builder$env$macros4.blocks;

        blocks.compile(['nested-block', path, params, hash, templateBlock, inverseBlock], builder);
    });
    STATEMENTS.add('scanned-component', function (sexp, builder) {
        var tag = sexp[1];
        var attrs = sexp[2];
        var rawArgs = sexp[3];
        var rawBlock = sexp[4];

        var block = rawBlock && rawBlock.scan();
        var args = compileBlockArgs(null, rawArgs, { default: block, inverse: null }, builder);
        var definition = builder.env.getComponentDefinition([tag], builder.symbolTable);
        builder.putComponentDefinition(definition);
        builder.openComponent(args, attrs.scan());
        builder.closeComponent();
    });
    STATEMENTS.add('static-partial', function (sexp, builder) {
        var name = sexp[1];

        if (!builder.env.hasPartial(name, builder.symbolTable)) {
            throw new Error('Compile Error: Could not find a partial named "' + name + '"');
        }
        var definition = builder.env.lookupPartial(name, builder.symbolTable);
        builder.putPartialDefinition(definition);
        builder.evaluatePartial();
    });
    STATEMENTS.add('dynamic-partial', function (sexp, builder) {
        var name = sexp[1];

        builder.startLabels();
        builder.putValue(name);
        builder.test('simple');
        builder.enter('BEGIN', 'END');
        builder.label('BEGIN');
        builder.jumpUnless('END');
        builder.putDynamicPartialDefinition();
        builder.evaluatePartial();
        builder.label('END');
        builder.exit();
        builder.stopLabels();
    });
    STATEMENTS.add('yield', function (sexp, builder) {
        var to = sexp[1];
        var params = sexp[2];

        var args = compileArgs(params, null, builder);
        builder.yield(args, to);
    });
    STATEMENTS.add('debugger', function (sexp, builder) {
        builder.putValue(['function', function (vm) {
            var context = vm.getSelf().value();
            var get = function (path) {
                return getter(vm, builder)(path).value();
            };
            callback(context, get);
        }]);
        return sexp;
    });
    var EXPRESSIONS = new Compilers();

    function expr(expression, builder) {
        if (Array.isArray(expression)) {
            return EXPRESSIONS.compile(expression, builder);
        } else {
            return new _glimmerRuntimeLibCompiledExpressionsValue.default(expression);
        }
    }

    EXPRESSIONS.add('unknown', function (sexp, builder) {
        var path = sexp[1];
        if (builder.env.hasHelper(path, builder.symbolTable)) {
            return new _glimmerRuntimeLibCompiledExpressionsHelper.default(path, builder.env.lookupHelper(path, builder.symbolTable), _glimmerRuntimeLibCompiledExpressionsArgs.CompiledArgs.empty(), builder.symbolTable);
        } else {
            return compileRef(path, builder);
        }
    });
    EXPRESSIONS.add('concat', function (sexp, builder) {
        var params = sexp[1].map(function (p) {
            return expr(p, builder);
        });
        return new _glimmerRuntimeLibCompiledExpressionsConcat.default(params);
    });
    EXPRESSIONS.add('function', function (sexp, builder) {
        return new _glimmerRuntimeLibCompiledExpressionsFunction.CompiledFunctionExpression(sexp[1], builder.symbolTable);
    });
    EXPRESSIONS.add('helper', function (sexp, builder) {
        var env = builder.env;
        var symbolTable = builder.symbolTable;
        var path = sexp[1];
        var params = sexp[2];
        var hash = sexp[3];

        if (env.hasHelper(path, symbolTable)) {
            var args = compileArgs(params, hash, builder);
            return new _glimmerRuntimeLibCompiledExpressionsHelper.default(path, env.lookupHelper(path, symbolTable), args, symbolTable);
        } else {
            throw new Error('Compile Error: ' + path.join('.') + ' is not a helper');
        }
    });
    EXPRESSIONS.add('get', function (sexp, builder) {
        return compileRef(sexp[1], builder);
    });
    EXPRESSIONS.add('undefined', function (_sexp, _builder) {
        return new _glimmerRuntimeLibCompiledExpressionsValue.default(undefined);
    });
    EXPRESSIONS.add('arg', function (sexp, builder) {
        var parts = sexp[1];

        var head = parts[0];
        var named = undefined,
            partial = undefined;
        if (named = builder.symbolTable.getSymbol('named', head)) {
            var path = parts.slice(1);
            var inner = new _glimmerRuntimeLibCompiledExpressionsLookups.CompiledSymbol(named, head);
            return _glimmerRuntimeLibCompiledExpressionsLookups.default.create(inner, path);
        } else if (partial = builder.symbolTable.getPartialArgs()) {
            var path = parts.slice(1);
            var inner = new _glimmerRuntimeLibCompiledExpressionsLookups.CompiledInPartialName(partial, head);
            return _glimmerRuntimeLibCompiledExpressionsLookups.default.create(inner, path);
        } else {
            throw new Error('[BUG] @' + parts.join('.') + ' is not a valid lookup path.');
        }
    });
    EXPRESSIONS.add('has-block', function (sexp, builder) {
        var blockName = sexp[1];
        var yields = undefined,
            partial = undefined;
        if (yields = builder.symbolTable.getSymbol('yields', blockName)) {
            var inner = new _glimmerRuntimeLibCompiledExpressionsHasBlock.CompiledGetBlockBySymbol(yields, blockName);
            return new _glimmerRuntimeLibCompiledExpressionsHasBlock.default(inner);
        } else if (partial = builder.symbolTable.getPartialArgs()) {
            var inner = new _glimmerRuntimeLibCompiledExpressionsHasBlock.CompiledInPartialGetBlock(partial, blockName);
            return new _glimmerRuntimeLibCompiledExpressionsHasBlock.default(inner);
        } else {
            throw new Error('[BUG] ${blockName} is not a valid block name.');
        }
    });
    EXPRESSIONS.add('has-block-params', function (sexp, builder) {
        var blockName = sexp[1];
        var yields = undefined,
            partial = undefined;
        if (yields = builder.symbolTable.getSymbol('yields', blockName)) {
            var inner = new _glimmerRuntimeLibCompiledExpressionsHasBlock.CompiledGetBlockBySymbol(yields, blockName);
            return new _glimmerRuntimeLibCompiledExpressionsHasBlock.CompiledHasBlockParams(inner);
        } else if (partial = builder.symbolTable.getPartialArgs()) {
            var inner = new _glimmerRuntimeLibCompiledExpressionsHasBlock.CompiledInPartialGetBlock(partial, blockName);
            return new _glimmerRuntimeLibCompiledExpressionsHasBlock.CompiledHasBlockParams(inner);
        } else {
            throw new Error('[BUG] ${blockName} is not a valid block name.');
        }
    });

    function compileArgs(params, hash, builder) {
        var compiledParams = compileParams(params, builder);
        var compiledHash = compileHash(hash, builder);
        return _glimmerRuntimeLibCompiledExpressionsArgs.CompiledArgs.create(compiledParams, compiledHash, _glimmerRuntimeLibCompiledExpressionsArgs.EMPTY_BLOCKS);
    }

    function compileBlockArgs(params, hash, blocks, builder) {
        var compiledParams = compileParams(params, builder);
        var compiledHash = compileHash(hash, builder);
        return _glimmerRuntimeLibCompiledExpressionsArgs.CompiledArgs.create(compiledParams, compiledHash, blocks);
    }

    function compileBaselineArgs(args, builder) {
        var params = args[0];
        var hash = args[1];
        var _default = args[2];
        var inverse = args[3];

        return _glimmerRuntimeLibCompiledExpressionsArgs.CompiledArgs.create(compileParams(params, builder), compileHash(hash, builder), { default: _default, inverse: inverse });
    }

    function compileParams(params, builder) {
        if (!params || params.length === 0) return _glimmerRuntimeLibCompiledExpressionsArgs.COMPILED_EMPTY_POSITIONAL_ARGS;
        var compiled = params.map(function (p) {
            return expr(p, builder);
        });
        return _glimmerRuntimeLibCompiledExpressionsArgs.CompiledPositionalArgs.create(compiled);
    }
    function compileHash(hash, builder) {
        if (!hash) return _glimmerRuntimeLibCompiledExpressionsArgs.COMPILED_EMPTY_NAMED_ARGS;
        var keys = hash[0];
        var values = hash[1];

        if (keys.length === 0) return _glimmerRuntimeLibCompiledExpressionsArgs.COMPILED_EMPTY_NAMED_ARGS;
        var compiled = values.map(function (p) {
            return expr(p, builder);
        });
        return new _glimmerRuntimeLibCompiledExpressionsArgs.CompiledNamedArgs(keys, compiled);
    }
    function compileRef(parts, builder) {
        var head = parts[0];
        var local = undefined;
        if (head === null) {
            var inner = new _glimmerRuntimeLibCompiledExpressionsLookups.CompiledSelf();
            var path = parts.slice(1);
            return _glimmerRuntimeLibCompiledExpressionsLookups.default.create(inner, path);
        } else if (local = builder.symbolTable.getSymbol('local', head)) {
            var path = parts.slice(1);
            var inner = new _glimmerRuntimeLibCompiledExpressionsLookups.CompiledSymbol(local, head);
            return _glimmerRuntimeLibCompiledExpressionsLookups.default.create(inner, path);
        } else {
            var inner = new _glimmerRuntimeLibCompiledExpressionsLookups.CompiledSelf();
            return _glimmerRuntimeLibCompiledExpressionsLookups.default.create(inner, parts);
        }
    }

    var Blocks = (function () {
        function Blocks() {
            _classCallCheck(this, Blocks);

            this.names = _glimmerUtil.dict();
            this.funcs = [];
        }

        Blocks.prototype.add = function add(name, func) {
            this.funcs.push(func);
            this.names[name] = this.funcs.length - 1;
        };

        Blocks.prototype.addMissing = function addMissing(func) {
            this.missing = func;
        };

        Blocks.prototype.compile = function compile(sexp, builder) {
            // assert(sexp[1].length === 1, 'paths in blocks are not supported');
            var name = sexp[1][0];
            var index = this.names[name];
            if (index === undefined) {
                _glimmerUtil.assert(!!this.missing, name + ' not found, and no catch-all block handler was registered');
                var func = this.missing;
                var handled = func(sexp, builder);
                _glimmerUtil.assert(!!handled, name + ' not found, and the catch-all block handler didn\'t handle it');
            } else {
                var func = this.funcs[index];
                func(sexp, builder);
            }
        };

        return Blocks;
    })();

    exports.Blocks = Blocks;
    var BLOCKS = new Blocks();
    exports.BLOCKS = BLOCKS;

    var Inlines = (function () {
        function Inlines() {
            _classCallCheck(this, Inlines);

            this.names = _glimmerUtil.dict();
            this.funcs = [];
        }

        Inlines.prototype.add = function add(name, func) {
            this.funcs.push(func);
            this.names[name] = this.funcs.length - 1;
        };

        Inlines.prototype.addMissing = function addMissing(func) {
            this.missing = func;
        };

        Inlines.prototype.compile = function compile(sexp, builder) {
            var value = sexp[1];
            // TODO: Fix this so that expression macros can return
            // things like components, so that {{component foo}}
            // is the same as {{(component foo)}}
            if (!Array.isArray(value)) return ['expr', value];
            var path = undefined;
            var params = undefined;
            var hash = undefined;
            if (value[0] === 'helper') {
                path = value[1];
                params = value[2];
                hash = value[3];
            } else if (value[0] === 'unknown') {
                path = value[1];
                params = hash = null;
            } else {
                return ['expr', value];
            }
            if (path.length > 1 && !params && !hash) {
                return ['expr', value];
            }
            var name = path[0];
            var index = this.names[name];
            if (index === undefined && this.missing) {
                var func = this.missing;
                var returned = func(path, params, hash, builder);
                return returned === false ? ['expr', value] : returned;
            } else if (index !== undefined) {
                var func = this.funcs[index];
                var returned = func(path, params, hash, builder);
                return returned === false ? ['expr', value] : returned;
            } else {
                return ['expr', value];
            }
        };

        return Inlines;
    })();

    exports.Inlines = Inlines;
    var INLINES = new Inlines();
    exports.INLINES = INLINES;
    populateBuiltins(BLOCKS, INLINES);

    function populateBuiltins() {
        var blocks = arguments.length <= 0 || arguments[0] === undefined ? new Blocks() : arguments[0];
        var inlines = arguments.length <= 1 || arguments[1] === undefined ? new Inlines() : arguments[1];

        blocks.add('if', function (sexp, builder) {
            //        PutArgs
            //        Test(Environment)
            //        Enter(BEGIN, END)
            // BEGIN: Noop
            //        JumpUnless(ELSE)
            //        Evaluate(default)
            //        Jump(END)
            // ELSE:  Noop
            //        Evalulate(inverse)
            // END:   Noop
            //        Exit
            var params = sexp[2];
            var hash = sexp[3];
            var _default = sexp[4];
            var inverse = sexp[5];

            var args = compileArgs(params, hash, builder);
            builder.putArgs(args);
            builder.test('environment');
            builder.labelled(null, function (b) {
                if (_default && inverse) {
                    b.jumpUnless('ELSE');
                    b.evaluate(_default);
                    b.jump('END');
                    b.label('ELSE');
                    b.evaluate(inverse);
                } else if (_default) {
                    b.jumpUnless('END');
                    b.evaluate(_default);
                } else {
                    throw _glimmerUtil.unreachable();
                }
            });
        });
        blocks.add('unless', function (sexp, builder) {
            //        PutArgs
            //        Test(Environment)
            //        Enter(BEGIN, END)
            // BEGIN: Noop
            //        JumpUnless(ELSE)
            //        Evaluate(default)
            //        Jump(END)
            // ELSE:  Noop
            //        Evalulate(inverse)
            // END:   Noop
            //        Exit
            var params = sexp[2];
            var hash = sexp[3];
            var _default = sexp[4];
            var inverse = sexp[5];

            var args = compileArgs(params, hash, builder);
            builder.putArgs(args);
            builder.test('environment');
            builder.labelled(null, function (b) {
                if (_default && inverse) {
                    b.jumpIf('ELSE');
                    b.evaluate(_default);
                    b.jump('END');
                    b.label('ELSE');
                    b.evaluate(inverse);
                } else if (_default) {
                    b.jumpIf('END');
                    b.evaluate(_default);
                } else {
                    throw _glimmerUtil.unreachable();
                }
            });
        });
        blocks.add('with', function (sexp, builder) {
            //        PutArgs
            //        Test(Environment)
            //        Enter(BEGIN, END)
            // BEGIN: Noop
            //        JumpUnless(ELSE)
            //        Evaluate(default)
            //        Jump(END)
            // ELSE:  Noop
            //        Evalulate(inverse)
            // END:   Noop
            //        Exit
            var params = sexp[2];
            var hash = sexp[3];
            var _default = sexp[4];
            var inverse = sexp[5];

            var args = compileArgs(params, hash, builder);
            builder.putArgs(args);
            builder.test('environment');
            builder.labelled(null, function (b) {
                if (_default && inverse) {
                    b.jumpUnless('ELSE');
                    b.evaluate(_default);
                    b.jump('END');
                    b.label('ELSE');
                    b.evaluate(inverse);
                } else if (_default) {
                    b.jumpUnless('END');
                    b.evaluate(_default);
                } else {
                    throw _glimmerUtil.unreachable();
                }
            });
        });
        blocks.add('each', function (sexp, builder) {
            //         Enter(BEGIN, END)
            // BEGIN:  Noop
            //         PutArgs
            //         PutIterable
            //         JumpUnless(ELSE)
            //         EnterList(BEGIN2, END2)
            // ITER:   Noop
            //         NextIter(BREAK)
            //         EnterWithKey(BEGIN2, END2)
            // BEGIN2: Noop
            //         PushChildScope
            //         Evaluate(default)
            //         PopScope
            // END2:   Noop
            //         Exit
            //         Jump(ITER)
            // BREAK:  Noop
            //         ExitList
            //         Jump(END)
            // ELSE:   Noop
            //         Evalulate(inverse)
            // END:    Noop
            //         Exit
            var params = sexp[2];
            var hash = sexp[3];
            var _default = sexp[4];
            var inverse = sexp[5];

            var args = compileArgs(params, hash, builder);
            builder.labelled(args, function (b) {
                b.putIterator();
                if (inverse) {
                    b.jumpUnless('ELSE');
                } else {
                    b.jumpUnless('END');
                }
                b.iter(function (b) {
                    b.evaluate(_glimmerUtil.unwrap(_default));
                });
                if (inverse) {
                    b.jump('END');
                    b.label('ELSE');
                    b.evaluate(inverse);
                }
            });
        });
        return { blocks: blocks, inlines: inlines };
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkBnbGltbWVyL3J1bnRpbWUvbGliL3N5bnRheC9mdW5jdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQTZDQSxhQUFBLGFBQUEsQ0FBdUIsT0FBZSxFQUFFLEdBQWEsRUFBQTtBQUNuRCxlQUFPLENBQUMsSUFBSSxDQUFDLDBEQUEwRCxDQUFDLENBQUM7O0FBRXpFLGlCQUFTOztBQUVULGVBQU8sRUFBRSxPQUFPLEVBQVAsT0FBTyxFQUFFLEdBQUcsRUFBSCxHQUFHLEVBQUUsQ0FBQztLQUN6QjtBQUVELGFBQUEsTUFBQSxDQUFnQixFQUFNLEVBQUUsT0FBc0IsRUFBQTtBQUM1QyxlQUFPLFVBQUMsSUFBWSxFQUFBO0FBQ2xCLGdCQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBUSxDQUFDO0FBRW5DLGdCQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxNQUFNLEVBQUU7QUFDdkIscUJBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7YUFDakI7QUFFRCxtQkFBTyxVQUFVLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFjLENBQUMsQ0FBQztTQUM1RCxDQUFDO0tBQ0g7QUFFRCxRQUFJLFFBQVEsR0FBRyxhQUFhLENBQUM7OztBQUd2QixhQUFBLG1CQUFBLENBQThCLEVBQWlCLEVBQUE7QUFDbkQsZ0JBQVEsR0FBRyxFQUFFLENBQUM7S0FDZjs7QUFFSyxhQUFBLHFCQUFBLEdBQUE7QUFDSixnQkFBUSxHQUFHLGFBQWEsQ0FBQztLQUMxQjs7UUFFSyxTQUFBO0FBQU4saUJBQU0sU0FBQSxHQUFOO2tDQUFNLFNBQUE7O0FBQ0ksZ0JBQUEsQ0FBQSxLQUFLLEdBQUcsYUF2RWUsSUFBSSxFQXVFTCxDQUFDO0FBQ3ZCLGdCQUFBLENBQUEsS0FBSyxHQUFxQyxFQUFFLENBQUM7U0FjdEQ7O0FBaEJLLGlCQUFBLFdBSUosR0FBRyxHQUFBLGFBQUMsSUFB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Q0FBQztpQkFDckI7YUFDRixDQUFDLENBQUM7U0FDSixDQUFDLENBQUM7QUFFSCxlQUFPLEVBQUUsTUFBTSxFQUFOLE1BQU0sRUFBRSxPQUFPLEVBQVAsT0FBTyxFQUFFLENBQUM7S0FDNUIiLCJmaWxlIjoiZnVuY3Rpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgV2lyZUZvcm1hdCBmcm9tICdAZ2xpbW1lci93aXJlLWZvcm1hdCc7XHJcbmltcG9ydCBPcGNvZGVCdWlsZGVyIGZyb20gJy4uL2NvbXBpbGVkL29wY29kZXMvYnVpbGRlcic7XHJcbmltcG9ydCB7IENvbXBpbGVkRXhwcmVzc2lvbiB9IGZyb20gJy4uL2NvbXBpbGVkL2V4cHJlc3Npb25zJztcclxuaW1wb3J0IENvbXBpbGVkVmFsdWUgZnJvbSAnLi4vY29tcGlsZWQvZXhwcmVzc2lvbnMvdmFsdWUnO1xyXG5pbXBvcnQgQ29tcGlsZWRIYXNCbG9jaywgeyBDb21waWxlZEhhc0Jsb2NrUGFyYW1zIH0gZnJvbSAnLi4vY29tcGlsZWQvZXhwcmVzc2lvbnMvaGFzLWJsb2NrJztcclxuaW1wb3J0IHsgQmFzZWxpbmVTeW50YXggfSBmcm9tICcuLi9zY2FubmVyJztcclxuaW1wb3J0IHsgTE9HR0VSLCBPcGFxdWUsIE9wdGlvbiwgZGljdCwgYXNzZXJ0LCB1bndyYXAsIHVucmVhY2hhYmxlIH0gZnJvbSAnQGdsaW1tZXIvdXRpbCc7XHJcbmltcG9ydCBDb21waWxlZExvb2t1cCwge1xyXG4gIENvbXBpbGVkU2VsZixcclxuICBDb21waWxlZFN5bWJvbCxcclxuICBDb21waWxlZEluUGFydGlhbE5hbWVcclxufSBmcm9tICcuLi9jb21waWxlZC9leHByZXNzaW9ucy9sb29rdXBzJztcclxuaW1wb3J0IENvbXBpbGVkSGVscGVyIGZyb20gJy4uL2NvbXBpbGVkL2V4cHJlc3Npb25zL2hlbHBlcic7XHJcbmltcG9ydCBDb21waWxlZENvbmNhdCBmcm9tICcuLi9jb21waWxlZC9leHByZXNzaW9ucy9jb25jYXQnO1xyXG5pbXBvcnQge1xyXG4gIENPTVBJTEVEX0VNUFRZX1BPU0lUSU9OQUxfQVJHUyxcclxuICBDT01QSUxFRF9FTVBUWV9OQU1FRF9BUkdTLFxyXG4gIEVNUFRZX0JMT0NLUyxcclxuICBDb21waWxlZEFyZ3MsXHJcbiAgQ29tcGlsZWRQb3NpdGlvbmFsQXJncyxcclxuICBDb21waWxlZE5hbWVkQXJncyxcclxuICBCbG9ja3MgYXMgQmxvY2tzU3ludGF4XHJcbn0gZnJvbSAnLi4vY29tcGlsZWQvZXhwcmVzc2lvbnMvYXJncyc7XHJcbmltcG9ydCB7XHJcbiAgQ29tcGlsZWRHZXRCbG9ja0J5U3ltYm9sLFxyXG4gIENvbXBpbGVkSW5QYXJ0aWFsR2V0QmxvY2tcclxufSBmcm9tICcuLi9jb21waWxlZC9leHByZXNzaW9ucy9oYXMtYmxvY2snO1xyXG5pbXBvcnQgeyBQdWJsaWNWTSBhcyBWTSB9IGZyb20gJy4uL3ZtJztcclxuaW1wb3J0IEFwcGVuZFZNIGZyb20gJy4uL3ZtL2FwcGVuZCc7XHJcblxyXG5pbXBvcnQgeyBDb21waWxlZEZ1bmN0aW9uRXhwcmVzc2lvbiB9IGZyb20gJy4uL2NvbXBpbGVkL2V4cHJlc3Npb25zL2Z1bmN0aW9uJztcclxuXHJcbmV4cG9ydCB0eXBlIFNleHBFeHByZXNzaW9uID0gQmFzZWxpbmVTeW50YXguQW55RXhwcmVzc2lvbiAmIHsgMDogc3RyaW5nIH07XHJcbmV4cG9ydCB0eXBlIFN5bnRheCA9IFNleHBFeHByZXNzaW9uIHwgQmFzZWxpbmVTeW50YXguQW55U3RhdGVtZW50O1xyXG5leHBvcnQgdHlwZSBDb21waWxlckZ1bmN0aW9uPFQgZXh0ZW5kcyBTeW50YXgsIFU+ID0gKChzZXhwOiBULCBidWlsZGVyOiBPcGNvZGVCdWlsZGVyKSA9PiBVKTtcclxuZXhwb3J0IHR5cGUgTmFtZSA9IEJhc2VsaW5lU3ludGF4LkFueVN0YXRlbWVudFswXTtcclxuZXhwb3J0IHR5cGUgZGVidWdHZXQgPSAoKHBhdGg6IHN0cmluZykgPT4gYW55KTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGVidWdDb250ZXh0IHtcclxuICBjb250ZXh0OiBPcGFxdWU7XHJcbiAgZ2V0OiBkZWJ1Z0dldDtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgZGVidWdDYWxsYmFjayA9ICgoY29udGV4dDogT3BhcXVlLCBnZXQ6IGRlYnVnR2V0KSA9PiBEZWJ1Z0NvbnRleHQpO1xyXG5cclxuZnVuY3Rpb24gZGVidWdDYWxsYmFjayhjb250ZXh0OiBPcGFxdWUsIGdldDogZGVidWdHZXQpIHtcclxuICBjb25zb2xlLmluZm8oJ1VzZSBgY29udGV4dGAsIGFuZCBgZ2V0KDxwYXRoPilgIHRvIGRlYnVnIHRoaXMgdGVtcGxhdGUuJyk7XHJcbiAgLyogdHNsaW50OmRpc2FibGUgKi9cclxuICBkZWJ1Z2dlcjtcclxuICAvKiB0c2xpbnQ6ZW5hYmxlICovXHJcbiAgcmV0dXJuIHsgY29udGV4dCwgZ2V0IH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldHRlcih2bTogVk0sIGJ1aWxkZXI6IE9wY29kZUJ1aWxkZXIpIHtcclxuICByZXR1cm4gKHBhdGg6IHN0cmluZykgPT4ge1xyXG4gICAgbGV0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpIGFzIGFueTtcclxuXHJcbiAgICBpZiAocGFydHNbMF0gPT09ICd0aGlzJykge1xyXG4gICAgICBwYXJ0c1swXSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvbXBpbGVSZWYocGFydHMsIGJ1aWxkZXIpLmV2YWx1YXRlKHZtIGFzIEFwcGVuZFZNKTtcclxuICB9O1xyXG59XHJcblxyXG5sZXQgY2FsbGJhY2sgPSBkZWJ1Z0NhbGxiYWNrO1xyXG5cclxuLy8gRm9yIHRlc3RpbmcgcHVycG9zZXNcclxuZXhwb3J0IGZ1bmN0aW9uIHNldERlYnVnZ2VyQ2FsbGJhY2soY2I6IGRlYnVnQ2FsbGJhY2spIHtcclxuICBjYWxsYmFjayA9IGNiO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXREZWJ1Z2dlckNhbGxiYWNrKCkge1xyXG4gIGNhbGxiYWNrID0gZGVidWdDYWxsYmFjaztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENvbXBpbGVyczxUIGV4dGVuZHMgU3ludGF4LCBDb21waWxlVG8+IHtcclxuICBwcml2YXRlIG5hbWVzID0gZGljdDxudW1iZXI+KCk7XHJcbiAgcHJpdmF0ZSBmdW5jczogQ29tcGlsZXJGdW5jdGlvbjxULCBDb21waWxlVG8+W10gPSBbXTtcclxuXHJcbiAgYWRkKG5hbWU6IHN0cmluZywgZnVuYzogQ29tcGlsZXJGdW5jdGlvbjxULCBDb21waWxlVG8+KTogdm9pZCB7XHJcbiAgICB0aGlzLmZ1bmNzLnB1c2goZnVuYyk7XHJcbiAgICB0aGlzLm5hbWVzW25hbWVdID0gdGhpcy5mdW5jcy5sZW5ndGggLSAxO1xyXG4gIH1cclxuXHJcbiAgY29tcGlsZShzZXhwOiBULCBidWlsZGVyOiBPcGNvZGVCdWlsZGVyKTogQ29tcGlsZVRvIHtcclxuICAgIGxldCBuYW1lOiBzdHJpbmcgPSBzZXhwWzBdO1xyXG4gICAgbGV0IGluZGV4ID0gdGhpcy5uYW1lc1tuYW1lXTtcclxuICAgIGxldCBmdW5jID0gdGhpcy5mdW5jc1tpbmRleF07XHJcbiAgICBhc3NlcnQoISFmdW5jLCBgZXhwZWN0ZWQgYW4gaW1wbGVtZW50YXRpb24gZm9yICR7c2V4cFswXX1gKTtcclxuICAgIHJldHVybiBmdW5jKHNleHAsIGJ1aWxkZXIpO1xyXG4gIH1cclxufVxyXG5cclxuaW1wb3J0IFMgPSBXaXJlRm9ybWF0LlN0YXRlbWVudHM7XHJcblxyXG5leHBvcnQgY29uc3QgU1RBVEVNRU5UUyA9IG5ldyBDb21waWxlcnM8QmFzZWxpbmVTeW50YXguQW55U3RhdGVtZW50LCB2b2lkPigpO1xyXG5cclxuU1RBVEVNRU5UUy5hZGQoJ3RleHQnLCAoc2V4cDogUy5UZXh0LCBidWlsZGVyOiBPcGNvZGVCdWlsZGVyKSA9PiB7XHJcbiAgYnVpbGRlci50ZXh0KHNleHBbMV0pO1xyXG59KTtcclxuXHJcblNUQVRFTUVOVFMuYWRkKCdjb21tZW50JywgKHNleHA6IFMuQ29tbWVudCwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikgPT4ge1xyXG4gIGJ1aWxkZXIuY29tbWVudChzZXhwWzFdKTtcclxufSk7XHJcblxyXG5TVEFURU1FTlRTLmFkZCgnY2xvc2UtZWxlbWVudCcsIChfc2V4cCwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikgPT4ge1xyXG4gIExPR0dFUi50cmFjZSgnY2xvc2UtZWxlbWVudCBzdGF0ZW1lbnQnKTtcclxuICBidWlsZGVyLmNsb3NlRWxlbWVudCgpO1xyXG59KTtcclxuXHJcblNUQVRFTUVOVFMuYWRkKCdmbHVzaC1lbGVtZW50JywgKF9zZXhwLCBidWlsZGVyOiBPcGNvZGVCdWlsZGVyKSA9PiB7XHJcbiAgYnVpbGRlci5mbHVzaEVsZW1lbnQoKTtcclxufSk7XHJcblxyXG5TVEFURU1FTlRTLmFkZCgnbW9kaWZpZXInLCAoc2V4cDogUy5Nb2RpZmllciwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikgPT4ge1xyXG4gIGxldCBbLCBwYXRoLCBwYXJhbXMsIGhhc2hdID0gc2V4cDtcclxuXHJcbiAgbGV0IGFyZ3MgPSBjb21waWxlQXJncyhwYXJhbXMsIGhhc2gsIGJ1aWxkZXIpO1xyXG5cclxuICBpZiAoYnVpbGRlci5lbnYuaGFzTW9kaWZpZXIocGF0aCwgYnVpbGRlci5zeW1ib2xUYWJsZSkpIHtcclxuICAgIGJ1aWxkZXIubW9kaWZpZXIocGF0aFswXSwgYXJncyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgQ29tcGlsZSBFcnJvciAke3BhdGguam9pbignLicpfSBpcyBub3QgYSBtb2RpZmllcjogSGVscGVycyBtYXkgbm90IGJlIHVzZWQgaW4gdGhlIGVsZW1lbnQgZm9ybS5gKTtcclxuICB9XHJcbn0pO1xyXG5cclxuU1RBVEVNRU5UUy5hZGQoJ3N0YXRpYy1hdHRyJywgKHNleHA6IFMuU3RhdGljQXR0ciwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikgPT4ge1xyXG4gIGxldCBbLCBuYW1lLCB2YWx1ZSwgbmFtZXNwYWNlXSA9IHNleHA7XHJcbiAgYnVpbGRlci5zdGF0aWNBdHRyKG5hbWUsIG5hbWVzcGFjZSwgdmFsdWUgYXMgc3RyaW5nKTtcclxufSk7XHJcblxyXG5TVEFURU1FTlRTLmFkZCgnYW55LWR5bmFtaWMtYXR0cicsIChzZXhwOiBCYXNlbGluZVN5bnRheC5BbnlEeW5hbWljQXR0ciwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikgPT4ge1xyXG4gIGxldCBbLCBuYW1lLCB2YWx1ZSwgbmFtZXNwYWNlLCB0cnVzdGluZ10gPSBzZXhwO1xyXG5cclxuICBidWlsZGVyLnB1dFZhbHVlKHZhbHVlKTtcclxuXHJcbiAgaWYgKG5hbWVzcGFjZSkge1xyXG4gICAgYnVpbGRlci5keW5hbWljQXR0ck5TKG5hbWUsIG5hbWVzcGFjZSwgdHJ1c3RpbmcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidWlsZGVyLmR5bmFtaWNBdHRyKG5hbWUsIHRydXN0aW5nKTtcclxuICB9XHJcbn0pO1xyXG5cclxuU1RBVEVNRU5UUy5hZGQoJ29wZW4tZWxlbWVudCcsIChzZXhwOiBCYXNlbGluZVN5bnRheC5PcGVuUHJpbWl0aXZlRWxlbWVudCwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikgPT4ge1xyXG4gIExPR0dFUi50cmFjZSgnb3Blbi1lbGVtZW50IHN0YXRlbWVudCcpO1xyXG4gIGJ1aWxkZXIub3BlblByaW1pdGl2ZUVsZW1lbnQoc2V4cFsxXSk7XHJcbn0pO1xyXG5cclxuU1RBVEVNRU5UUy5hZGQoJ29wdGltaXplZC1hcHBlbmQnLCAoc2V4cDogQmFzZWxpbmVTeW50YXguT3B0aW1pemVkQXBwZW5kLCBidWlsZGVyOiBPcGNvZGVCdWlsZGVyKSA9PiB7XHJcbiAgbGV0IFssIHZhbHVlLCB0cnVzdGluZ01vcnBoXSA9IHNleHA7XHJcblxyXG4gIGxldCB7IGlubGluZXMgfSA9IGJ1aWxkZXIuZW52Lm1hY3JvcygpO1xyXG4gIGxldCByZXR1cm5lZCA9IGlubGluZXMuY29tcGlsZShzZXhwLCBidWlsZGVyKSB8fCB2YWx1ZTtcclxuXHJcbiAgaWYgKHJldHVybmVkID09PSB0cnVlKSByZXR1cm47XHJcblxyXG4gIGJ1aWxkZXIucHV0VmFsdWUocmV0dXJuZWRbMV0pO1xyXG5cclxuICBpZiAodHJ1c3RpbmdNb3JwaCkge1xyXG4gICAgYnVpbGRlci50cnVzdGluZ0FwcGVuZCgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidWlsZGVyLmNhdXRpb3VzQXBwZW5kKCk7XHJcbiAgfVxyXG59KTtcclxuXHJcblNUQVRFTUVOVFMuYWRkKCd1bm9wdGltaXplZC1hcHBlbmQnLCAoc2V4cDogQmFzZWxpbmVTeW50YXguVW5vcHRpbWl6ZWRBcHBlbmQsIGJ1aWxkZXIpID0+IHtcclxuICBsZXQgWywgdmFsdWUsIHRydXN0aW5nTW9ycGhdID0gc2V4cDtcclxuICBsZXQgeyBpbmxpbmVzIH0gPSBidWlsZGVyLmVudi5tYWNyb3MoKTtcclxuICBsZXQgcmV0dXJuZWQgPSBpbmxpbmVzLmNvbXBpbGUoc2V4cCwgYnVpbGRlcikgfHwgdmFsdWU7XHJcblxyXG4gIGlmIChyZXR1cm5lZCA9PT0gdHJ1ZSkgcmV0dXJuO1xyXG5cclxuICBpZiAodHJ1c3RpbmdNb3JwaCkge1xyXG4gICAgYnVpbGRlci5ndWFyZGVkVHJ1c3RpbmdBcHBlbmQocmV0dXJuZWRbMV0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidWlsZGVyLmd1YXJkZWRDYXV0aW91c0FwcGVuZChyZXR1cm5lZFsxXSk7XHJcbiAgfVxyXG59KTtcclxuXHJcblNUQVRFTUVOVFMuYWRkKCduZXN0ZWQtYmxvY2snLCAoc2V4cDogQmFzZWxpbmVTeW50YXguTmVzdGVkQmxvY2ssIGJ1aWxkZXI6IE9wY29kZUJ1aWxkZXIpID0+IHtcclxuICBsZXQgeyBibG9ja3MgfSA9IGJ1aWxkZXIuZW52Lm1hY3JvcygpO1xyXG4gIGJsb2Nrcy5jb21waWxlKHNleHAsIGJ1aWxkZXIpO1xyXG59KTtcclxuXHJcblNUQVRFTUVOVFMuYWRkKCdzY2FubmVkLWJsb2NrJywgKHNleHA6IEJhc2VsaW5lU3ludGF4LlNjYW5uZWRCbG9jaywgYnVpbGRlcikgPT4ge1xyXG4gIGxldCBbLCBwYXRoLCBwYXJhbXMsIGhhc2gsIHRlbXBsYXRlLCBpbnZlcnNlXSA9IHNleHA7XHJcblxyXG4gIGxldCB0ZW1wbGF0ZUJsb2NrID0gdGVtcGxhdGUgJiYgdGVtcGxhdGUuc2NhbigpO1xyXG4gIGxldCBpbnZlcnNlQmxvY2sgPSBpbnZlcnNlICYmIGludmVyc2Uuc2NhbigpO1xyXG5cclxuICBsZXQgeyBibG9ja3MgfSA9IGJ1aWxkZXIuZW52Lm1hY3JvcygpO1xyXG4gIGJsb2Nrcy5jb21waWxlKFsnbmVzdGVkLWJsb2NrJywgcGF0aCwgcGFyYW1zLCBoYXNoLCB0ZW1wbGF0ZUJsb2NrLCBpbnZlcnNlQmxvY2tdLCBidWlsZGVyKTtcclxufSk7XHJcblxyXG5TVEFURU1FTlRTLmFkZCgnc2Nhbm5lZC1jb21wb25lbnQnLCAoc2V4cDogQmFzZWxpbmVTeW50YXguU2Nhbm5lZENvbXBvbmVudCwgYnVpbGRlcikgPT4ge1xyXG4gIGxldCBbLCB0YWcsIGF0dHJzLCByYXdBcmdzLCByYXdCbG9ja10gPSBzZXhwO1xyXG4gIGxldCBibG9jayA9IHJhd0Jsb2NrICYmIHJhd0Jsb2NrLnNjYW4oKTtcclxuXHJcbiAgbGV0IGFyZ3MgPSBjb21waWxlQmxvY2tBcmdzKG51bGwsIHJhd0FyZ3MsIHsgZGVmYXVsdDogYmxvY2ssIGludmVyc2U6IG51bGwgfSwgYnVpbGRlcik7XHJcblxyXG4gIGxldCBkZWZpbml0aW9uID0gYnVpbGRlci5lbnYuZ2V0Q29tcG9uZW50RGVmaW5pdGlvbihbdGFnXSwgYnVpbGRlci5zeW1ib2xUYWJsZSk7XHJcblxyXG4gIGJ1aWxkZXIucHV0Q29tcG9uZW50RGVmaW5pdGlvbihkZWZpbml0aW9uKTtcclxuICBidWlsZGVyLm9wZW5Db21wb25lbnQoYXJncywgYXR0cnMuc2NhbigpKTtcclxuICBidWlsZGVyLmNsb3NlQ29tcG9uZW50KCk7XHJcbn0pO1xyXG5cclxuU1RBVEVNRU5UUy5hZGQoJ3N0YXRpYy1wYXJ0aWFsJywgKHNleHA6IEJhc2VsaW5lU3ludGF4LlN0YXRpY1BhcnRpYWwsIGJ1aWxkZXIpID0+IHtcclxuICBsZXQgWywgbmFtZV0gPSBzZXhwO1xyXG5cclxuICBpZiAoIWJ1aWxkZXIuZW52Lmhhc1BhcnRpYWwobmFtZSwgYnVpbGRlci5zeW1ib2xUYWJsZSkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgQ29tcGlsZSBFcnJvcjogQ291bGQgbm90IGZpbmQgYSBwYXJ0aWFsIG5hbWVkIFwiJHtuYW1lfVwiYCk7XHJcbiAgfVxyXG5cclxuICBsZXQgZGVmaW5pdGlvbiA9IGJ1aWxkZXIuZW52Lmxvb2t1cFBhcnRpYWwobmFtZSwgYnVpbGRlci5zeW1ib2xUYWJsZSk7XHJcblxyXG4gIGJ1aWxkZXIucHV0UGFydGlhbERlZmluaXRpb24oZGVmaW5pdGlvbik7XHJcbiAgYnVpbGRlci5ldmFsdWF0ZVBhcnRpYWwoKTtcclxufSk7XHJcblxyXG5TVEFURU1FTlRTLmFkZCgnZHluYW1pYy1wYXJ0aWFsJywgKHNleHA6IEJhc2VsaW5lU3ludGF4LkR5bmFtaWNQYXJ0aWFsLCBidWlsZGVyKSA9PiB7XHJcbiAgbGV0IFssIG5hbWVdID0gc2V4cDtcclxuXHJcbiAgICBidWlsZGVyLnN0YXJ0TGFiZWxzKCk7XHJcblxyXG4gICAgYnVpbGRlci5wdXRWYWx1ZShuYW1lKTtcclxuICAgIGJ1aWxkZXIudGVzdCgnc2ltcGxlJyk7XHJcbiAgICBidWlsZGVyLmVudGVyKCdCRUdJTicsICdFTkQnKTtcclxuICAgIGJ1aWxkZXIubGFiZWwoJ0JFR0lOJyk7XHJcbiAgICBidWlsZGVyLmp1bXBVbmxlc3MoJ0VORCcpO1xyXG4gICAgYnVpbGRlci5wdXREeW5hbWljUGFydGlhbERlZmluaXRpb24oKTtcclxuICAgIGJ1aWxkZXIuZXZhbHVhdGVQYXJ0aWFsKCk7XHJcbiAgICBidWlsZGVyLmxhYmVsKCdFTkQnKTtcclxuICAgIGJ1aWxkZXIuZXhpdCgpO1xyXG5cclxuICAgIGJ1aWxkZXIuc3RvcExhYmVscygpO1xyXG59KTtcclxuXHJcblNUQVRFTUVOVFMuYWRkKCd5aWVsZCcsIGZ1bmN0aW9uKHRoaXM6IHVuZGVmaW5lZCwgc2V4cDogV2lyZUZvcm1hdC5TdGF0ZW1lbnRzLllpZWxkLCBidWlsZGVyKSB7XHJcbiAgbGV0IFssIHRvLCBwYXJhbXNdID0gc2V4cDtcclxuXHJcbiAgbGV0IGFyZ3MgPSBjb21waWxlQXJncyhwYXJhbXMsIG51bGwsIGJ1aWxkZXIpO1xyXG4gIGJ1aWxkZXIueWllbGQoYXJncywgdG8pO1xyXG59KTtcclxuXHJcblNUQVRFTUVOVFMuYWRkKCdkZWJ1Z2dlcicsIChzZXhwOiBCYXNlbGluZVN5bnRheC5EZWJ1Z2dlciwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikgPT4ge1xyXG5cclxuICBidWlsZGVyLnB1dFZhbHVlKFsnZnVuY3Rpb24nLCAodm06IFZNKSA9PiB7XHJcbiAgICBsZXQgY29udGV4dCA9IHZtLmdldFNlbGYoKS52YWx1ZSgpO1xyXG4gICAgbGV0IGdldCA9IChwYXRoOiBzdHJpbmcpID0+IHtcclxuICAgICAgcmV0dXJuIGdldHRlcih2bSwgYnVpbGRlcikocGF0aCkudmFsdWUoKTtcclxuICAgIH07XHJcbiAgICBjYWxsYmFjayhjb250ZXh0LCBnZXQpO1xyXG4gIH1dKTtcclxuXHJcbiAgcmV0dXJuIHNleHA7XHJcbn0pO1xyXG5cclxubGV0IEVYUFJFU1NJT05TID0gbmV3IENvbXBpbGVyczxTZXhwRXhwcmVzc2lvbiwgQ29tcGlsZWRFeHByZXNzaW9uPE9wYXF1ZT4+KCk7XHJcblxyXG5pbXBvcnQgRSA9IFdpcmVGb3JtYXQuRXhwcmVzc2lvbnM7XHJcbmltcG9ydCBDID0gV2lyZUZvcm1hdC5Db3JlO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cHIoZXhwcmVzc2lvbjogQmFzZWxpbmVTeW50YXguQW55RXhwcmVzc2lvbiwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcik6IENvbXBpbGVkRXhwcmVzc2lvbjxPcGFxdWU+IHtcclxuICBpZiAoQXJyYXkuaXNBcnJheShleHByZXNzaW9uKSkge1xyXG4gICAgcmV0dXJuIEVYUFJFU1NJT05TLmNvbXBpbGUoZXhwcmVzc2lvbiwgYnVpbGRlcik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBuZXcgQ29tcGlsZWRWYWx1ZShleHByZXNzaW9uKTtcclxuICB9XHJcbn1cclxuXHJcbkVYUFJFU1NJT05TLmFkZCgndW5rbm93bicsIChzZXhwOiBFLlVua25vd24sIGJ1aWxkZXI6IE9wY29kZUJ1aWxkZXIpID0+IHtcclxuICBsZXQgcGF0aCA9IHNleHBbMV07XHJcblxyXG4gIGlmIChidWlsZGVyLmVudi5oYXNIZWxwZXIocGF0aCwgYnVpbGRlci5zeW1ib2xUYWJsZSkpIHtcclxuICAgIHJldHVybiBuZXcgQ29tcGlsZWRIZWxwZXIocGF0aCwgYnVpbGRlci5lbnYubG9va3VwSGVscGVyKHBhdGgsIGJ1aWxkZXIuc3ltYm9sVGFibGUpLCBDb21waWxlZEFyZ3MuZW1wdHkoKSwgYnVpbGRlci5zeW1ib2xUYWJsZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBjb21waWxlUmVmKHBhdGgsIGJ1aWxkZXIpO1xyXG4gIH1cclxufSk7XHJcblxyXG5FWFBSRVNTSU9OUy5hZGQoJ2NvbmNhdCcsICgoc2V4cDogRS5Db25jYXQsIGJ1aWxkZXI6IE9wY29kZUJ1aWxkZXIpID0+IHtcclxuICBsZXQgcGFyYW1zID0gc2V4cFsxXS5tYXAocCA9PiBleHByKHAsIGJ1aWxkZXIpKTtcclxuICByZXR1cm4gbmV3IENvbXBpbGVkQ29uY2F0KHBhcmFtcyk7XHJcbn0pIGFzIGFueSk7XHJcblxyXG5FWFBSRVNTSU9OUy5hZGQoJ2Z1bmN0aW9uJywgKHNleHA6IEJhc2VsaW5lU3ludGF4LkZ1bmN0aW9uRXhwcmVzc2lvbiwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikgPT4ge1xyXG4gIHJldHVybiBuZXcgQ29tcGlsZWRGdW5jdGlvbkV4cHJlc3Npb24oc2V4cFsxXSwgYnVpbGRlci5zeW1ib2xUYWJsZSk7XHJcbn0pO1xyXG5cclxuRVhQUkVTU0lPTlMuYWRkKCdoZWxwZXInLCAoc2V4cDogRS5IZWxwZXIsIGJ1aWxkZXI6IE9wY29kZUJ1aWxkZXIpID0+IHtcclxuICBsZXQgeyBlbnYsIHN5bWJvbFRhYmxlIH0gPSBidWlsZGVyO1xyXG4gIGxldCBbLCBwYXRoLCBwYXJhbXMsIGhhc2hdID0gc2V4cDtcclxuXHJcbiAgaWYgKGVudi5oYXNIZWxwZXIocGF0aCwgc3ltYm9sVGFibGUpKSB7XHJcbiAgICBsZXQgYXJncyA9IGNvbXBpbGVBcmdzKHBhcmFtcywgaGFzaCwgYnVpbGRlcik7XHJcbiAgICByZXR1cm4gbmV3IENvbXBpbGVkSGVscGVyKHBhdGgsIGVudi5sb29rdXBIZWxwZXIocGF0aCwgc3ltYm9sVGFibGUpLCBhcmdzLCBzeW1ib2xUYWJsZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgQ29tcGlsZSBFcnJvcjogJHtwYXRoLmpvaW4oJy4nKX0gaXMgbm90IGEgaGVscGVyYCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbkVYUFJFU1NJT05TLmFkZCgnZ2V0JywgKHNleHA6IEUuR2V0LCBidWlsZGVyOiBPcGNvZGVCdWlsZGVyKSA9PiB7XHJcbiAgcmV0dXJuIGNvbXBpbGVSZWYoc2V4cFsxXSwgYnVpbGRlcik7XHJcbn0pO1xyXG5cclxuRVhQUkVTU0lPTlMuYWRkKCd1bmRlZmluZWQnLCAoX3NleHAsIF9idWlsZGVyKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBDb21waWxlZFZhbHVlKHVuZGVmaW5lZCk7XHJcbn0pO1xyXG5cclxuRVhQUkVTU0lPTlMuYWRkKCdhcmcnLCAoc2V4cDogRS5BcmcsIGJ1aWxkZXI6IE9wY29kZUJ1aWxkZXIpID0+IHtcclxuICBsZXQgWywgcGFydHNdID0gc2V4cDtcclxuICBsZXQgaGVhZCA9IHBhcnRzWzBdO1xyXG4gIGxldCBuYW1lZDogT3B0aW9uPG51bWJlcj4sIHBhcnRpYWw6IE9wdGlvbjxudW1iZXI+O1xyXG5cclxuICBpZiAobmFtZWQgPSBidWlsZGVyLnN5bWJvbFRhYmxlLmdldFN5bWJvbCgnbmFtZWQnLCBoZWFkKSkge1xyXG4gICAgbGV0IHBhdGggPSBwYXJ0cy5zbGljZSgxKTtcclxuICAgIGxldCBpbm5lciA9IG5ldyBDb21waWxlZFN5bWJvbChuYW1lZCwgaGVhZCk7XHJcbiAgICByZXR1cm4gQ29tcGlsZWRMb29rdXAuY3JlYXRlKGlubmVyLCBwYXRoKTtcclxuICB9IGVsc2UgaWYgKHBhcnRpYWwgPSBidWlsZGVyLnN5bWJvbFRhYmxlLmdldFBhcnRpYWxBcmdzKCkpIHtcclxuICAgIGxldCBwYXRoID0gcGFydHMuc2xpY2UoMSk7XHJcbiAgICBsZXQgaW5uZXIgPSBuZXcgQ29tcGlsZWRJblBhcnRpYWxOYW1lKHBhcnRpYWwsIGhlYWQpO1xyXG4gICAgcmV0dXJuIENvbXBpbGVkTG9va3VwLmNyZWF0ZShpbm5lciwgcGF0aCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgW0JVR10gQCR7cGFydHMuam9pbignLicpfSBpcyBub3QgYSB2YWxpZCBsb29rdXAgcGF0aC5gKTtcclxuICB9XHJcbn0pO1xyXG5cclxuRVhQUkVTU0lPTlMuYWRkKCdoYXMtYmxvY2snLCAoc2V4cDogRS5IYXNCbG9jaywgYnVpbGRlcikgPT4ge1xyXG4gIGxldCBibG9ja05hbWUgPSBzZXhwWzFdO1xyXG5cclxuICBsZXQgeWllbGRzOiBPcHRpb248bnVtYmVyPiwgcGFydGlhbDogT3B0aW9uPG51bWJlcj47XHJcblxyXG4gIGlmICh5aWVsZHMgPSBidWlsZGVyLnN5bWJvbFRhYmxlLmdldFN5bWJvbCgneWllbGRzJywgYmxvY2tOYW1lKSkge1xyXG4gICAgbGV0IGlubmVyID0gbmV3IENvbXBpbGVkR2V0QmxvY2tCeVN5bWJvbCh5aWVsZHMsIGJsb2NrTmFtZSk7XHJcbiAgICByZXR1cm4gbmV3IENvbXBpbGVkSGFzQmxvY2soaW5uZXIpO1xyXG4gIH0gZWxzZSBpZiAocGFydGlhbCA9IGJ1aWxkZXIuc3ltYm9sVGFibGUuZ2V0UGFydGlhbEFyZ3MoKSkge1xyXG4gICAgbGV0IGlubmVyID0gbmV3IENvbXBpbGVkSW5QYXJ0aWFsR2V0QmxvY2socGFydGlhbCwgYmxvY2tOYW1lKTtcclxuICAgIHJldHVybiBuZXcgQ29tcGlsZWRIYXNCbG9jayhpbm5lcik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignW0JVR10gJHtibG9ja05hbWV9IGlzIG5vdCBhIHZhbGlkIGJsb2NrIG5hbWUuJyk7XHJcbiAgfVxyXG59KTtcclxuXHJcbkVYUFJFU1NJT05TLmFkZCgnaGFzLWJsb2NrLXBhcmFtcycsIChzZXhwOiBFLkhhc0Jsb2NrUGFyYW1zLCBidWlsZGVyKSA9PiB7XHJcbiAgbGV0IGJsb2NrTmFtZSA9IHNleHBbMV07XHJcbiAgbGV0IHlpZWxkczogT3B0aW9uPG51bWJlcj4sIHBhcnRpYWw6IE9wdGlvbjxudW1iZXI+O1xyXG5cclxuICBpZiAoeWllbGRzID0gYnVpbGRlci5zeW1ib2xUYWJsZS5nZXRTeW1ib2woJ3lpZWxkcycsIGJsb2NrTmFtZSkpIHtcclxuICAgIGxldCBpbm5lciA9IG5ldyBDb21waWxlZEdldEJsb2NrQnlTeW1ib2woeWllbGRzLCBibG9ja05hbWUpO1xyXG4gICAgcmV0dXJuIG5ldyBDb21waWxlZEhhc0Jsb2NrUGFyYW1zKGlubmVyKTtcclxuICB9IGVsc2UgaWYgKHBhcnRpYWwgPSBidWlsZGVyLnN5bWJvbFRhYmxlLmdldFBhcnRpYWxBcmdzKCkpIHtcclxuICAgIGxldCBpbm5lciA9IG5ldyBDb21waWxlZEluUGFydGlhbEdldEJsb2NrKHBhcnRpYWwsIGJsb2NrTmFtZSk7XHJcbiAgICByZXR1cm4gbmV3IENvbXBpbGVkSGFzQmxvY2tQYXJhbXMoaW5uZXIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCVUddICR7YmxvY2tOYW1lfSBpcyBub3QgYSB2YWxpZCBibG9jayBuYW1lLicpO1xyXG4gIH1cclxuXHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBpbGVBcmdzKHBhcmFtczogT3B0aW9uPFdpcmVGb3JtYXQuQ29yZS5QYXJhbXM+LCBoYXNoOiBPcHRpb248V2lyZUZvcm1hdC5Db3JlLkhhc2g+LCBidWlsZGVyOiBPcGNvZGVCdWlsZGVyKTogQ29tcGlsZWRBcmdzIHtcclxuICBsZXQgY29tcGlsZWRQYXJhbXMgPSBjb21waWxlUGFyYW1zKHBhcmFtcywgYnVpbGRlcik7XHJcbiAgbGV0IGNvbXBpbGVkSGFzaCA9IGNvbXBpbGVIYXNoKGhhc2gsIGJ1aWxkZXIpO1xyXG4gIHJldHVybiBDb21waWxlZEFyZ3MuY3JlYXRlKGNvbXBpbGVkUGFyYW1zLCBjb21waWxlZEhhc2gsIEVNUFRZX0JMT0NLUyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb21waWxlQmxvY2tBcmdzKHBhcmFtczogT3B0aW9uPFdpcmVGb3JtYXQuQ29yZS5QYXJhbXM+LCBoYXNoOiBPcHRpb248V2lyZUZvcm1hdC5Db3JlLkhhc2g+LCBibG9ja3M6IEJsb2Nrc1N5bnRheCwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcik6IENvbXBpbGVkQXJncyB7XHJcbiAgbGV0IGNvbXBpbGVkUGFyYW1zID0gY29tcGlsZVBhcmFtcyhwYXJhbXMsIGJ1aWxkZXIpO1xyXG4gIGxldCBjb21waWxlZEhhc2ggPSBjb21waWxlSGFzaChoYXNoLCBidWlsZGVyKTtcclxuICByZXR1cm4gQ29tcGlsZWRBcmdzLmNyZWF0ZShjb21waWxlZFBhcmFtcywgY29tcGlsZWRIYXNoLCBibG9ja3MpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29tcGlsZUJhc2VsaW5lQXJncyhhcmdzOiBCYXNlbGluZVN5bnRheC5BcmdzLCBidWlsZGVyOiBPcGNvZGVCdWlsZGVyKTogQ29tcGlsZWRBcmdzIHtcclxuICBsZXQgW3BhcmFtcywgaGFzaCwgX2RlZmF1bHQsIGludmVyc2VdID0gYXJncztcclxuICByZXR1cm4gQ29tcGlsZWRBcmdzLmNyZWF0ZShjb21waWxlUGFyYW1zKHBhcmFtcywgYnVpbGRlciksIGNvbXBpbGVIYXNoKGhhc2gsIGJ1aWxkZXIpLCB7IGRlZmF1bHQ6IF9kZWZhdWx0LCBpbnZlcnNlIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21waWxlUGFyYW1zKHBhcmFtczogT3B0aW9uPFdpcmVGb3JtYXQuQ29yZS5QYXJhbXM+LCBidWlsZGVyOiBPcGNvZGVCdWlsZGVyKTogQ29tcGlsZWRQb3NpdGlvbmFsQXJncyB7XHJcbiAgaWYgKCFwYXJhbXMgfHwgcGFyYW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIENPTVBJTEVEX0VNUFRZX1BPU0lUSU9OQUxfQVJHUztcclxuICBsZXQgY29tcGlsZWQgPSBwYXJhbXMubWFwKHAgPT4gZXhwcihwLCBidWlsZGVyKSk7XHJcbiAgcmV0dXJuIENvbXBpbGVkUG9zaXRpb25hbEFyZ3MuY3JlYXRlKGNvbXBpbGVkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29tcGlsZUhhc2goaGFzaDogT3B0aW9uPFdpcmVGb3JtYXQuQ29yZS5IYXNoPiwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcik6IENvbXBpbGVkTmFtZWRBcmdzIHtcclxuICBpZiAoIWhhc2gpIHJldHVybiBDT01QSUxFRF9FTVBUWV9OQU1FRF9BUkdTO1xyXG4gIGxldCBba2V5cywgdmFsdWVzXSA9IGhhc2g7XHJcbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSByZXR1cm4gQ09NUElMRURfRU1QVFlfTkFNRURfQVJHUztcclxuXHJcbiAgbGV0IGNvbXBpbGVkID0gdmFsdWVzLm1hcChwID0+IGV4cHIocCwgYnVpbGRlcikpO1xyXG4gIHJldHVybiBuZXcgQ29tcGlsZWROYW1lZEFyZ3Moa2V5cywgY29tcGlsZWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21waWxlUmVmKHBhcnRzOiBzdHJpbmdbXSwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikge1xyXG4gIGxldCBoZWFkID0gcGFydHNbMF07XHJcbiAgbGV0IGxvY2FsOiBPcHRpb248bnVtYmVyPjtcclxuXHJcbiAgaWYgKGhlYWQgPT09IG51bGwpIHsgLy8ge3t0aGlzLmZvb319XHJcbiAgICBsZXQgaW5uZXIgPSBuZXcgQ29tcGlsZWRTZWxmKCk7XHJcbiAgICBsZXQgcGF0aCA9IHBhcnRzLnNsaWNlKDEpIGFzIHN0cmluZ1tdO1xyXG4gICAgcmV0dXJuIENvbXBpbGVkTG9va3VwLmNyZWF0ZShpbm5lciwgcGF0aCk7XHJcbiAgfSBlbHNlIGlmIChsb2NhbCA9IGJ1aWxkZXIuc3ltYm9sVGFibGUuZ2V0U3ltYm9sKCdsb2NhbCcsIGhlYWQpKSB7XHJcbiAgICBsZXQgcGF0aCA9IHBhcnRzLnNsaWNlKDEpIGFzIHN0cmluZ1tdO1xyXG4gICAgbGV0IGlubmVyID0gbmV3IENvbXBpbGVkU3ltYm9sKGxvY2FsLCBoZWFkKTtcclxuICAgIHJldHVybiBDb21waWxlZExvb2t1cC5jcmVhdGUoaW5uZXIsIHBhdGgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsZXQgaW5uZXIgPSBuZXcgQ29tcGlsZWRTZWxmKCk7XHJcbiAgICByZXR1cm4gQ29tcGlsZWRMb29rdXAuY3JlYXRlKGlubmVyLCBwYXJ0cyBhcyBzdHJpbmdbXSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBOZXN0ZWRCbG9ja1N5bnRheCA9IEJhc2VsaW5lU3ludGF4Lk5lc3RlZEJsb2NrO1xyXG5leHBvcnQgdHlwZSBDb21waWxlQmxvY2tNYWNybyA9IChzZXhwOiBOZXN0ZWRCbG9ja1N5bnRheCwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBCbG9ja3Mge1xyXG4gIHByaXZhdGUgbmFtZXMgPSBkaWN0PG51bWJlcj4oKTtcclxuICBwcml2YXRlIGZ1bmNzOiBDb21waWxlQmxvY2tNYWNyb1tdID0gW107XHJcbiAgcHJpdmF0ZSBtaXNzaW5nOiBDb21waWxlQmxvY2tNYWNybztcclxuXHJcbiAgYWRkKG5hbWU6IHN0cmluZywgZnVuYzogQ29tcGlsZUJsb2NrTWFjcm8pIHtcclxuICAgIHRoaXMuZnVuY3MucHVzaChmdW5jKTtcclxuICAgIHRoaXMubmFtZXNbbmFtZV0gPSB0aGlzLmZ1bmNzLmxlbmd0aCAtIDE7XHJcbiAgfVxyXG5cclxuICBhZGRNaXNzaW5nKGZ1bmM6IENvbXBpbGVCbG9ja01hY3JvKSB7XHJcbiAgICB0aGlzLm1pc3NpbmcgPSBmdW5jO1xyXG4gIH1cclxuXHJcbiAgY29tcGlsZShzZXhwOiBCYXNlbGluZVN5bnRheC5OZXN0ZWRCbG9jaywgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcik6IHZvaWQge1xyXG4gICAgLy8gYXNzZXJ0KHNleHBbMV0ubGVuZ3RoID09PSAxLCAncGF0aHMgaW4gYmxvY2tzIGFyZSBub3Qgc3VwcG9ydGVkJyk7XHJcblxyXG4gICAgbGV0IG5hbWU6IHN0cmluZyA9IHNleHBbMV1bMF07XHJcbiAgICBsZXQgaW5kZXggPSB0aGlzLm5hbWVzW25hbWVdO1xyXG5cclxuICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGFzc2VydCghIXRoaXMubWlzc2luZywgYCR7bmFtZX0gbm90IGZvdW5kLCBhbmQgbm8gY2F0Y2gtYWxsIGJsb2NrIGhhbmRsZXIgd2FzIHJlZ2lzdGVyZWRgKTtcclxuICAgICAgbGV0IGZ1bmMgPSB0aGlzLm1pc3Npbmc7XHJcbiAgICAgIGxldCBoYW5kbGVkID0gZnVuYyhzZXhwLCBidWlsZGVyKTtcclxuICAgICAgYXNzZXJ0KCEhaGFuZGxlZCwgYCR7bmFtZX0gbm90IGZvdW5kLCBhbmQgdGhlIGNhdGNoLWFsbCBibG9jayBoYW5kbGVyIGRpZG4ndCBoYW5kbGUgaXRgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBmdW5jID0gdGhpcy5mdW5jc1tpbmRleF07XHJcbiAgICAgIGZ1bmMoc2V4cCwgYnVpbGRlcik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQkxPQ0tTID0gbmV3IEJsb2NrcygpO1xyXG5cclxuZXhwb3J0IHR5cGUgQXBwZW5kU3ludGF4ID0gQmFzZWxpbmVTeW50YXguT3B0aW1pemVkQXBwZW5kIHwgQmFzZWxpbmVTeW50YXguVW5vcHRpbWl6ZWRBcHBlbmQ7XHJcbmV4cG9ydCB0eXBlIEFwcGVuZE1hY3JvID0gKHBhdGg6IEMuUGF0aCwgcGFyYW1zOiBPcHRpb248Qy5QYXJhbXM+LCBoYXNoOiBPcHRpb248Qy5IYXNoPiwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikgPT4gWydleHByJywgQmFzZWxpbmVTeW50YXguQW55RXhwcmVzc2lvbl0gfCB0cnVlIHwgZmFsc2U7XHJcblxyXG5leHBvcnQgY2xhc3MgSW5saW5lcyB7XHJcbiAgcHJpdmF0ZSBuYW1lcyA9IGRpY3Q8bnVtYmVyPigpO1xyXG4gIHByaXZhdGUgZnVuY3M6IEFwcGVuZE1hY3JvW10gPSBbXTtcclxuICBwcml2YXRlIG1pc3Npbmc6IEFwcGVuZE1hY3JvO1xyXG5cclxuICBhZGQobmFtZTogc3RyaW5nLCBmdW5jOiBBcHBlbmRNYWNybykge1xyXG4gICAgdGhpcy5mdW5jcy5wdXNoKGZ1bmMpO1xyXG4gICAgdGhpcy5uYW1lc1tuYW1lXSA9IHRoaXMuZnVuY3MubGVuZ3RoIC0gMTtcclxuICB9XHJcblxyXG4gIGFkZE1pc3NpbmcoZnVuYzogQXBwZW5kTWFjcm8pIHtcclxuICAgIHRoaXMubWlzc2luZyA9IGZ1bmM7XHJcbiAgfVxyXG5cclxuICBjb21waWxlKHNleHA6IEFwcGVuZFN5bnRheCwgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcik6IFsnZXhwcicsIEJhc2VsaW5lU3ludGF4LkFueUV4cHJlc3Npb25dIHwgdHJ1ZSB7XHJcbiAgICBsZXQgdmFsdWUgPSBzZXhwWzFdO1xyXG5cclxuICAgIC8vIFRPRE86IEZpeCB0aGlzIHNvIHRoYXQgZXhwcmVzc2lvbiBtYWNyb3MgY2FuIHJldHVyblxyXG4gICAgLy8gdGhpbmdzIGxpa2UgY29tcG9uZW50cywgc28gdGhhdCB7e2NvbXBvbmVudCBmb299fVxyXG4gICAgLy8gaXMgdGhlIHNhbWUgYXMge3soY29tcG9uZW50IGZvbyl9fVxyXG5cclxuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiBbJ2V4cHInLCB2YWx1ZV07XHJcblxyXG4gICAgbGV0IHBhdGg6IEMuUGF0aDtcclxuICAgIGxldCBwYXJhbXM6IE9wdGlvbjxDLlBhcmFtcz47XHJcbiAgICBsZXQgaGFzaDogT3B0aW9uPEMuSGFzaD47XHJcblxyXG4gICAgaWYgKHZhbHVlWzBdID09PSAnaGVscGVyJykge1xyXG4gICAgICBwYXRoID0gdmFsdWVbMV07XHJcbiAgICAgIHBhcmFtcyA9IHZhbHVlWzJdO1xyXG4gICAgICBoYXNoID0gdmFsdWVbM107XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlWzBdID09PSAndW5rbm93bicpIHtcclxuICAgICAgcGF0aCA9IHZhbHVlWzFdO1xyXG4gICAgICBwYXJhbXMgPSBoYXNoID0gbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBbJ2V4cHInLCB2YWx1ZV07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBhdGgubGVuZ3RoID4gMSAmJiAhcGFyYW1zICYmICFoYXNoKSB7XHJcbiAgICAgIHJldHVybiBbJ2V4cHInLCB2YWx1ZV07XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG5hbWUgPSBwYXRoWzBdO1xyXG4gICAgbGV0IGluZGV4ID0gdGhpcy5uYW1lc1tuYW1lXTtcclxuXHJcbiAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCAmJiB0aGlzLm1pc3NpbmcpIHtcclxuICAgICAgbGV0IGZ1bmMgPSB0aGlzLm1pc3Npbmc7XHJcbiAgICAgIGxldCByZXR1cm5lZCA9IGZ1bmMocGF0aCwgcGFyYW1zLCBoYXNoLCBidWlsZGVyKTtcclxuICAgICAgcmV0dXJuIHJldHVybmVkID09PSBmYWxzZSA/IFsnZXhwcicsIHZhbHVlXSA6IHJldHVybmVkO1xyXG4gICAgfSBlbHNlIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGxldCBmdW5jID0gdGhpcy5mdW5jc1tpbmRleF07XHJcbiAgICAgIGxldCByZXR1cm5lZCA9IGZ1bmMocGF0aCwgcGFyYW1zLCBoYXNoLCBidWlsZGVyKTtcclxuICAgICAgcmV0dXJuIHJldHVybmVkID09PSBmYWxzZSA/IFsnZXhwcicsIHZhbHVlXSA6IHJldHVybmVkO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFsnZXhwcicsIHZhbHVlXTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBJTkxJTkVTID0gbmV3IElubGluZXMoKTtcclxuXHJcbnBvcHVsYXRlQnVpbHRpbnMoQkxPQ0tTLCBJTkxJTkVTKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwb3B1bGF0ZUJ1aWx0aW5zKGJsb2NrczogQmxvY2tzID0gbmV3IEJsb2NrcygpLCBpbmxpbmVzOiBJbmxpbmVzID0gbmV3IElubGluZXMoKSk6IHsgYmxvY2tzOiBCbG9ja3MsIGlubGluZXM6IElubGluZXMgfSB7XHJcbiAgYmxvY2tzLmFkZCgnaWYnLCAoc2V4cDogQmFzZWxpbmVTeW50YXguTmVzdGVkQmxvY2ssIGJ1aWxkZXI6IE9wY29kZUJ1aWxkZXIpID0+IHtcclxuICAgIC8vICAgICAgICBQdXRBcmdzXHJcbiAgICAvLyAgICAgICAgVGVzdChFbnZpcm9ubWVudClcclxuICAgIC8vICAgICAgICBFbnRlcihCRUdJTiwgRU5EKVxyXG4gICAgLy8gQkVHSU46IE5vb3BcclxuICAgIC8vICAgICAgICBKdW1wVW5sZXNzKEVMU0UpXHJcbiAgICAvLyAgICAgICAgRXZhbHVhdGUoZGVmYXVsdClcclxuICAgIC8vICAgICAgICBKdW1wKEVORClcclxuICAgIC8vIEVMU0U6ICBOb29wXHJcbiAgICAvLyAgICAgICAgRXZhbHVsYXRlKGludmVyc2UpXHJcbiAgICAvLyBFTkQ6ICAgTm9vcFxyXG4gICAgLy8gICAgICAgIEV4aXRcclxuXHJcbiAgICBsZXQgWywsIHBhcmFtcywgaGFzaCwgX2RlZmF1bHQsIGludmVyc2VdID0gc2V4cDtcclxuICAgIGxldCBhcmdzID0gY29tcGlsZUFyZ3MocGFyYW1zLCBoYXNoLCBidWlsZGVyKTtcclxuXHJcbiAgICBidWlsZGVyLnB1dEFyZ3MoYXJncyk7XHJcbiAgICBidWlsZGVyLnRlc3QoJ2Vudmlyb25tZW50Jyk7XHJcblxyXG4gICAgYnVpbGRlci5sYWJlbGxlZChudWxsLCBiID0+IHtcclxuICAgICAgaWYgKF9kZWZhdWx0ICYmIGludmVyc2UpIHtcclxuICAgICAgICBiLmp1bXBVbmxlc3MoJ0VMU0UnKTtcclxuICAgICAgICBiLmV2YWx1YXRlKF9kZWZhdWx0KTtcclxuICAgICAgICBiLmp1bXAoJ0VORCcpO1xyXG4gICAgICAgIGIubGFiZWwoJ0VMU0UnKTtcclxuICAgICAgICBiLmV2YWx1YXRlKGludmVyc2UpO1xyXG4gICAgICB9IGVsc2UgaWYgKF9kZWZhdWx0KSB7XHJcbiAgICAgICAgYi5qdW1wVW5sZXNzKCdFTkQnKTtcclxuICAgICAgICBiLmV2YWx1YXRlKF9kZWZhdWx0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyB1bnJlYWNoYWJsZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgYmxvY2tzLmFkZCgndW5sZXNzJywgKHNleHA6IEJhc2VsaW5lU3ludGF4Lk5lc3RlZEJsb2NrLCBidWlsZGVyOiBPcGNvZGVCdWlsZGVyKSA9PiB7XHJcbiAgICAvLyAgICAgICAgUHV0QXJnc1xyXG4gICAgLy8gICAgICAgIFRlc3QoRW52aXJvbm1lbnQpXHJcbiAgICAvLyAgICAgICAgRW50ZXIoQkVHSU4sIEVORClcclxuICAgIC8vIEJFR0lOOiBOb29wXHJcbiAgICAvLyAgICAgICAgSnVtcFVubGVzcyhFTFNFKVxyXG4gICAgLy8gICAgICAgIEV2YWx1YXRlKGRlZmF1bHQpXHJcbiAgICAvLyAgICAgICAgSnVtcChFTkQpXHJcbiAgICAvLyBFTFNFOiAgTm9vcFxyXG4gICAgLy8gICAgICAgIEV2YWx1bGF0ZShpbnZlcnNlKVxyXG4gICAgLy8gRU5EOiAgIE5vb3BcclxuICAgIC8vICAgICAgICBFeGl0XHJcblxyXG4gICAgbGV0IFssLCBwYXJhbXMsIGhhc2gsIF9kZWZhdWx0LCBpbnZlcnNlXSA9IHNleHA7XHJcbiAgICBsZXQgYXJncyA9IGNvbXBpbGVBcmdzKHBhcmFtcywgaGFzaCwgYnVpbGRlcik7XHJcblxyXG4gICAgYnVpbGRlci5wdXRBcmdzKGFyZ3MpO1xyXG4gICAgYnVpbGRlci50ZXN0KCdlbnZpcm9ubWVudCcpO1xyXG5cclxuICAgIGJ1aWxkZXIubGFiZWxsZWQobnVsbCwgYiA9PiB7XHJcbiAgICAgIGlmIChfZGVmYXVsdCAmJiBpbnZlcnNlKSB7XHJcbiAgICAgICAgYi5qdW1wSWYoJ0VMU0UnKTtcclxuICAgICAgICBiLmV2YWx1YXRlKF9kZWZhdWx0KTtcclxuICAgICAgICBiLmp1bXAoJ0VORCcpO1xyXG4gICAgICAgIGIubGFiZWwoJ0VMU0UnKTtcclxuICAgICAgICBiLmV2YWx1YXRlKCBpbnZlcnNlKTtcclxuICAgICAgfSBlbHNlIGlmIChfZGVmYXVsdCkge1xyXG4gICAgICAgIGIuanVtcElmKCdFTkQnKTtcclxuICAgICAgICBiLmV2YWx1YXRlKF9kZWZhdWx0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyB1bnJlYWNoYWJsZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgYmxvY2tzLmFkZCgnd2l0aCcsIChzZXhwOiBCYXNlbGluZVN5bnRheC5OZXN0ZWRCbG9jaywgYnVpbGRlcjogT3Bjb2RlQnVpbGRlcikgPT4ge1xyXG4gICAgLy8gICAgICAgIFB1dEFyZ3NcclxuICAgIC8vICAgICAgICBUZXN0KEVudmlyb25tZW50KVxyXG4gICAgLy8gICAgICAgIEVudGVyKEJFR0lOLCBFTkQpXHJcbiAgICAvLyBCRUdJTjogTm9vcFxyXG4gICAgLy8gICAgICAgIEp1bXBVbmxlc3MoRUxTRSlcclxuICAgIC8vICAgICAgICBFdmFsdWF0ZShkZWZhdWx0KVxyXG4gICAgLy8gICAgICAgIEp1bXAoRU5EKVxyXG4gICAgLy8gRUxTRTogIE5vb3BcclxuICAgIC8vICAgICAgICBFdmFsdWxhdGUoaW52ZXJzZSlcclxuICAgIC8vIEVORDogICBOb29wXHJcbiAgICAvLyAgICAgICAgRXhpdFxyXG5cclxuICAgIGxldCBbLCwgcGFyYW1zLCBoYXNoLCBfZGVmYXVsdCwgaW52ZXJzZV0gPSBzZXhwO1xyXG4gICAgbGV0IGFyZ3MgPSBjb21waWxlQXJncyhwYXJhbXMsIGhhc2gsIGJ1aWxkZXIpO1xyXG5cclxuICAgIGJ1aWxkZXIucHV0QXJncyhhcmdzKTtcclxuICAgIGJ1aWxkZXIudGVzdCgnZW52aXJvbm1lbnQnKTtcclxuXHJcbiAgICBidWlsZGVyLmxhYmVsbGVkKG51bGwsIGIgPT4ge1xyXG4gICAgICBpZiAoX2RlZmF1bHQgJiYgaW52ZXJzZSkge1xyXG4gICAgICAgIGIuanVtcFVubGVzcygnRUxTRScpO1xyXG4gICAgICAgIGIuZXZhbHVhdGUoX2RlZmF1bHQpO1xyXG4gICAgICAgIGIuanVtcCgnRU5EJyk7XHJcbiAgICAgICAgYi5sYWJlbCgnRUxTRScpO1xyXG4gICAgICAgIGIuZXZhbHVhdGUoaW52ZXJzZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoX2RlZmF1bHQpIHtcclxuICAgICAgICBiLmp1bXBVbmxlc3MoJ0VORCcpO1xyXG4gICAgICAgIGIuZXZhbHVhdGUoX2RlZmF1bHQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IHVucmVhY2hhYmxlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBibG9ja3MuYWRkKCdlYWNoJywgKHNleHA6IEJhc2VsaW5lU3ludGF4Lk5lc3RlZEJsb2NrLCBidWlsZGVyOiBPcGNvZGVCdWlsZGVyKSA9PiB7XHJcbiAgICAvLyAgICAgICAgIEVudGVyKEJFR0lOLCBFTkQpXHJcbiAgICAvLyBCRUdJTjogIE5vb3BcclxuICAgIC8vICAgICAgICAgUHV0QXJnc1xyXG4gICAgLy8gICAgICAgICBQdXRJdGVyYWJsZVxyXG4gICAgLy8gICAgICAgICBKdW1wVW5sZXNzKEVMU0UpXHJcbiAgICAvLyAgICAgICAgIEVudGVyTGlzdChCRUdJTjIsIEVORDIpXHJcbiAgICAvLyBJVEVSOiAgIE5vb3BcclxuICAgIC8vICAgICAgICAgTmV4dEl0ZXIoQlJFQUspXHJcbiAgICAvLyAgICAgICAgIEVudGVyV2l0aEtleShCRUdJTjIsIEVORDIpXHJcbiAgICAvLyBCRUdJTjI6IE5vb3BcclxuICAgIC8vICAgICAgICAgUHVzaENoaWxkU2NvcGVcclxuICAgIC8vICAgICAgICAgRXZhbHVhdGUoZGVmYXVsdClcclxuICAgIC8vICAgICAgICAgUG9wU2NvcGVcclxuICAgIC8vIEVORDI6ICAgTm9vcFxyXG4gICAgLy8gICAgICAgICBFeGl0XHJcbiAgICAvLyAgICAgICAgIEp1bXAoSVRFUilcclxuICAgIC8vIEJSRUFLOiAgTm9vcFxyXG4gICAgLy8gICAgICAgICBFeGl0TGlzdFxyXG4gICAgLy8gICAgICAgICBKdW1wKEVORClcclxuICAgIC8vIEVMU0U6ICAgTm9vcFxyXG4gICAgLy8gICAgICAgICBFdmFsdWxhdGUoaW52ZXJzZSlcclxuICAgIC8vIEVORDogICAgTm9vcFxyXG4gICAgLy8gICAgICAgICBFeGl0XHJcblxyXG4gICAgbGV0IFssLCBwYXJhbXMsIGhhc2gsIF9kZWZhdWx0LCBpbnZlcnNlXSA9IHNleHA7XHJcbiAgICBsZXQgYXJncyA9IGNvbXBpbGVBcmdzKHBhcmFtcywgaGFzaCwgYnVpbGRlcik7XHJcblxyXG4gICAgYnVpbGRlci5sYWJlbGxlZChhcmdzLCBiID0+IHtcclxuICAgICAgYi5wdXRJdGVyYXRvcigpO1xyXG5cclxuICAgICAgaWYgKGludmVyc2UpIHtcclxuICAgICAgICBiLmp1bXBVbmxlc3MoJ0VMU0UnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBiLmp1bXBVbmxlc3MoJ0VORCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBiLml0ZXIoYiA9PiB7XHJcbiAgICAgICAgYi5ldmFsdWF0ZSh1bndyYXAoX2RlZmF1bHQpKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoaW52ZXJzZSkge1xyXG4gICAgICAgIGIuanVtcCgnRU5EJyk7XHJcbiAgICAgICAgYi5sYWJlbCgnRUxTRScpO1xyXG4gICAgICAgIGIuZXZhbHVhdGUoaW52ZXJzZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4geyBibG9ja3MsIGlubGluZXMgfTtcclxufVxyXG4iXX0=