export function is(variant) {
    return function (value) {
        return value[0] === variant;
    };
}
export var Expressions;
(function (Expressions) {
    Expressions.isUnknown = is('unknown');
    Expressions.isArg = is('arg');
    Expressions.isGet = is('get');
    Expressions.isConcat = is('concat');
    Expressions.isHelper = is('helper');
    Expressions.isHasBlock = is('has-block');
    Expressions.isHasBlockParams = is('has-block-params');
    Expressions.isUndefined = is('undefined');
    function isPrimitiveValue(value) {
        if (value === null) {
            return true;
        }
        return typeof value !== 'object';
    }
    Expressions.isPrimitiveValue = isPrimitiveValue;
})(Expressions || (Expressions = {}));
export var Statements;
(function (Statements) {
    Statements.isText = is('text');
    Statements.isAppend = is('append');
    Statements.isComment = is('comment');
    Statements.isModifier = is('modifier');
    Statements.isBlock = is('block');
    Statements.isComponent = is('component');
    Statements.isOpenElement = is('open-element');
    Statements.isFlushElement = is('flush-element');
    Statements.isCloseElement = is('close-element');
    Statements.isStaticAttr = is('static-attr');
    Statements.isDynamicAttr = is('dynamic-attr');
    Statements.isYield = is('yield');
    Statements.isPartial = is('partial');
    Statements.isDynamicArg = is('dynamic-arg');
    Statements.isStaticArg = is('static-arg');
    Statements.isTrustingAttr = is('trusting-attr');
    Statements.isDebugger = is('debugger');
    function isAttribute(val) {
        return val[0] === 'static-attr' || val[0] === 'dynamic-attr';
    }
    Statements.isAttribute = isAttribute;
    function isArgument(val) {
        return val[0] === 'static-arg' || val[0] === 'dynamic-arg';
    }
    Statements.isArgument = isArgument;
    function isParameter(val) {
        return isAttribute(val) || isArgument(val);
    }
    Statements.isParameter = isParameter;
    function getParameterName(s) {
        return s[1];
    }
    Statements.getParameterName = getParameterName;
})(Statements || (Statements = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJAZ2xpbW1lci93aXJlLWZvcm1hdC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtQkEsTUFBTSxhQUE4QixPQUFlO0lBQ2pELE1BQU0sQ0FBQyxVQUFTLEtBQVk7UUFDMUIsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxPQUFPLENBQUM7SUFDOUIsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQVdELE1BQU0sS0FBVyxXQUFXLENBc0QzQjtBQXRERCxXQUFpQixXQUFXO0lBdUNiLHFCQUFTLEdBQVUsRUFBRSxDQUFVLFNBQVMsQ0FBQyxDQUFDO0lBQzFDLGlCQUFLLEdBQWMsRUFBRSxDQUFNLEtBQUssQ0FBQyxDQUFDO0lBQ2xDLGlCQUFLLEdBQWMsRUFBRSxDQUFNLEtBQUssQ0FBQyxDQUFDO0lBQ2xDLG9CQUFRLEdBQVcsRUFBRSxDQUFTLFFBQVEsQ0FBQyxDQUFDO0lBQ3hDLG9CQUFRLEdBQVcsRUFBRSxDQUFTLFFBQVEsQ0FBQyxDQUFDO0lBQ3hDLHNCQUFVLEdBQVMsRUFBRSxDQUFXLFdBQVcsQ0FBQyxDQUFDO0lBQzdDLDRCQUFnQixHQUFHLEVBQUUsQ0FBaUIsa0JBQWtCLENBQUMsQ0FBQztJQUMxRCx1QkFBVyxHQUFRLEVBQUUsQ0FBWSxXQUFXLENBQUMsQ0FBQztJQUUzRCwwQkFBaUMsS0FBVTtRQUN6QyxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNuQixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2QsQ0FBQztRQUNELE1BQU0sQ0FBQyxPQUFPLEtBQUssS0FBSyxRQUFRLENBQUM7SUFDbkMsQ0FBQztJQUxlLDRCQUFnQixtQkFLL0IsQ0FBQTtBQUNILENBQUMsRUF0RGdCLFdBQVcsS0FBWCxXQUFXLFFBc0QzQjtBQUlELE1BQU0sS0FBVyxVQUFVLENBeUYxQjtBQXpGRCxXQUFpQixVQUFVO0lBd0JaLGlCQUFNLEdBQVcsRUFBRSxDQUFPLE1BQU0sQ0FBQyxDQUFDO0lBQ2xDLG1CQUFRLEdBQVMsRUFBRSxDQUFTLFFBQVEsQ0FBQyxDQUFDO0lBQ3RDLG9CQUFTLEdBQVEsRUFBRSxDQUFVLFNBQVMsQ0FBQyxDQUFDO0lBQ3hDLHFCQUFVLEdBQU8sRUFBRSxDQUFXLFVBQVUsQ0FBQyxDQUFDO0lBQzFDLGtCQUFPLEdBQVUsRUFBRSxDQUFRLE9BQU8sQ0FBQyxDQUFDO0lBQ3BDLHNCQUFXLEdBQU0sRUFBRSxDQUFZLFdBQVcsQ0FBQyxDQUFDO0lBQzVDLHdCQUFhLEdBQUksRUFBRSxDQUFjLGNBQWMsQ0FBQyxDQUFDO0lBQ2pELHlCQUFjLEdBQUcsRUFBRSxDQUFlLGVBQWUsQ0FBQyxDQUFDO0lBQ25ELHlCQUFjLEdBQUcsRUFBRSxDQUFlLGVBQWUsQ0FBQyxDQUFDO0lBQ25ELHVCQUFZLEdBQUssRUFBRSxDQUFhLGFBQWEsQ0FBQyxDQUFDO0lBQy9DLHdCQUFhLEdBQUksRUFBRSxDQUFjLGNBQWMsQ0FBQyxDQUFDO0lBQ2pELGtCQUFPLEdBQVUsRUFBRSxDQUFRLE9BQU8sQ0FBQyxDQUFDO0lBQ3BDLG9CQUFTLEdBQVEsRUFBRSxDQUFVLFNBQVMsQ0FBQyxDQUFDO0lBQ3hDLHVCQUFZLEdBQUssRUFBRSxDQUFhLGFBQWEsQ0FBQyxDQUFDO0lBQy9DLHNCQUFXLEdBQU0sRUFBRSxDQUFZLFlBQVksQ0FBQyxDQUFDO0lBQzdDLHlCQUFjLEdBQUcsRUFBRSxDQUFlLGVBQWUsQ0FBQyxDQUFDO0lBQ25ELHFCQUFVLEdBQU8sRUFBRSxDQUFXLFVBQVUsQ0FBQyxDQUFDO0lBMkJ2RCxxQkFBNEIsR0FBYztRQUN4QyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLGFBQWEsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssY0FBYyxDQUFDO0lBQy9ELENBQUM7SUFGZSxzQkFBVyxjQUUxQixDQUFBO0lBT0Qsb0JBQTJCLEdBQWM7UUFDdkMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxZQUFZLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLGFBQWEsQ0FBQztJQUM3RCxDQUFDO0lBRmUscUJBQVUsYUFFekIsQ0FBQTtJQUlELHFCQUE0QixHQUFjO1FBQ3hDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFGZSxzQkFBVyxjQUUxQixDQUFBO0lBRUQsMEJBQWlDLENBQVk7UUFDM0MsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNkLENBQUM7SUFGZSwyQkFBZ0IsbUJBRS9CLENBQUE7QUFDSCxDQUFDLEVBekZnQixVQUFVLEtBQVYsVUFBVSxRQXlGMUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaWN0LCBPcHRpb24gfSBmcm9tICdAZ2xpbW1lci91dGlsJztcblxudHlwZSBKc29uVmFsdWUgPVxuICAgIHN0cmluZ1xuICB8IG51bWJlclxuICB8IGJvb2xlYW5cbiAgfCBKc29uT2JqZWN0XG4gIHwgSnNvbkFycmF5XG4gIDtcblxuaW50ZXJmYWNlIEpzb25PYmplY3QgZXh0ZW5kcyBEaWN0PEpzb25WYWx1ZT4ge31cbmludGVyZmFjZSBKc29uQXJyYXkgZXh0ZW5kcyBBcnJheTxKc29uVmFsdWU+IHt9XG5cbi8vIFRoaXMgZW50aXJlIGZpbGUgaXMgc2VyaWFsaXplZCB0byBkaXNrLCBzbyBhbGwgc3RyaW5nc1xuLy8gZW5kIHVwIGJlaW5nIGludGVybmVkLlxuZXhwb3J0IHR5cGUgc3RyID0gc3RyaW5nO1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVSZWZlcmVuY2UgPSBPcHRpb248U2VyaWFsaXplZEJsb2NrPjtcbmV4cG9ydCB0eXBlIFlpZWxkVG8gPSBzdHI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpczxUIGV4dGVuZHMgYW55W10+KHZhcmlhbnQ6IHN0cmluZyk6ICh2YWx1ZTogYW55W10pID0+IHZhbHVlIGlzIFQge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWU6IGFueVtdKTogdmFsdWUgaXMgVCB7XG4gICAgcmV0dXJuIHZhbHVlWzBdID09PSB2YXJpYW50O1xuICB9O1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIENvcmUge1xuICBleHBvcnQgdHlwZSBFeHByZXNzaW9uID0gRXhwcmVzc2lvbnMuRXhwcmVzc2lvbjtcblxuICBleHBvcnQgdHlwZSBQYXRoICAgICAgICAgID0gc3RyW107XG4gIGV4cG9ydCB0eXBlIFBhcmFtcyAgICAgICAgPSBFeHByZXNzaW9uW107XG4gIGV4cG9ydCB0eXBlIEhhc2ggICAgICAgICAgPSBPcHRpb248W3N0cltdLCBFeHByZXNzaW9uW11dPjtcbiAgZXhwb3J0IHR5cGUgQXJncyAgICAgICAgICA9IFtQYXJhbXMsIEhhc2hdO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEV4cHJlc3Npb25zIHtcbiAgZXhwb3J0IHR5cGUgUGF0aCA9IENvcmUuUGF0aDtcbiAgZXhwb3J0IHR5cGUgUGFyYW1zID0gQ29yZS5QYXJhbXM7XG4gIGV4cG9ydCB0eXBlIEhhc2ggPSBDb3JlLkhhc2g7XG5cbiAgZXhwb3J0IHR5cGUgVW5rbm93biAgICAgICAgPSBbJ3Vua25vd24nLCBQYXRoXTtcbiAgZXhwb3J0IHR5cGUgQXJnICAgICAgICAgICAgPSBbJ2FyZycsIFBhdGhdO1xuICBleHBvcnQgdHlwZSBHZXQgICAgICAgICAgICA9IFsnZ2V0JywgUGF0aF07XG4gIGV4cG9ydCB0eXBlIFZhbHVlICAgICAgICAgID0gc3RyIHwgbnVtYmVyIHwgYm9vbGVhbiB8IG51bGw7IC8vIHRzbGludDpkaXNhYmxlLWxpbmVcbiAgZXhwb3J0IHR5cGUgSGFzQmxvY2sgICAgICAgPSBbJ2hhcy1ibG9jaycsIHN0cl07XG4gIGV4cG9ydCB0eXBlIEhhc0Jsb2NrUGFyYW1zID0gWydoYXMtYmxvY2stcGFyYW1zJywgc3RyXTtcbiAgZXhwb3J0IHR5cGUgVW5kZWZpbmVkICAgICAgPSBbJ3VuZGVmaW5lZCddO1xuICBleHBvcnQgdHlwZSBDbGllbnRTaWRlICAgICA9IFsnZnVuY3Rpb24nLCBGdW5jdGlvbl07XG5cbiAgZXhwb3J0IHR5cGUgRXhwcmVzc2lvbiA9XG4gICAgICBVbmtub3duXG4gICAgfCBBcmdcbiAgICB8IEdldFxuICAgIHwgQ29uY2F0XG4gICAgfCBIYXNCbG9ja1xuICAgIHwgSGFzQmxvY2tQYXJhbXNcbiAgICB8IEhlbHBlclxuICAgIHwgVW5kZWZpbmVkXG4gICAgfCBWYWx1ZVxuICAgIHwgQ2xpZW50U2lkZVxuICAgIDtcblxuICBleHBvcnQgaW50ZXJmYWNlIENvbmNhdCBleHRlbmRzIEFycmF5PGFueT4ge1xuICAgIFswXTogJ2NvbmNhdCc7XG4gICAgWzFdOiBQYXJhbXM7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEhlbHBlciBleHRlbmRzIEFycmF5PGFueT4ge1xuICAgIFswXTogJ2hlbHBlcic7XG4gICAgWzFdOiBQYXRoO1xuICAgIFsyXTogUGFyYW1zO1xuICAgIFszXTogSGFzaDtcbiAgfVxuXG4gIGV4cG9ydCBjb25zdCBpc1Vua25vd24gICAgICAgID0gaXM8VW5rbm93bj4oJ3Vua25vd24nKTtcbiAgZXhwb3J0IGNvbnN0IGlzQXJnICAgICAgICAgICAgPSBpczxBcmc+KCdhcmcnKTtcbiAgZXhwb3J0IGNvbnN0IGlzR2V0ICAgICAgICAgICAgPSBpczxHZXQ+KCdnZXQnKTtcbiAgZXhwb3J0IGNvbnN0IGlzQ29uY2F0ICAgICAgICAgPSBpczxDb25jYXQ+KCdjb25jYXQnKTtcbiAgZXhwb3J0IGNvbnN0IGlzSGVscGVyICAgICAgICAgPSBpczxIZWxwZXI+KCdoZWxwZXInKTtcbiAgZXhwb3J0IGNvbnN0IGlzSGFzQmxvY2sgICAgICAgPSBpczxIYXNCbG9jaz4oJ2hhcy1ibG9jaycpO1xuICBleHBvcnQgY29uc3QgaXNIYXNCbG9ja1BhcmFtcyA9IGlzPEhhc0Jsb2NrUGFyYW1zPignaGFzLWJsb2NrLXBhcmFtcycpO1xuICBleHBvcnQgY29uc3QgaXNVbmRlZmluZWQgICAgICA9IGlzPFVuZGVmaW5lZD4oJ3VuZGVmaW5lZCcpO1xuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc1ByaW1pdGl2ZVZhbHVlKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBWYWx1ZSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCc7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgRXhwcmVzc2lvbiA9IEV4cHJlc3Npb25zLkV4cHJlc3Npb247XG5cbmV4cG9ydCBuYW1lc3BhY2UgU3RhdGVtZW50cyB7XG4gIGV4cG9ydCB0eXBlIEV4cHJlc3Npb24gPSBFeHByZXNzaW9ucy5FeHByZXNzaW9uO1xuICBleHBvcnQgdHlwZSBQYXJhbXMgPSBDb3JlLlBhcmFtcztcbiAgZXhwb3J0IHR5cGUgSGFzaCA9IENvcmUuSGFzaDtcbiAgZXhwb3J0IHR5cGUgUGF0aCA9IENvcmUuUGF0aDtcblxuICBleHBvcnQgdHlwZSBUZXh0ICAgICAgICAgID0gWyd0ZXh0Jywgc3RyXTtcbiAgZXhwb3J0IHR5cGUgQXBwZW5kICAgICAgICA9IFsnYXBwZW5kJywgRXhwcmVzc2lvbiwgYm9vbGVhbl07XG4gIGV4cG9ydCB0eXBlIENvbW1lbnQgICAgICAgPSBbJ2NvbW1lbnQnLCBzdHJdO1xuICBleHBvcnQgdHlwZSBNb2RpZmllciAgICAgID0gWydtb2RpZmllcicsIFBhdGgsIFBhcmFtcywgSGFzaF07XG4gIGV4cG9ydCB0eXBlIEJsb2NrICAgICAgICAgPSBbJ2Jsb2NrJywgUGF0aCwgUGFyYW1zLCBIYXNoLCBPcHRpb248U2VyaWFsaXplZEJsb2NrPiwgT3B0aW9uPFNlcmlhbGl6ZWRCbG9jaz5dO1xuICBleHBvcnQgdHlwZSBDb21wb25lbnQgICAgID0gWydjb21wb25lbnQnLCBzdHIsIFNlcmlhbGl6ZWRDb21wb25lbnRdO1xuICBleHBvcnQgdHlwZSBPcGVuRWxlbWVudCAgID0gWydvcGVuLWVsZW1lbnQnLCBzdHIsIHN0cltdXTtcbiAgZXhwb3J0IHR5cGUgRmx1c2hFbGVtZW50ICA9IFsnZmx1c2gtZWxlbWVudCddO1xuICBleHBvcnQgdHlwZSBDbG9zZUVsZW1lbnQgID0gWydjbG9zZS1lbGVtZW50J107XG4gIGV4cG9ydCB0eXBlIFN0YXRpY0F0dHIgICAgPSBbJ3N0YXRpYy1hdHRyJywgc3RyLCBFeHByZXNzaW9uLCBPcHRpb248c3RyPl07XG4gIGV4cG9ydCB0eXBlIER5bmFtaWNBdHRyICAgPSBbJ2R5bmFtaWMtYXR0cicsIHN0ciwgRXhwcmVzc2lvbiwgT3B0aW9uPHN0cj5dO1xuICBleHBvcnQgdHlwZSBZaWVsZCAgICAgICAgID0gWyd5aWVsZCcsIFlpZWxkVG8sIFBhcmFtc107XG4gIGV4cG9ydCB0eXBlIFBhcnRpYWwgICAgICAgPSBbJ3BhcnRpYWwnLCBFeHByZXNzaW9uXTtcbiAgZXhwb3J0IHR5cGUgRHluYW1pY0FyZyAgICA9IFsnZHluYW1pYy1hcmcnLCBzdHIsIEV4cHJlc3Npb25dO1xuICBleHBvcnQgdHlwZSBTdGF0aWNBcmcgICAgID0gWydzdGF0aWMtYXJnJywgc3RyLCBFeHByZXNzaW9uXTtcbiAgZXhwb3J0IHR5cGUgVHJ1c3RpbmdBdHRyICA9IFsndHJ1c3RpbmctYXR0cicsIHN0ciwgRXhwcmVzc2lvbiwgc3RyXTtcbiAgZXhwb3J0IHR5cGUgRGVidWdnZXIgICAgICA9IFsnZGVidWdnZXInXTtcblxuICBleHBvcnQgY29uc3QgaXNUZXh0ICAgICAgICAgPSBpczxUZXh0PigndGV4dCcpO1xuICBleHBvcnQgY29uc3QgaXNBcHBlbmQgICAgICAgPSBpczxBcHBlbmQ+KCdhcHBlbmQnKTtcbiAgZXhwb3J0IGNvbnN0IGlzQ29tbWVudCAgICAgID0gaXM8Q29tbWVudD4oJ2NvbW1lbnQnKTtcbiAgZXhwb3J0IGNvbnN0IGlzTW9kaWZpZXIgICAgID0gaXM8TW9kaWZpZXI+KCdtb2RpZmllcicpO1xuICBleHBvcnQgY29uc3QgaXNCbG9jayAgICAgICAgPSBpczxCbG9jaz4oJ2Jsb2NrJyk7XG4gIGV4cG9ydCBjb25zdCBpc0NvbXBvbmVudCAgICA9IGlzPENvbXBvbmVudD4oJ2NvbXBvbmVudCcpO1xuICBleHBvcnQgY29uc3QgaXNPcGVuRWxlbWVudCAgPSBpczxPcGVuRWxlbWVudD4oJ29wZW4tZWxlbWVudCcpO1xuICBleHBvcnQgY29uc3QgaXNGbHVzaEVsZW1lbnQgPSBpczxGbHVzaEVsZW1lbnQ+KCdmbHVzaC1lbGVtZW50Jyk7XG4gIGV4cG9ydCBjb25zdCBpc0Nsb3NlRWxlbWVudCA9IGlzPENsb3NlRWxlbWVudD4oJ2Nsb3NlLWVsZW1lbnQnKTtcbiAgZXhwb3J0IGNvbnN0IGlzU3RhdGljQXR0ciAgID0gaXM8U3RhdGljQXR0cj4oJ3N0YXRpYy1hdHRyJyk7XG4gIGV4cG9ydCBjb25zdCBpc0R5bmFtaWNBdHRyICA9IGlzPER5bmFtaWNBdHRyPignZHluYW1pYy1hdHRyJyk7XG4gIGV4cG9ydCBjb25zdCBpc1lpZWxkICAgICAgICA9IGlzPFlpZWxkPigneWllbGQnKTtcbiAgZXhwb3J0IGNvbnN0IGlzUGFydGlhbCAgICAgID0gaXM8UGFydGlhbD4oJ3BhcnRpYWwnKTtcbiAgZXhwb3J0IGNvbnN0IGlzRHluYW1pY0FyZyAgID0gaXM8RHluYW1pY0FyZz4oJ2R5bmFtaWMtYXJnJyk7XG4gIGV4cG9ydCBjb25zdCBpc1N0YXRpY0FyZyAgICA9IGlzPFN0YXRpY0FyZz4oJ3N0YXRpYy1hcmcnKTtcbiAgZXhwb3J0IGNvbnN0IGlzVHJ1c3RpbmdBdHRyID0gaXM8VHJ1c3RpbmdBdHRyPigndHJ1c3RpbmctYXR0cicpO1xuICBleHBvcnQgY29uc3QgaXNEZWJ1Z2dlciAgICAgPSBpczxEZWJ1Z2dlcj4oJ2RlYnVnZ2VyJyk7XG5cbiAgZXhwb3J0IHR5cGUgU3RhdGVtZW50ID1cbiAgICAgIFRleHRcbiAgICB8IEFwcGVuZFxuICAgIHwgQ29tbWVudFxuICAgIHwgTW9kaWZpZXJcbiAgICB8IEJsb2NrXG4gICAgfCBDb21wb25lbnRcbiAgICB8IE9wZW5FbGVtZW50XG4gICAgfCBGbHVzaEVsZW1lbnRcbiAgICB8IENsb3NlRWxlbWVudFxuICAgIHwgU3RhdGljQXR0clxuICAgIHwgRHluYW1pY0F0dHJcbiAgICB8IFlpZWxkXG4gICAgfCBQYXJ0aWFsXG4gICAgfCBTdGF0aWNBcmdcbiAgICB8IER5bmFtaWNBcmdcbiAgICB8IFRydXN0aW5nQXR0clxuICAgIHwgRGVidWdnZXJcbiAgICA7XG5cbiAgZXhwb3J0IHR5cGUgQXR0cmlidXRlID1cbiAgICAgIFN0YXRlbWVudHMuU3RhdGljQXR0clxuICAgIHwgU3RhdGVtZW50cy5EeW5hbWljQXR0clxuICAgIDtcblxuICBleHBvcnQgZnVuY3Rpb24gaXNBdHRyaWJ1dGUodmFsOiBTdGF0ZW1lbnQpOiB2YWwgaXMgQXR0cmlidXRlIHtcbiAgICByZXR1cm4gdmFsWzBdID09PSAnc3RhdGljLWF0dHInIHx8IHZhbFswXSA9PT0gJ2R5bmFtaWMtYXR0cic7XG4gIH1cblxuICBleHBvcnQgdHlwZSBBcmd1bWVudCA9XG4gICAgICBTdGF0ZW1lbnRzLlN0YXRpY0FyZ1xuICAgIHwgU3RhdGVtZW50cy5EeW5hbWljQXJnXG4gICAgO1xuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc0FyZ3VtZW50KHZhbDogU3RhdGVtZW50KTogdmFsIGlzIEFyZ3VtZW50IHtcbiAgICByZXR1cm4gdmFsWzBdID09PSAnc3RhdGljLWFyZycgfHwgdmFsWzBdID09PSAnZHluYW1pYy1hcmcnO1xuICB9XG5cbiAgZXhwb3J0IHR5cGUgUGFyYW1ldGVyID0gQXR0cmlidXRlIHwgQXJndW1lbnQ7XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGlzUGFyYW1ldGVyKHZhbDogU3RhdGVtZW50KTogdmFsIGlzIFBhcmFtZXRlciB7XG4gICAgcmV0dXJuIGlzQXR0cmlidXRlKHZhbCkgfHwgaXNBcmd1bWVudCh2YWwpO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmFtZXRlck5hbWUoczogUGFyYW1ldGVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc1sxXTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBTdGF0ZW1lbnQgPSBTdGF0ZW1lbnRzLlN0YXRlbWVudDtcblxuLyoqXG4gKiBBIEpTT04gb2JqZWN0IG9mIHN0YXRpYyBjb21waWxlIHRpbWUgbWV0YSBmb3IgdGhlIHRlbXBsYXRlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlTWV0YSB7XG4gIG1vZHVsZU5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQSBKU09OIG9iamVjdCB0aGF0IHRoZSBCbG9jayB3YXMgc2VyaWFsaXplZCBpbnRvLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbGl6ZWRCbG9jayB7XG4gIHN0YXRlbWVudHM6IFN0YXRlbWVudHMuU3RhdGVtZW50W107XG4gIGxvY2Fsczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXplZENvbXBvbmVudCBleHRlbmRzIFNlcmlhbGl6ZWRCbG9jayB7XG4gIGF0dHJzOiBTdGF0ZW1lbnRzLkF0dHJpYnV0ZVtdO1xuICBhcmdzOiBDb3JlLkhhc2g7XG59XG5cbi8qKlxuICogQSBKU09OIG9iamVjdCB0aGF0IHRoZSBjb21waWxlZCBUZW1wbGF0ZUJsb2NrIHdhcyBzZXJpYWxpemVkIGludG8uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXplZFRlbXBsYXRlQmxvY2sgZXh0ZW5kcyBTZXJpYWxpemVkQmxvY2sge1xuICBuYW1lZDogc3RyaW5nW107XG4gIHlpZWxkczogc3RyaW5nW107XG4gIGhhc1BhcnRpYWxzOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEEgSlNPTiBvYmplY3QgdGhhdCB0aGUgY29tcGlsZWQgVGVtcGxhdGUgd2FzIHNlcmlhbGl6ZWQgaW50by5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemVkVGVtcGxhdGU8VCBleHRlbmRzIFRlbXBsYXRlTWV0YT4ge1xuICBibG9jazogU2VyaWFsaXplZFRlbXBsYXRlQmxvY2s7XG4gIG1ldGE6IFQ7XG59XG5cbi8qKlxuICogQSBzdHJpbmcgb2YgSlNPTiBjb250YWluaW5nIGEgU2VyaWFsaXplZFRlbXBsYXRlQmxvY2tcbiAqIEB0eXBlZGVmIHtzdHJpbmd9IFNlcmlhbGl6ZWRUZW1wbGF0ZUJsb2NrSlNPTlxuICovXG5leHBvcnQgdHlwZSBTZXJpYWxpemVkVGVtcGxhdGVCbG9ja0pTT04gPSBzdHJpbmc7XG5cbi8qKlxuICogQSBKU09OIG9iamVjdCBjb250YWluaW5nIHRoZSBTZXJpYWxpemVkVGVtcGxhdGVCbG9jayBhcyBKU09OIGFuZCBUZW1wbGF0ZU1ldGEuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXplZFRlbXBsYXRlV2l0aExhenlCbG9jazxUIGV4dGVuZHMgVGVtcGxhdGVNZXRhPiB7XG4gIGlkPzogc3RyaW5nO1xuICBibG9jazogU2VyaWFsaXplZFRlbXBsYXRlQmxvY2tKU09OO1xuICBtZXRhOiBUO1xufVxuXG4vKipcbiAqIEEgc3RyaW5nIG9mIEphdmFzY3JpcHQgY29udGFpbmluZyBhIFNlcmlhbGl6ZWRUZW1wbGF0ZVdpdGhMYXp5QmxvY2sgdG8gYmVcbiAqIGNvbmNhdGVuYXRlZCBpbnRvIGEgSmF2YXNjcmlwdCBtb2R1bGUuXG4gKiBAdHlwZWRlZiB7c3RyaW5nfSBUZW1wbGF0ZUphdmFzY3JpcHRcbiAqL1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVKYXZhc2NyaXB0ID0gc3RyaW5nO1xuIl19